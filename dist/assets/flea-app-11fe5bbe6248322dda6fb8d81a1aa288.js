"use strict";define("flea-app/adapters/coordinates",["exports","ember","flea-app/config/environment","flea-app/models/coordinates-object"],function(e,t,n,r){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/coordinates";return this.get("ajax").request(t).then(function(e){return r.default.create({data:e.coordinates})})}})}),define("flea-app/adapters/copynumbers",["exports","ember","flea-app/config/environment"],function(e,t,n){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/copynumbers";return this.get("ajax").request(t).then(function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=parseInt(e[t]));return e})}})}),define("flea-app/adapters/dates",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(e,t,n,r){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/dates";return this.get("ajax").request(t).then(function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=(0,r.parse_date)(n);t[a]=e[n]}return t})}})}),define("flea-app/adapters/divergence",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(e,t,n,r){var a=t.default.Object.extend({date:null,divergence:null}),l=t.default.Object.extend({data:[],sortedDivergence:function(){var e=this.get("data");return e.sort(function(e,t){return e.date-t.date}),e}.property("data")});e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/divergence";return this.get("ajax").request(t).then(function(e){var t=[];delete e.readCount;for(var n in e)t.push(a.create({date:(0,r.parse_date)(n),divergence:e[n]}));return l.create({data:t})})}})}),define("flea-app/adapters/mds",["exports","ember","flea-app/config/environment"],function(e,t,n){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/manifold";return this.get("ajax").request(t).then(function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.push({name:n,x:r[0],y:r[1]})}return t})}})}),define("flea-app/adapters/neutralization",["exports","ember","flea-app/config/environment"],function(e,t,n){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/neutralization";return this.get("ajax").request(t).then(function(e){return e})}})}),define("flea-app/adapters/predefined-regions",["exports","ember","flea-app/config/environment"],function(e,t,n){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(){var e="/assets/predefined_regions.json";return this.get("ajax").request(e).then(function(e){for(var t=e.regions,n=0;n<t.length;n++)t[n].start-=1;return t})}})}),define("flea-app/adapters/rates",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(exports,_ember,_fleaAppConfigEnvironment,_fleaAppUtilsUtils){function positive_selection_positions(e){return e.map(function(e,t){return[t,e[2]]}).filter(function(e){return e[1]>=.95}).map(function(e){return e[0]})}var RateInfo=_ember.default.Object.extend({date:null,rates:null}),RatesObject=_ember.default.Object.extend({data:[],exists:!1,sortedRates:function(){var e=this.get("data"),t=e.filter(function(e){return"Combined"!==e.date}),n=e.filter(function(e){return"Combined"===e.date});return t.sort(function(e,t){return e.date-t.date}),t.splice(0,0,n[0]),t}.property("data.[]"),positiveSelection:function(){if(!this.get("exists"))return[[]];var e=this.get("sortedRates");return e.map(function(e){return positive_selection_positions(e.rates)})}.property("sortedRates")});exports.default=_ember.default.Object.extend({ajax:_ember.default.inject.service(),find:function find(session_id){var url=_fleaAppConfigEnvironment.default.apiURL+"sessions/"+session_id+"/rates";return this.get("ajax").request(url).then(function(result){var new_result=[];for(var key in result)if(result.hasOwnProperty(key)){var d=key,array=eval(result[key]);"Combined"!==key&&(d=(0,_fleaAppUtilsUtils.parse_date)(key)),new_result.push(RateInfo.create({date:d,rates:array}))}return RatesObject.create({data:new_result,exists:!0})},function(){return RatesObject.create()})}})}),define("flea-app/adapters/runinfo",["exports","ember","flea-app/config/environment"],function(e,t,n){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/runinfo";return this.get("ajax").request(t).then(function(e){return e},function(){return null})}})}),define("flea-app/adapters/sequences",["exports","ember","flea-app/config/environment","flea-app/utils/utils","flea-app/models/sequence-object","flea-app/models/sequences-object"],function(e,t,n,r,a,l){function o(e,t,n){return null!==t&&(t=(0,r.parse_date)(t)),a.default.create({id:e,date:t,sequence:n})}e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/sequences";return this.get("ajax").request(t).then(function(e){var t=[],n=[],r=null,a=null;for(var i in e)if(e.hasOwnProperty(i))if("MRCA"!==i)if("Reference"!==i){if("Ancestors"===i){var s=e.Ancestors;for(var d in s)if(s.hasOwnProperty(d)){var c=s[d],u=o(d,null,c);n.push(u)}}if("Observed"===i){var p=e.Observed;for(var m in p)if(p.hasOwnProperty(m)){var h=p[m];for(var d in h)if(h.hasOwnProperty(d)){var c=h[d],u=o(d,m,c);t.push(u)}}}else{var m=i;if(e[m].hasOwnProperty("Observed")){var h=e[m].Observed;for(var d in h)if(h.hasOwnProperty(d)){var c=h[d],u=o(d,m,c);t.push(u)}}}}else r=o("reference",null,e[i]);else a=o("mrca",null,e[i]);return l.default.create({reference:r,mrca:a,observed:t,ancestors:n})})}})}),define("flea-app/adapters/structure",["exports","ember","flea-app/config/environment"],function(e,t,n){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(){var e=n.default.apiURL+"pdbs/env_structure";return this.get("ajax").request(e).then(function(e){var t=pv.io.pdb(e.data.join("\n"));return t})}})}),define("flea-app/adapters/trajectory",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(e,t,n,r){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/rates_pheno";return this.get("ajax").request(t).then(function(e){return e.forEach(function(e){e.Date=(0,r.parse_date)(String(e.Date));for(var t in e)e.hasOwnProperty(t)&&"Segment"!==t&&"Date"!==t&&(e[t]=+e[t])}),e})}})}),define("flea-app/adapters/trees",["exports","ember","flea-app/config/environment"],function(e,t,n){e.default=t.default.Object.extend({ajax:t.default.inject.service(),find:function(e){var t=n.default.apiURL+"sessions/"+e+"/trees";return this.get("ajax").request(t).then(function(e){var t=_.get(e,"tree");if(t)return t;if(t=_.get(e,["Combined","all","Maximum Likelihood"]))return t;throw"missing tree"})}})}),define("flea-app/app",["exports","ember","flea-app/resolver","ember-load-initializers","flea-app/config/environment"],function(e,t,n,r,a){var l=void 0;t.default.MODEL_FACTORY_INJECTIONS=!0,l=t.default.Application.extend({modulePrefix:a.default.modulePrefix,podModulePrefix:a.default.podModulePrefix,Resolver:n.default}),(0,r.default)(l,a.default.modulePrefix),e.default=l}),define("flea-app/components/app-version",["exports","ember-cli-app-version/components/app-version","flea-app/config/environment"],function(e,t,n){var r=n.default.APP.name,a=n.default.APP.version;e.default=t.default.extend({version:a,name:r})}),define("flea-app/components/c3-chart",["exports","ember-c3/components/c3-chart"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("flea-app/components/x-option",["exports","emberx-select/components/x-option"],function(e,t){e.default=t.default}),define("flea-app/components/x-select",["exports","emberx-select/components/x-select"],function(e,t){e.default=t.default}),define("flea-app/helpers/amino-acid",["exports","ember"],function(e,t){e.default=t.default.Helper.helper(function(e,n){if(1!==e.length)throw"helper called without sequence";var r=e[0],a=[];n.hasOwnProperty("ranges")&&(a=n.ranges);var l=!1;n.hasOwnProperty("mask")&&(l=n.mask);var o=r.split("").map(t.default.Handlebars.Utils.escapeExpression),i=0,s=o.map(function(e,t){var n="";i<a.length&&t>=a[i][0]&&t<=a[i][1]&&(n+="<span class = 'pngs'>"),e=e.toUpperCase();var r="";return"|"===e?r='"seperator"':(r="aa aa"+e,l&&l[t]&&(r+=" match","-"!==e&&(e=".")),r='"'+r+'"'),n+="<span class="+r+">"+e+"</span>",i<a.length&&t>=a[i][0]&&t<=a[i][1]&&(n+="</span>",t===a[i][1]&&i++),n}),d="<td class = 'seq-cell sequence'>"+s.join("</td><td class = 'seq-cell sequence'>")+"</td>";return new t.default.Handlebars.SafeString(d)})}),define("flea-app/helpers/format-percent",["exports","ember"],function(e,t){var n=d3.format(">5.2f");e.default=t.default.Helper.helper(function(e){var r=e[0],a=t.default.Handlebars.Utils.escapeExpression(r);return new t.default.Handlebars.SafeString(n(a))})}),define("flea-app/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e.default=t.default}),define("flea-app/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e.default=t.default}),define("flea-app/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","flea-app/config/environment"],function(e,t,n){e.default={name:"App Version",initialize:(0,t.default)(n.default.APP.name,n.default.APP.version)}}),define("flea-app/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e.default={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t.default),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("flea-app/initializers/data-adapter",["exports","ember"],function(e,t){e.default={name:"data-adapter",before:"store",initialize:t.default.K}}),define("flea-app/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,t,n){e.default={name:"ember-data",initialize:t.default}}),define("flea-app/initializers/export-application-global",["exports","ember","flea-app/config/environment"],function(e,t,n){function r(){var e=arguments[1]||arguments[0];if(n.default.exportApplicationGlobal!==!1){var r,a=n.default.exportApplicationGlobal;r="string"==typeof a?a:t.default.String.classify(n.default.modulePrefix),window[r]||(window[r]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete window[r]}}))}}e.initialize=r,e.default={name:"export-application-global",initialize:r}}),define("flea-app/initializers/inject-store",["exports","flea-app/pods/store/model"],function(e,t){e.default={name:"inject-store",initialize:function(e,n){n.register("store:main",t.default),n.inject("route","store","store:main"),n.inject("controller","store","store:main")}}}),define("flea-app/initializers/injectStore",["exports","ember"],function(e,t){e.default={name:"injectStore",before:"store",initialize:t.default.K}}),define("flea-app/initializers/store",["exports","ember"],function(e,t){e.default={name:"store",after:"ember-data",initialize:t.default.K}}),define("flea-app/initializers/transforms",["exports","ember"],function(e,t){e.default={name:"transforms",before:"store",initialize:t.default.K}}),define("flea-app/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,t){e.default={name:"ember-data",initialize:t.default}}),define("flea-app/mixins/color-label-mixin",["exports","ember","flea-app/utils/utils"],function(e,t,n){e.default=t.default.Mixin.create({nodeNameTypes:["visit_code","seq_id","motif","none"],nodeNameType:"visit_code",rankColors:!1,sortedDates:function(){var e=this.get("model.sequences.seqIdToDate");delete e.mrca;var t=_.values(e);return _.uniqBy(t,function(e){return e.toString()}).sort(function(e,t){return e-t})}.property("model.sequences.seqIdToDate"),sortedVisitCodes:function(){var e=this.get("sortedDates"),t=this.get("model.dates"),n=e.map(function(e){return t[e]});return n}.property("sortedDates","model.dates"),seqIdToNodeName:function(){var e={},t=this.get("nodeNameType"),r=this.get("model.sequences.observedAndMrca");if("visit_code"===t)for(var a=this.get("model.sequences.seqIdToDate"),l=this.get("model.dates"),o=0;o<r.length;o++){var i=r[o].get("id");try{e[i]=(0,n.mapIfPresent)(l,a[i])}catch(t){e[i]=i}}else if("seq_id"===t)e=(0,n.seqIdToProperty)(r,"id");else if("motif"===t)e=this.get("model.sequences.idToMotif");else{if("none"!==t)throw"unknown node name type: "+t;e=_.zipObject(r.map(function(e){return[e.get("id"),""]}))}return e}.property("model.sequences.observedAndMrca.[]","model.sequences.seqIdToDate.[]","model.sequences.idToMotif.[]","nodeNameType"),makeColorScale:function(e,t){if(t||(t=e),e.length!==t.length)throw"lengths do not match";for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];var a=void 0,l=void 0;this.get("rankColors")?(l=t.length,a=d3.scale.ordinal().domain(t).range(_.range(t.length))):(l=1,a=d3.time.scale().domain(d3.extent(t)).range([0,1]));var o=["red","orange","yellow","green","blue","indigo"],i=l/(o.length-1),s=d3.range(0,l+i/2,i),d=d3.scale.linear().domain(s).range(o).interpolate(d3.interpolateLab);return function(e){return d(a(n[e]))}},colorScale:function(){return this.makeColorScale(this.get("sortedDates"))}.property("sortedDates","rankColors"),colorScaleVisitCode:function(){return this.makeColorScale(this.get("sortedVisitCodes"),this.get("sortedDates"))}.property("sortedVisitCodes","rankColors"),motifColorScale:function(){var e=this.get("model.sequences.idToMotif"),t=_.uniq(_.values(e)).sort(),n=void 0;return n=t.length>10?d3.scale.category20():d3.scale.category10(),n.domain(t)}.property("model.sequences.idToMotif[]"),colorMap:function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n},seqIdToNodeColor:function(){var e=this.get("model.sequences.seqIdToDate"),t=this.get("colorScale");return this.colorMap(e,t)}.property("model.sequences.seqIdToDate","colorScale"),seqIdToMotifColor:function(){var e=this.get("model.sequences.idToMotif"),t=this.get("motifColorScale");return this.colorMap(e,t)}.property("model.sequences.seqIdToDate","motifColorScale","nodeNameType"),actions:{selectNodeNameType:function(e){null!=e&&this.set("nodeNameType",e)}}})}),define("flea-app/mixins/d3-plot-mixin",["exports","ember"],function(e,t){e.default=t.default.Mixin.create({tagName:"svg",attributeBindings:["width","height"],width:1200,height:800,margin:{top:5,right:5,bottom:5,left:5},data:null,didInsertElement:function(){this._updateChart()},_updateChart:function(){},onChartChange:function(){"inDOM"===this._state&&t.default.run.once(this,"_updateChart")}.observes("data.[]"),innerWidth:function(){var e=this.get("margin"),t=this.get("width");return t-e.left-e.right}.property("width","margin"),innerHeight:function(){var e=this.get("margin"),t=this.get("height");return t-e.top-e.bottom}.property("height","margin"),innerGroupTransform:function(){var e=this.get("margin");return"translate(%@, %@)".fmt(e.left,e.top)}.property("margin"),xAxisTransform:function(){return"translate(0, %@)".fmt(this.get("innerHeight"))}.property("innerHeight"),yAxisTransform:function(){return"translate(%@, 0)".fmt(this.get("innerWidth"))}.property("innerWidth")})}),define("flea-app/mixins/width-mixin",["exports","ember"],function(e,t){e.default=t.default.Mixin.create({didInsertElement:function(){var e=this.$().parents("div").width();this.set("width",e),this._super()}})}),define("flea-app/models/coordinates-object",["exports","ember","flea-app/utils/utils"],function(e,t,n){e.default=t.default.Object.extend({data:[],refRange:function(){var e=this.get("alnToRefCoords");return[e[0],e[e.length-1]+1]}.property("alnToRefCoords"),alnToRefCoords:function(){var e=this.get("data");return e.map(function(e){return(0,n.zeroIndex)(e)})}.property("data.[]"),refToAlnCoords:function(){for(var e=this.get("alnToRefCoords"),t=this.get("refRange")[1],n=new Array(t),r=new Array(t),a=-1,l=0;l<e.length;l++){var o=e[l];if(r[o]=l,o!==a&&(n[o]=l),a>-1)for(var i=a+1;i<o;i++)n[i]=l,r[i]=l-1;a=o}return[n,r]}.observes("alnToRefCoords"),refToFirstAlnCoords:function(){return(0,n.refToAlnCoords)(this.get("alnToRefCoords"),this.get("refRange")[1])[0]}.property("alnToRefCoords"),refToLastAlnCoords:function(){return(0,n.refToAlnCoords)(this.get("alnToRefCoords"),this.get("refRange")[1])[1]}.property("alnToRefCoords")})}),define("flea-app/models/sequence-object",["exports","ember"],function(e,t){e.default=t.default.Object.extend({id:null,date:null,sequence:null})}),define("flea-app/models/sequences-object",["exports","ember","flea-app/utils/utils"],function(e,t,n){e.default=t.default.Object.extend({reference:null,mrca:null,observed:[],ancestors:[],selectedPositions:[],observedAndMrca:function(){var e=this.get("observed"),t=this.get("mrca");return[t].concat(e)}.property("observed.[]","mrca"),idToMotif:function(){var e=this.get("observedAndMrca"),t=this.get("ancestors"),n=e.concat(t),r=this.get("selectedPositions").sort(function(e,t){return e-t});return n.reduce(function(e,t){return e[t.get("id")]=r.map(function(e){return t.get("sequence")[e]}).join(""),e},{})}.property("observedAndMrca.[]","ancestors.[]","selectedPositions.[]"),seqIdToDate:function(){return(0,n.seqIdToProperty)(this.get("observedAndMrca"),"date")}.property("observedAndMrca.[].date")})}),define("flea-app/pods/application/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({setupController:function(e,t){this._super(e,t),e.set("rootURL",this.router.get("rootURL"))}})}),define("flea-app/pods/application/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:2,column:0}},moduleName:"flea-app/pods/application/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),r},statements:[["content","outlet",["loc",[null,[1,0],[1,10]]],0,0,0,0]],locals:[],templates:[]}}())}),define("flea-app/pods/components/alignment-overview/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){e.default=t.default.Component.extend({tagName:"svg",attributeBindings:["width","height"],classNames:["alignment-overview"],width:10,labelHeight:15,mainHeight:30,axisHeight:20,margins:{top:0,right:5,bottom:0,left:5},alnRanges:null,validAlnRange:[0,1],selectedPositions:null,predefinedRegions:null,alnToRefCoords:null,refToFirstAlnCoords:null,refToLastAlnCoords:null,tick:100,shiftKey:!1,height:function(){return this.get("labelHeight")+this.get("mainHeight")+this.get("axisHeight")+this.get("margins.top")+this.get("margins.bottom")}.property("labelHeight","mainHeight","axisHeight","margins.top","margins.bottom"),innerWidth:function(){return this.get("width")-this.get("margins.left")-this.get("margins.right")}.property("width","margins.left","margins.right"),innerHeight:function(){return this.get("height")-this.get("margins.top")-this.get("margins.bottom")}.property("height","margins.top","margins.bottom"),transformGroup:function(){d3.select("#"+this.get("elementId")).select(".overview").attr("transform","translate("+this.get("margins.left")+","+this.get("margins.top")+")")}.observes("labelHeight"),transformMain:function(){d3.select("#"+this.get("elementId")).select(".overview").select(".main").attr("transform","translate(0,"+this.get("labelHeight")+")")}.observes("labelHeight"),xscale:function(){return d3.scale.linear().domain(this.get("validAlnRange")).range([0,this.get("innerWidth")])}.property("innerWidth"),didInsertElement:function(){var e=this.$().parents("div").width();this.set("width",e),this._super(),this.transformGroup(),this.transformMain(),this.drawTrack(),this.drawAxis(),this.drawLabels(),this.drawRanges(),this.drawSelected(),this.drawInsertions(),this.drawPositive(),this.makeBrush();var t=this,n=function(){"inDOM"===t._state&&t.set("shiftKey",d3.event.shiftKey)};d3.select(window).on("keydown",n),d3.select(window).on("keyup",n)},drawTrack:function(){var e=this.get("innerWidth"),t=this.get("mainHeight"),n=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".track"),r=[[0,t/2,e,t/2],[0,t/3,0,2*t/3],[e-1,t/3,e-1,2*t/3]],a=n.selectAll("lines").data(r).enter().append("line");a.attr("x1",function(e){return e[0]}).attr("y1",function(e){return e[1]}).attr("x2",function(e){return e[2]}).attr("y2",function(e){return e[3]}).attr("stroke-width",1).attr("stroke","black")}.observes("innerWidth","mainHeight"),drawAxis:function(){var e=this.get("refToFirstAlnCoords"),t=this.get("alnToRefCoords"),r=this.get("tick"),a=(0,n.alignmentTicks)(t,e,r),l=this.get("xscale"),o=d3.svg.axis().scale(l).orient("bottom").tickValues(a).tickFormat(function(e){return(0,n.oneIndex)(t[e])}),i=d3.select("#"+this.get("elementId")).select(".overview").select(".axis");i.attr("class","x axis").attr("transform","translate(0,"+(this.get("labelHeight")+this.get("mainHeight"))+")").call(o)}.observes("innerWidth","mainHeight","labelHeight","refToFirstAlnCoords"),drawLabels:function(){var e=this.get("xscale"),t=this.get("refToFirstAlnCoords"),r=this.get("refToLastAlnCoords"),a=this.get("predefinedRegions"),l=d3.select("#"+this.get("elementId")).select(".labels"),o=this.get("labelHeight"),i=o/2,s=this,d=function(e){var t=[e.start,e.stop];s.get("shiftKey")?s.sendAction("addRange",t):s.sendAction("setRanges",[t])},c=l.selectAll("text").data(a,function(e){return e.name}),u=function(e,a){return r[(0,n.zeroIndex)(a)]-t[e]};c.enter().append("text").style("text-anchor","middle").style("dominant-baseline","middle").attr("x",function(n){return e(t[n.start]+u(n.start,n.stop)/2)}).attr("y",function(){return i}).text(function(e){return e.name}).attr("font-family","sans-serif").attr("font-size","8px"),c.exit().remove();var p=l.selectAll("rect").data(a,function(e){return e.name});p.enter().append("rect").on("click",d).style("cursor","pointer").attr("x",function(r){return e((0,n.transformIndex)(r.start,t,!1))}).attr("y",function(){return 0}).attr("width",function(t){return e(u(t.start,t.stop))}).attr("height",function(){return o}).attr("stroke-width",1).attr("stroke","black").attr("fill-opacity",0),p.exit().remove()}.observes("predefinedRegions","labelHeight","refToFirstAlnCoords","refToLastAlnCoords"),makeBrush:function(){var e=this,t=this.get("alnToRefCoords"),r=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".brush"),a=this.get("xscale"),l=d3.svg.brush(),o=function(){var a=l.extent(),o=[(0,n.transformIndex)(d3.round(a[0],0),t,!1),(0,n.transformIndex)(d3.round(a[1],0),t,!1)+1];e.get("shiftKey")?e.sendAction("addRange",o):e.sendAction("setRanges",[o]),l.clear(),r.call(l)};l.x(a).on("brushend",o),r.call(l).selectAll("rect").attr("height",this.get("mainHeight"))}.observes("xscale","mainHeight","alnToRefCoords"),insertions:function(){for(var e=this.get("alnToRefCoords"),t=[],n=!1,r=-1,a=-1,l=e.length,o=1;o<e.length;o++)n||e[o-1]!==e[o]?n&&e[o-1]!==e[o]?(a=o-1,n=!1,t.push([r,a])):n&&o+1===l&&(a=o,n=!1,t.push([r,a])):(n=!0,r=o);return t}.property("alnToRefCoords"),drawInsertions:function(){var e=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".insertions"),t=this.get("insertions"),n=this.get("mainHeight")/2,r=e.selectAll("line").data(t,function(e){return String(e)}),a=this.get("xscale");r.enter().append("line").attr("x1",function(e){return a(e[0])}).attr("y1",function(){return n}).attr("x2",function(e){return a(e[1])}).attr("y2",function(){return n}).attr("stroke-width",3).attr("stroke","black"),r.exit().remove()}.observes("insertions","mainHeight"),drawPositive:function(){var e=[];this.get("markPositive")&&(e=this.get("positiveSelection")[0]);var t=this.get("mainHeight"),n=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".positive"),r=n.selectAll("line").data(e,function(e){return e}),a=this.get("xscale");r.enter().append("line").attr("x1",function(e){return a(e)}).attr("y1",function(){return t/3}).attr("x2",function(e){return a(e)}).attr("y2",function(){return 2*t/3}).attr("stroke-width",1).attr("stroke","green"),r.exit().remove()}.observes("markPositive","positiveSelection","mainHeight"),drawSelected:function(){var e=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".selected"),t=this.get("mainHeight"),n=this.get("selectedPositions"),r=e.selectAll("line").data(n,function(e){return e}),a=this.get("xscale");r.enter().append("line").attr("x1",function(e){return a(e)}).attr("y1",function(){return 0}).attr("x2",function(e){return a(e)}).attr("y2",function(){return t}).attr("stroke-width",1).attr("stroke","red"),r.exit().remove()}.observes("selectedPositions.[]","mainHeight"),closedRanges:function(){return this.get("alnRanges").map(function(e){return[e[0],e[1]-1]})}.property("alnRanges"),drawRanges:function(){function e(){var e=d3.round(+d3.event.dx,0),t=+this.getAttribute("width"),n=+this.getAttribute("x")+e;n>=0&&n+t+1<=o&&d3.select(this).attr("x",n)}function t(){var e=+this.getAttribute("idx"),t=+this.getAttribute("x"),n=+this.getAttribute("width"),r=[t,t+n+1];l.sendAction("updateRange",e,r)}var n=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".ranges"),r=this.get("mainHeight"),a=this.get("closedRanges"),l=this,o=this.get("innerWidth"),i=this.get("xscale"),s=d3.behavior.drag().on("drag",e).on("dragend",t);n.selectAll("rect").remove(),n.selectAll("rect").data(a).enter().append("rect").attr("x",function(e){return i(e[0])}).attr("y",function(){return 0}).attr("idx",function(e,t){return t}).attr("width",function(e){return i(e[1]-e[0])}).attr("height",function(){return r}).attr("stroke-width",1).attr("stroke","blue").style("fill","blue").attr("fill-opacity",.1).call(s).on("click",function(e,t){d3.event.defaultPrevented||l.sendAction("rmRange",t)})}.observes("closedRanges","innerWidth","mainHeight")})}),define("flea-app/pods/components/alignment-overview/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:13,column:0}},moduleName:"flea-app/pods/components/alignment-overview/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("g");e.setAttribute(n,"class","overview");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","labels"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","main");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","track"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","insertions"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","selected"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","positive"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","brush"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","ranges"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","axis"),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("flea-app/pods/components/bootstrap-popover/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({tagName:"a",attributeBindings:["tabindex","dataToggle:data-toggle","dataTrigger:data-trigger","title","dataContent:data-content","placement"],classNames:["popover-link"],tabindex:"0",dataToggle:"popover",dataTrigger:"focus",title:"Title",dataContent:"Content",html:!0,placement:"auto right",didInsertElement:function(){this.$().popover({html:this.get("html"),placement:this.get("placement")})}.observes("dataContent","html","placement")})}),define("flea-app/pods/components/color-table/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:4,column:6},end:{line:6,column:6}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createElement("td"),r=e.createComment("");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),0,0),r},statements:[["content","h",["loc",[null,[5,10],[5,15]]],0,0,0,0]],locals:["h"],templates:[]}}(),t=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:14,column:8},end:{line:16,column:8}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["content","elt.value",["loc",[null,[15,8],[15,21]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:12,column:6},end:{line:18,column:4}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createElement("td"),r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("      ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1]),a=new Array(2);return a[0]=e.createAttrMorph(r,"style"),a[1]=e.createMorphAt(r,1,1),a},statements:[["attribute","style",["concat",[["get","elt.style",["loc",[null,[13,19],[13,28]]],0,0,0,0]],0,0,0,0,0],0,0,0,0],["block","bootstrap-popover",[],["title","","dataContent",["subexpr","@mut",[["get","elt.html",["loc",[null,[14,50],[14,58]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[14,8],[16,30]]]]],locals:["elt"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:10,column:4},end:{line:20,column:4}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr"),r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("    ");e.appendChild(n,r),
e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),1,1),r},statements:[["block","each",[["get","row",["loc",[null,[12,14],[12,17]]],0,0,0,0]],[],0,null,["loc",[null,[12,6],[18,13]]]]],locals:["row"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:23,column:0}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("table");e.setAttribute(n,"class","table table-hover table-condensed");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("thead"),a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("tr"),l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("tbody"),a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(2);return a[0]=e.createMorphAt(e.childAt(r,[1,1]),1,1),a[1]=e.createMorphAt(e.childAt(r,[3]),1,1),a},statements:[["block","each",[["get","header",["loc",[null,[4,14],[4,20]]],0,0,0,0]],[],0,null,["loc",[null,[4,6],[6,15]]]],["block","each",[["get","data",["loc",[null,[10,12],[10,16]]],0,0,0,0]],[],1,null,["loc",[null,[10,4],[20,13]]]]],locals:[],templates:[e,t]}}())}),define("flea-app/pods/components/d3-legend/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({tagName:"g",classNames:["legend"],xCoord:0,yCoord:0,legendLabels:[],legendColors:null,didInsertElement:function(){this._updateLegend()},onChartChange:function(){"inDOM"===this._state&&t.default.run.once(this,"_updateLegend")}.observes("legendLabels.[]","legendColors"),_updateLegend:function(){var e=this.get("legendLabels"),t=this.get("legendColors"),n=this.get("xCoord"),r=this.get("yCoord"),a=25,l=10,o={x:n,y:r,spacer:a,margin:5,font:l},i=d3.select("#"+this.get("elementId"));i.selectAll("g").remove();var s=i.append("g").attr("class","d3_legend").attr("x",o.x).attr("y",o.y).attr("transform","translate("+o.x+","+o.y+")"),d=s.selectAll(".legend_panel");d.data(e,function(e){return e}).enter().append("g").attr("class","legend_panel").each(function(e,n){var r=d3.select(this);r.append("rect").attr("x",o.spacer).attr("y",n*(o.spacer+o.margin)).attr("width",o.spacer).attr("height",o.spacer).style("fill",function(){return t(e)}),r.append("text").attr("x",2*o.spacer+o.font/4).attr("y",(n+1)*(o.spacer+o.margin)-o.margin-o.spacer/2+o.font/2).style("fill",function(){return t(e)}).attr("font-family","monospace").text(function(e){return e})})}})}),define("flea-app/pods/components/d3-legend/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:2,column:0}},moduleName:"flea-app/pods/components/d3-legend/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("flea-app/pods/components/graph-axis/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({tagName:"g",classNames:["axis"],attributeBindings:["transform"],scale:null,orient:"bottom",ticks:10,tickValues:null,tickSize:5,tickFormat:null,tickPadding:5,rotate:0,_axis:null,d3Axis:function(){var e=this.get("_axis");return null===e&&(e=d3.svg.axis()),e.scale(this.get("scale")).orient(this.get("orient")).ticks(this.get("ticks")).tickValues(this.get("tickValues")).tickFormat(this.get("tickFormat")).tickSize(this.get("tickSize")).tickPadding(this.get("tickPadding")),this.set("_axis",e),e}.property("scale","orient","ticks","tickValues","tickSize","tickFormat","tickPadding"),didInsertElement:function(){this._updateAxis()},onD3AxisChange:function(){"inDOM"===this._state&&this._updateAxis()}.observes("d3Axis","rotate"),_updateAxis:function(){var e=this.get("d3Axis"),t=d3.select(this.$()[0]).call(e),n=this.get("rotate");0!==n&&t.selectAll("text").style("text-anchor","start").attr("transform","rotate("+n+")").attr("dx","0.5em").attr("dy","0.5em")}})}),define("flea-app/pods/components/mds-viewer/component",["exports","ember","flea-app/mixins/d3-plot-mixin","flea-app/mixins/width-mixin"],function(e,t,n,r){e.default=t.default.Component.extend(n.default,r.default,{copynumbers:null,nameToNodeLabel:null,nameToNodeColor:null,nameToMotifColor:null,nameToMotif:null,legendLabels:[],legendColors:null,width:100,height:function(){var e=this.get("xDomain"),t=this.get("yDomain"),n=this.get("width"),r=e[0],a=e[1],l=t[0],o=t[1],i=(o-l)/(a-r);return n*i}.property("width","xDomain","yDomain"),xDomain:function(){return[-5,3]}.property("data.[]"),yDomain:function(){return[-2,4]}.property("data.[]"),scale:function(e,t,n){return d3.scale.linear().domain(this.get(e)).range([t,n])},xScale:function(){return this.scale("xDomain",0,this.get("innerWidth"))}.property("innerWidth","xDomain"),yScale:function(){return this.scale("yDomain",this.get("innerHeight"),0)}.property("innerHeight","yDomain"),cnDomain:function(){var e=this.get("copynumbers");return[0,d3.max(_.values(e))]}.property("copynumbers.[]"),margin:function(){var e=this.get("cnDomain")[1],t=this.get("cnScale"),n=Math.sqrt(t(e));return{top:n,right:n,bottom:n,left:n}}.property("cnDomain"),cnScale:function(){return d3.scale.linear().domain(this.get("cnDomain")).range([1,500])}.property("cnDomain"),onChartChange:function(){"inDOM"===this._state&&t.default.run.once(this,"_updateChart")}.observes("data.[]","nameToNodeColor","nameToMotif","nameToMotifColor","xScale","yScale","cnScale","copynumbers.[]","highlightedNodes"),_updateChart:function(){var e=d3.select("#"+this.get("elementId")).select(".inner").select(".circles"),t=this.get("data"),n=this.get("xScale"),r=this.get("yScale"),a=this.get("cnScale"),l=this.get("copynumbers"),o=this.get("nameToNodeColor"),i=this.get("nameToMotif"),s=this.get("nameToMotifColor"),d=this.get("highlightedNodes"),c=e.selectAll("circle").data(t,function(e){return e.name});d3.select("body").select(".tooltip").remove();var u=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);c.enter().append("circle"),c.exit().remove(),c.attr("cx",function(e){return n(e.x)}).attr("cy",function(e){return r(e.y)}).attr("r",function(e){return 1.5*Math.sqrt(a(l[e.name]))}).style("fill",function(e){return o[e.name]}).style("opacity",function(e){return 0===d.length?1:d.has(e.name)?1:.1}).on("mouseover",function(e){var t=e.name,n="black";i[e.name]&&(t+=" : "+i[e.name],n=s[e.name]),u.transition().duration(100).style("opacity",.9),u.html(t).style("left",d3.event.pageX+"px").style("top",d3.event.pageY-30+"px").style("color",n)}).on("mouseout",function(){u.transition().duration(100).style("opacity",0)})}})}),define("flea-app/pods/components/mds-viewer/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:14,column:0},end:{line:19,column:0}},moduleName:"flea-app/pods/components/mds-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),r},statements:[["inline","d3-legend",[],["legendLabels",["subexpr","@mut",[["get","legendLabels",["loc",[null,[16,13],[16,25]]],0,0,0,0]],[],[],0,0],"legendColors",["subexpr","@mut",[["get","legendColors",["loc",[null,[17,13],[17,25]]],0,0,0,0]],[],[],0,0]],["loc",[null,[15,0],[18,2]]],0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:22,column:0}},moduleName:"flea-app/pods/components/mds-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("g");e.setAttribute(n,"class","inner");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","circles"),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(4);return a[0]=e.createAttrMorph(r,"transform"),a[1]=e.createMorphAt(r,3,3),a[2]=e.createMorphAt(r,5,5),a[3]=e.createMorphAt(r,7,7),a},statements:[["attribute","transform",["concat",[["get","innerGroupTransform",["loc",[null,[1,16],[1,35]]],0,0,0,0]],0,0,0,0,0],0,0,0,0],["inline","graph-axis",[],["class","x axis","scale",["subexpr","@mut",[["get","xScale",["loc",[null,[5,8],[5,14]]],0,0,0,0]],[],[],0,0],"transform",["subexpr","@mut",[["get","xAxisTransform",["loc",[null,[6,12],[6,26]]],0,0,0,0]],[],[],0,0]],["loc",[null,[4,2],[7,4]]],0,0],["inline","graph-axis",[],["class","y axis","scale",["subexpr","@mut",[["get","yScale",["loc",[null,[10,8],[10,14]]],0,0,0,0]],[],[],0,0],"orient","left"],["loc",[null,[9,2],[12,4]]],0,0],["block","if",[["get","legendLabels.length",["loc",[null,[14,6],[14,25]]],0,0,0,0]],[],0,null,["loc",[null,[14,0],[19,7]]]]],locals:[],templates:[e]}}())}),define("flea-app/pods/components/phylotree-widget/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({tagName:"svg",attributeBindings:["width","height"],treeWidget:null,width:800,height:600,tree:null,copynumbers:null,showCopynumber:!1,overlapNodes:!0,seqIdToNodeName:null,seqIdToNodeColor:null,seqIdToMotifColor:null,seqIdToMotif:null,radialLayout:!1,minRadius:.1,maxRadius:10,heightScale:1,nodeSpan:function(){var e=this.get("copynumbers"),t=d3.max(_.values(e)),n=d3.scale.sqrt().domain([0,t]).range([this.get("minRadius"),this.get("maxRadius")]);return function(t){return n(t.name in e?e[t.name]:1)}}.property("copynumbers","minRadius","maxRadius"),nodeNamer:function(){var e=this.get("seqIdToNodeName");return function(n){return t.default.isPresent(e[n.name])?e[n.name]:""}}.property("seqIdToNodeName"),nodeColorizer:function(){var e=this.get("seqIdToNodeColor"),n=this.get("seqIdToMotifColor");return function(r,a){t.default.isPresent(e)?r.selectAll("circle").style("fill",e[a.name]).style("opacity",.4):r.selectAll("circle").style("fill","LightGray").style("opacity",.4),t.default.isPresent(n)?(r.selectAll("text").style("fill",n[a.name]),d3_phylotree_is_leafnode(a)||r.selectAll("circle").style("fill",n[a.name]).style("opacity",.9)):r.selectAll("text").style("fill","Black")}}.property("seqIdToNodeColor","seqIdToMotifColor","radialLayout"),didInsertElement:function(){var e=d3.select("#"+this.get("elementId")),n=d3.layout.phylotree().svg(e).size([this.get("height"),this.get("width")]).separation(function(){return 0}).style_nodes(this.get("nodeColorizer")).branch_name(this.get("nodeNamer"));n.options({"is-radial":this.get("radialLayout")},!1),n.options({"shift-nodes":!1},!1),n.options({"overlap-bubbles":this.get("overlapNodes")},!1),this.get("showCopynumber")?(n.node_span(this.get("nodeSpan")),n.options({"draw-size-bubbles":!0},!1)):(n.node_span("equal"),n.options({"draw-size-bubbles":!1},!1)),n.options({selectable:!1},!1),n.options({"internal-names":!0},!1),this.set("treeWidget",n),t.default.run.once(this,"newTree")},newTree:function(){var e=this.get("treeWidget");e(this.get("tree"));var t=this.get("seqIdToMotif");e.get_nodes().forEach(function(e){d3_add_custom_menu(e,function(e){return e.name+" : "+t[e.name]},function(){},d3.layout.phylotree.is_leafnode)}),this.sort()}.observes("tree","seqIdToMotif"),sort:function(){var e=this.get("sortState");"ascending"===e?this.sortNodes(!0):"descending"===e?this.sortNodes(!1):this.sortOriginal()}.observes("sortState"),sortNodes:function(e){var t=this.get("treeWidget");t.traverse_and_compute(function(e){var t=1;e.children&&e.children.length&&(t+=d3.max(e.children,function(e){return e.count_depth})),e.count_depth=t}),t.resort_children(function(t,n){return(t.count_depth-n.count_depth)*(e?1:-1)})},sortOriginal:function(){this.get("treeWidget").resort_children(function(e,t){return e.original_child_order-t.original_child_order})},updateSpacing:function(){var e=this.get("treeWidget");e.options({"height-scale":+this.get("heightScale")},!1),e.placenodes(),e.update(!0)}.observes("heightScale"),updateNames:function(){var e=this.get("treeWidget");e.branch_name(this.get("nodeNamer")),e.update()}.observes("nodeNamer"),updateColors:function(){var e=this.get("treeWidget");e.style_nodes(this.get("nodeColorizer")),e.refresh()}.observes("nodeColorizer"),updateCopynumber:function(){var e=this.get("treeWidget");this.get("showCopynumber")?(e.node_span(this.get("nodeSpan")),e.options({"draw-size-bubbles":!0},!1)):(e.node_span("equal"),e.options({"draw-size-bubbles":!1},!1)),e.placenodes(),e.update(!0)}.observes("showCopynumber","nodeSpan"),updateOverlap:function(){var e=this.get("treeWidget");e.options({"overlap-bubbles":this.get("overlapNodes")},!1),e.placenodes(),e.update(!0)}.observes("overlapNodes"),updateLayout:function(){var e=this.get("treeWidget"),t=this.get("radialLayout");e.options({"is-radial":t},!1),e.placenodes(),e.update(!0)}.observes("radialLayout")})}),define("flea-app/pods/components/protein-plots/component",["exports","ember","flea-app/utils/utils","flea-app/mixins/d3-plot-mixin","flea-app/mixins/width-mixin"],function(e,t,n,r,a){function l(e,t){var n=[e];return n.pushObjects(t),n}e.default=t.default.Component.extend(r.default,a.default,{heightEach:80,labelHeight:25,tick:100,yticks:5,addCombined:!0,margin:{top:20,right:20,bottom:50,left:30},height:function(){var e=this.get("margin");return e.top+e.bottom+this.get("nPlots")*this.get("heightEach")+this.get("labelHeight")}.property("heightEach","margin","nPlots","labelHeight"),onChartChange:function(){"inDOM"===this._state&&t.default.run.once(this,"_updateChart")}.observes("names.[]","data1","data2","positions","labels.[]","width","height","heightEach","margin","yMax","labelHeight","addCombined"),yMax:function(){var e=this.get("data1"),t=this.get("data2");return[d3.max(_.flatten(e)),d3.max(_.flatten(t))]}.property("data1","data2"),nPlots:function(){var e=this.get("names.length");return this.get("addCombined")&&(e+=1),e}.property("names.length","addCombined"),_updateChart:function(){try{this.__updateChart()}catch(e){if(!e||!e.name||"data consistency error"!==e.name)throw e;this._removeAll()}},_removeAll:function(){var e=d3.select("#"+this.get("elementId")).select(".inner");e.selectAll("path").remove(),e.selectAll("g").remove(),e.selectAll("defs").remove()},__updateChart:function(){function e(){C.domain(N.empty()?y.domain():N.extent());for(var e=0;e<q.length;e++)q[e].select("._pos_dS").attr("d",D[e][0]),c&&q[e].select("._pos_dN").attr("d",D[e][1]),q[e].selectAll(".selected_site").attr("cx",b);x.select(".pos.x.axis").call(F)}var t=this.get("names"),r=this.get("data1"),a=this.get("data2"),o=this.get("positions"),i=this.get("labels"),s=r[0].length,d=this.get("nPlots"),c=a.length>0;if(this.get("addCombined")&&"Combined"!==t[0]){for(var u=[],p=0;p<s;p++)u.push(0);r=l(u,r),c&&(r=l(u,a)),o.length>0&&(o=l([],o)),t=l("Combined",t)}if(c&&r.length!==a.length)throw{name:"data consistency error",message:"data1 and data2 have different lengths"};if(r.length!==t.length)throw{name:"data consistency error",message:"data1 and names have different lengths"};for(var m=0;m<d;m++){if(r[m].length!==s)throw{name:"data consistency error",message:"data vector lengths are inconsistent"};if(c&&a[m].length!==s)throw{name:"data consistency error",message:"data vector lengths are inconsistent"}}var h=this.get("innerWidth"),f=this.get("innerHeight"),v=this.get("heightEach"),g=this.get("url"),b=function(e){return C(e)};this._removeAll();var x=d3.select("#"+this.get("elementId")).select(".inner");x.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",h).attr("height",f),x=x.append("g");for(var C=d3.scale.linear().range([0,h]).domain([1,s]),y=d3.scale.linear().range([0,h]).domain([1,s]),N=d3.svg.brush().x(y).on("brush",e),T=this.get("yMax"),A=d3.scale.linear().range([v,0]).domain([c?-T[1]:0,T[0]]),E=this.get("refToFirstAlnCoords"),R=this.get("alnToRefCoords"),w=this.get("tick"),M=(0,n.alignmentTicks)(R,E,w),F=d3.svg.axis().scale(C).orient("bottom").tickValues(M).tickFormat(function(e){return(0,n.oneIndex)(R[e])}),_=d3.svg.axis().scale(y).orient("top").tickValues(M).tickFormat(function(e){return(0,n.oneIndex)(R[e])}),S=d3.svg.axis().scale(C).orient("bottom").ticks(0).tickFormat(""),k=d3.svg.axis().scale(A).orient("right").ticks(this.get("yticks")),q=[],D=[],P=0;P<t.length;P++){var j=x.append("g").attr("transform","translate(0,"+v*P+")"),I=[];I[0]=d3.svg.area().x(function(e,t){return C(t+1)}).y0(function(){return A(0)}).y1(function(e){return A(e)}).interpolate("step"),c&&(I[1]=d3.svg.area().x(function(e,t){return C(t+1)}).y0(function(e){return A(-e)}).y1(function(){return A(0)}).interpolate("step")),D.push(I),j.append("text").attr("transform","translate(0,"+A(0)+") rotate (-90)").attr("y","0").attr("dy","-0.5em").style("text-anchor",c?"middle":"start").text(t[P]),j.append("path").datum(r[P]).attr("class","_pos_dS").attr("clip-path","url("+g+"#clip)").attr("d",I[0]),j.append("g").attr("class","pos x axis").attr("transform","translate(0,"+v+")").call(S),j.append("g").attr("class","pos y axis").attr("transform","translate("+h+" ,0)").call(k),c&&j.append("path").datum(a[P]).attr("clip-path","url("+g+"#clip)").attr("class","_pos_dN").attr("d",I[1]),0===P?j.append("g").attr("class","x brush").call(N).selectAll("rect").attr("y",-6).attr("height",v+7):q.push(j),P<o.length&&j.selectAll(".selected_site").data(o[P]).enter().append("circle").attr("cx",function(e){return C(e)}).attr("cy",function(){return A(0)}).attr("r",4).attr("class","selected_site").attr("clip-path","url("+g+"#clip)").append("title").text(function(e){return"Codon "+e})}x.append("g").attr("class","pos x_overall axis").call(_).append("text").attr("transform","translate(0,0)").attr("dy","-.4em").attr("dx",".25em").style("text-anchor","start").text("Site");var B=this.get("labelHeight");if(x.append("g").attr("class","pos x axis").attr("transform","translate(0,"+(f-B)+")").call(F).append("text").attr("transform","translate(0,0)").attr("dy","+1.1em").attr("dx",".25em").style("text-anchor","start").text("Site"),i.length>0){var L={x:0,y:f-B+10,spacer:15,margin:5,font:10,x_step:100},O=["#2E66FF","#FFB314"],H=x.append("g").attr("class","protein_legend").attr("x",L.x).attr("y",L.y).attr("transform","translate("+L.x+","+L.y+")");H.selectAll("g").data(i).enter().append("g").each(function(e,t){var n=d3.select(this);n.append("rect").attr("y",L.spacer).attr("x",t*(L.spacer+L.margin+L.x_step)).attr("width",L.spacer).attr("height",L.spacer).style("fill",O[t]),n.append("text").attr("y",2*L.spacer).attr("x",t*(L.spacer+L.margin+L.x_step)+L.spacer+L.font/4).style("fill",O[t]).text(e)})}}})}),define("flea-app/pods/components/protein-plots/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:2,column:0}},moduleName:"flea-app/pods/components/protein-plots/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("g");e.setAttribute(n,"class","inner"),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(2);return a[0]=e.createAttrMorph(r,"transform"),a[1]=e.createAttrMorph(r,"height"),a},statements:[["attribute","transform",["concat",[["get","innerGroupTransform",["loc",[null,[1,16],[1,35]]],0,0,0,0]],0,0,0,0,0],0,0,0,0],["attribute","height",["concat",[["get","height",["loc",[null,[1,49],[1,55]]],0,0,0,0]],0,0,0,0,0],0,0,0,0]],locals:[],templates:[]}}())}),define("flea-app/pods/components/pv-wrapper/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({shouldLabel:!0,fog:!0,spin:!1,slabModes:["auto","fixed"],slabMode:"auto",slabNear:.1,slabFar:400,structure:null,data:[],range:[0,1],viewer:null,geometry:null,updateSpin:function(){this.get("viewer").spin(this.get("spin"))}.observes("spin"),updateFog:function(){this.get("viewer").options("fog",this.get("fog")),this.get("viewer").requestRedraw()}.observes("fog"),updateSlabMode:function(){t.default.run.once(this,"_updateSlabMode")}.observes("slabMode","slabNear","slabFar"),_updateSlabMode:function(){this.get("viewer").slabMode(this.get("slabMode"),{near:+this.get("slabNear"),far:+this.get("slabFar")}),this.get("viewer").requestRedraw()},showSlabControls:function(){return"fixed"===this.get("slabMode")}.property("slabMode"),didInsertElement:function(){var e={width:1e3,height:800,antialias:!0,quality:"medium"},t=pv.Viewer(this.$()[0],e);this.set("viewer",t);var n=this.get("structure");t.fitTo(n);var r=t.cartoon("protein",n);r.colorBy(pv.color.uniform("blue")),this.set("geometry",r),this.updateColors(),this.labelResidues()},updateColors:function(){t.default.run.once(this,"_updateColors")}.observes("data.[]","range.[]","structure","geometry"),_updateColors:function(){var e=this.get("geometry"),t=this.get("structure");if(null!==t){var n=this.get("data"),r=0,a=0,l=pv.color.gradient(["white","darkred"]);if(n){var o=this.get("range");if(r=d3.min(n),a=d3.max(n),o[0]>r)throw{name:"RangeError",message:"range[0] too large"};if(o[1]<a)throw{name:"RangeError",message:"range[1] too small"};o[0]<0&&(l=pv.color.gradient(["darkblue","white","darkred"])),n=_.map(n,function(e){return(e-o[0])/(o[1]-o[0])}),t.eachResidue(function(e){var t=e.num(),r=n[t];r=void 0===r?0:r,e.customData=function(){return r}});var i=[0,1],s=pv.color.byResidueProp("customData",l,i);e.colorBy(s),this.get("viewer").requestRedraw()}}},labelResidues:function(){var e=this.get("viewer");if(e.rm("label*"),this.get("shouldLabel")){var t=this.get("structure"),n=0,r={fontSize:10,fontColor:"rgba(0, 0, 0, 0.5)"};t.eachResidue(function(t){var a=t.num();if(a%10===0){var l="label_"+n;e.label(l,a,t.atom(0).pos(),r),n+=1}})}this.get("viewer").requestRedraw()}.observes("shouldLabel"),actions:{selectSlabMode:function(e){null!=e&&this.set("slabMode",e)}}})}),define("flea-app/pods/components/pv-wrapper/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:18,column:4},end:{line:18,column:36}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","mode",["loc",[null,[18,28],[18,36]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:17,column:4},end:{line:19,column:4}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","mode",["loc",[null,[18,22],[18,26]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[18,4],[18,49]]]]],locals:["mode"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:16,column:4},end:{line:20,column:4}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","slabModes",["loc",[null,[17,12],[17,21]]],0,0,0,0]],[],0,null,["loc",[null,[17,4],[19,13]]]]],locals:[],templates:[e]}}(),t=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:25,column:0},end:{line:51,column:0}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-label");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","Near");var l=e.createTextNode("Near");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-10 vcenter");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-value");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("output");e.setAttribute(a,"for","near"),e.setAttribute(a,"id","far");var l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-label");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","far");var l=e.createTextNode("Far");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-10");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-value");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("output");e.setAttribute(a,"for","far"),e.setAttribute(a,"id","far");var l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(t,[2]),l=new Array(4);return l[0]=e.createMorphAt(e.childAt(r,[3]),1,1),l[1]=e.createMorphAt(e.childAt(r,[5,1]),0,0),l[2]=e.createMorphAt(e.childAt(a,[3]),1,1),l[3]=e.createMorphAt(e.childAt(a,[5,1]),0,0),l},statements:[["inline","input",[],["type","range","id","near","min","0.1","value",["subexpr","@mut",[["get","slabNear",["loc",[null,[31,51],[31,59]]],0,0,0,0]],[],[],0,0],"max",["subexpr","@mut",[["get","slabFar",["loc",[null,[31,64],[31,71]]],0,0,0,0]],[],[],0,0],"step","0.1"],["loc",[null,[31,4],[31,84]]],0,0],["content","slabNear",["loc",[null,[34,28],[34,40]]],0,0,0,0],["inline","input",[],["type","range","id","far","min",["subexpr","@mut",[["get","slabNear",["loc",[null,[44,38],[44,46]]],0,0,0,0]],[],[],0,0],"value",["subexpr","@mut",[["get","slabFar",["loc",[null,[44,53],[44,60]]],0,0,0,0]],[],[],0,0],"max",400,"step","0.1"],["loc",[null,[44,4],[44,81]]],0,0],["content","slabFar",["loc",[null,[48,27],[48,38]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:52,column:0}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","input-group input-group-sm");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Label coordinates");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Fog");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Spin");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Slab mode");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n\n");e.appendChild(t,n);var n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(5);return a[0]=e.createMorphAt(e.childAt(r,[1]),3,3),a[1]=e.createMorphAt(e.childAt(r,[3]),3,3),a[2]=e.createMorphAt(e.childAt(r,[5]),3,3),a[3]=e.createMorphAt(e.childAt(r,[7]),3,3),a[4]=e.createMorphAt(t,2,2,n),e.insertBoundary(t,null),a},statements:[["inline","input",[],["type","checkbox","name","shouldlabel","checked",["subexpr","@mut",[["get","shouldLabel",["loc",[null,[4,55],[4,66]]],0,0,0,0]],[],[],0,0]],["loc",[null,[4,4],[4,68]]],0,0],["inline","input",[],["type","checkbox","name","fog","checked",["subexpr","@mut",[["get","fog",["loc",[null,[8,47],[8,50]]],0,0,0,0]],[],[],0,0]],["loc",[null,[8,4],[8,52]]],0,0],["inline","input",[],["type","checkbox","name","spin","checked",["subexpr","@mut",[["get","spin",["loc",[null,[12,48],[12,52]]],0,0,0,0]],[],[],0,0]],["loc",[null,[12,4],[12,54]]],0,0],["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","slabMode",["loc",[null,[16,47],[16,55]]],0,0,0,0]],[],[],0,0],"action","selectSlabMode","id","slab_mode"],0,null,["loc",[null,[16,4],[20,27]]]],["block","if",[["get","showSlabControls",["loc",[null,[25,6],[25,22]]],0,0,0,0]],[],1,null,["loc",[null,[25,0],[51,7]]]]],
locals:[],templates:[e,t]}}())}),define("flea-app/pods/components/range-selector/component",["exports","ember"],function(e,t){e.default=t.default.Component.extend({tagName:"",_selectedIdx:0,values:[],selectedIdx:0,maxIdx:function(){return this.get("values.length")-1}.property("values.length"),_resetIdx:function(){this.set("_selectedIdx",0)}.observes("values.length"),receiveIdx:function(){this.set("_selectedIdx",this.get("selectedIdx"))}.observes("selectedIdx"),setSelectedIdx:function(){this.sendAction("selectedIdxChanged",this.get("_selectedIdx"))}.observes("_selectedIdx")})}),define("flea-app/pods/components/range-selector/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:2,column:0}},moduleName:"flea-app/pods/components/range-selector/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),r},statements:[["inline","input",[],["class","bar","type","range","id","rangeinput","value",["subexpr","@mut",[["get","_selectedIdx",["loc",[null,[1,55],[1,67]]],0,0,0,0]],[],[],0,0],"min",0,"max",["subexpr","@mut",[["get","maxIdx",["loc",[null,[1,78],[1,84]]],0,0,0,0]],[],[],0,0],"step",1],["loc",[null,[1,0],[1,93]]],0,0]],locals:[],templates:[]}}())}),define("flea-app/pods/components/sequence-range-controls/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){var r=function(){function e(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=t.default.Component.extend({tagName:"",inputClass:"input-valid",validRange:[0,1],rangeText:"",computedText:function(){var e=this.get("ranges");return e.map(function(e){return(0,n.oneIndex)(e[0])+"-"+e[1]}).join(";")}.property("ranges","ranges.length","ranges.[]","ranges.[].[]"),updateText:function(){this.set("rangeText",this.get("computedText"))}.observes("computedText").on("init"),toController:function(e){var t=this.get("validRange"),n=r(t,2),a=n[0],l=n[1];e=e.map(function(e){var t=r(e,2),n=t[0],o=t[1];return n<a&&(n=a),o>l&&(o=l),[n,o]}),_.every(e.map(function(e){return e[0]<e[1]}))&&this.sendAction("setRanges",e)},actions:{moveRanges:function(e){for(var t=this.get("ranges"),n=this.get("validRange"),a=r(n,2),l=a[0],o=a[1],i=0;i<t.length;i++){var s=r(t[i],2),d=s[0],c=s[1];l<=d+e&&d+e<=c+e&&c+e<=o&&(t[i][0]=d+e,t[i][1]=c+e)}this.toController(t)},setRange:function(e,t){var n=[[e,t]];this.toController(n)},handleTextSubmit:function(){this.set("inputClass","input-valid");var e=this.get("rangeText");try{var t=e.split(";").map(function(e){var t=e.split("-");if(2!==t.length)throw"wrong number of ranges";return[+t[0]-1,+t[1]]});this.toController(t)}catch(e){this.set("inputClass","input-invalid")}}}})}),define("flea-app/pods/components/sequence-range-controls/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:32,column:4},end:{line:38,column:4}},moduleName:"flea-app/pods/components/sequence-range-controls/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("a");e.setAttribute(r,"class","seq-predef");var a=e.createTextNode("\n        ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n      ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1,1]),a=new Array(2);return a[0]=e.createElementMorph(r),a[1]=e.createMorphAt(r,1,1),a},statements:[["element","action",["setRange",["get","region.start",["loc",[null,[34,29],[34,41]]],0,0,0,0],["get","region.stop",["loc",[null,[34,42],[34,53]]],0,0,0,0]],[],["loc",[null,[34,9],[34,55]]],0,0],["content","region.name",["loc",[null,[35,8],[35,23]]],0,0,0,0]],locals:["region"],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:27,column:0},end:{line:41,column:0}},moduleName:"flea-app/pods/components/sequence-range-controls/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default dropdown-toggle"),e.setAttribute(r,"data-toggle","dropdown");var a=e.createTextNode("Predefined\n    ");e.appendChild(r,a);var a=e.createElement("span");e.setAttribute(a,"class","caret"),e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("ul");e.setAttribute(r,"class","dropdown-menu");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[0,3]),1,1),r},statements:[["block","each",[["get","predefinedRegions",["loc",[null,[32,12],[32,29]]],0,0,0,0]],[],0,null,["loc",[null,[32,4],[38,13]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:42,column:0}},moduleName:"flea-app/pods/components/sequence-range-controls/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Jump left");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-fast-backward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Move left");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-backward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("span");e.setAttribute(n,"class","input-group-addon");var r=e.createTextNode("Range");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Move right");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-forward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Jump right");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-fast-forward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0,1]),a=e.childAt(t,[2,1]),l=e.childAt(t,[8,1]),o=e.childAt(t,[10,1]),i=new Array(6);return i[0]=e.createElementMorph(r),i[1]=e.createElementMorph(a),i[2]=e.createMorphAt(t,6,6,n),i[3]=e.createElementMorph(l),i[4]=e.createElementMorph(o),i[5]=e.createMorphAt(t,12,12,n),e.insertBoundary(t,null),i},statements:[["element","action",["moveRanges",-5],[],["loc",[null,[2,10],[2,36]]],0,0],["element","action",["moveRanges",-1],[],["loc",[null,[7,10],[7,36]]],0,0],["inline","input",[],["type","string","class",["subexpr","concat",["form-control"," ",["subexpr","if",[["get","inputClass",[],0,0,0,0],["subexpr","-normalize-class",["inputClass",["get","inputClass",[],0,0,0,0]],[],[],0,0]],[],[],0,0]," "],[],[],0,0],"value",["subexpr","@mut",[["get","rangeText",["loc",[null,[12,49],[12,58]]],0,0,0,0]],[],[],0,0],"placeholder","reference coordinate range (e.g. 160-200)","autofocus","autofocus","focus-out","handleTextSubmit","insert-newline","handleTextSubmit"],["loc",[null,[12,0],[16,2]]],0,0],["element","action",["moveRanges",1],[],["loc",[null,[18,10],[18,35]]],0,0],["element","action",["moveRanges",5],[],["loc",[null,[23,10],[23,35]]],0,0],["block","if",[["get","predefinedRegions",["loc",[null,[27,6],[27,23]]],0,0,0,0]],[],0,null,["loc",[null,[27,0],[41,7]]]]],locals:[],templates:[e]}}())}),define("flea-app/pods/components/sequence-viewer/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){e.default=t.default.Component.extend({groupedSequences:{},alnToRef:null,selectedPositions:[],selectDefault:!1,refHTML:function(){for(var e=[],t=this.get("alnToRef"),r=this.get("alnRanges"),a=0;a<r.length;a++){for(var l=-1,o=r[a][0],i=r[a][1],s=o;s<i;s++){var d=(0,n.oneIndex)(t[s]),c="";c=d<10?"  "+d:d<100?" "+d:""+d,l===d&&(c=" - ");var u="seq-cell ref-coords col";this.get("selectedPositions").contains(s)&&(u+=" selected_position"),c=c.split("").join("<br/>"),c+="<br/>",e.push({_class:u,dataCoord:s,html:c}),l=d}r.length>1&&a<r.length-1&&e.push({_class:"ref_coord seperator",dataCoord:"",html:"|<br/>|<br/>|"})}return e}.property("alnRanges","alnToRef","markPositive","positiveSelection","selectedPositions","selectedPositions.[]"),visiblePositiveSites:function(){for(var e=this.get("positiveSelection"),t=this.get("alnRanges"),n=[],r=0;r<e.length;r++){for(var a=[],l=e[r],o=0;o<t.length;o++)for(var i=t[o][0],s=t[o][1],d=0;d<l.length;d++){var c=l[d];if(i<=c&&c<=s&&a.push(c),c>s)break}n.push(a)}return n}.property("positiveSelection.[]","alnRanges.[]"),allSelectionStrings:function(){var e=this.get("visiblePositiveSites"),t=this.get("alnRanges"),n=_.flatten(t.map(function(e){return _.range(e[0],e[1])}));return e.map(function(e){return n.map(function(t){return e.indexOf(t)>=0?"<td class = 'seq-cell'>+</td>":"<td class = 'seq-cell'></td>"}).join("")})}.property("visiblePositiveSites.[]","alnRanges.[]"),combinedSelectionString:function(){return this.get("allSelectionStrings")[0]}.property("allSelectionStrings.[]"),individualSelectionStrings:function(){var e=this.get("allSelectionStrings"),t=e.slice(1,e.length);return t}.property("allSelectionStrings.[]"),groupedAndSelected:function(){var e=this.get("groupedSequences"),t=this.get("individualSelectionStrings");return _.range(0,e.length).map(function(n){return{group:e[n],pos:t[n]}})}.property("groupedSequences.[]","individualSelectionStrings.[]"),selectAllPositive:function(){var e=this.get("visiblePositiveSites")[0];this.sendSelected(e)},sendSelected:function(e){this.sendAction("setSelectedPositions",e)},actions:{togglePosition:function(e){e=+e;var t=this.get("selectedPositions"),n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e),this.sendSelected(t.slice())},clearPositions:function(){this.sendSelected([])},selectPositiveClicked:function(){this.selectAllPositive()}}})}),define("flea-app/pods/components/sequence-viewer/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:11,column:4},end:{line:19,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("\n    ");e.appendChild(t,n);var n=e.createElement("th"),r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1]),a=new Array(4);return a[0]=e.createAttrMorph(r,"class"),a[1]=e.createAttrMorph(r,"data-coord"),a[2]=e.createElementMorph(r),a[3]=e.createUnsafeMorphAt(r,1,1),a},statements:[["attribute","class",["concat",[["get","elt._class",["loc",[null,[13,17],[13,27]]],0,0,0,0]],0,0,0,0,0],0,0,0,0],["attribute","data-coord",["concat",[["get","elt.dataCoord",["loc",[null,[14,24],[14,37]]],0,0,0,0]],0,0,0,0,0],0,0,0,0],["element","action",["togglePosition",["get","elt.dataCoord",["loc",[null,[15,36],[15,49]]],0,0,0,0]],[],["loc",[null,[15,10],[15,51]]],0,0],["content","elt.html",["loc",[null,[16,6],[16,20]]],0,0,0,0]],locals:["elt"],templates:[]}}(),t=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:26,column:4},end:{line:33,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr");e.setAttribute(n,"class","positivePositions");var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("th");e.setAttribute(r,"class","seq-cell row"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createUnsafeMorphAt(e.childAt(t,[1]),3,3),r},statements:[["content","combinedSelectionString",["loc",[null,[29,6],[29,35]]],0,0,0,0]],locals:[],templates:[]}}(),n=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:36,column:4},end:{line:43,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr"),r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("th");e.setAttribute(r,"class","seq-cell row");var a=e.createTextNode("Reference");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),3,3),r},statements:[["inline","amino-acid",[["get","reference",["loc",[null,[39,19],[39,28]]],0,0,0,0]],[],["loc",[null,[39,6],[39,30]]],0,0]],locals:[],templates:[]}}(),r=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:54,column:4},end:{line:61,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr");e.setAttribute(n,"class","positivePositions");var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("th");e.setAttribute(r,"class","seq-cell row");var a=e.createComment("");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1]),a=new Array(2);return a[0]=e.createMorphAt(e.childAt(r,[1]),0,0),a[1]=e.createUnsafeMorphAt(r,3,3),a},statements:[["content","obj.group.label",["loc",[null,[56,31],[56,50]]],0,0,0,0],["content","obj.pos",["loc",[null,[57,6],[57,19]]],0,0,0,0]],locals:[],templates:[]}}(),t=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:77,column:35},end:{line:79,column:10}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("\n          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n          ");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["content","seq.copyNumber",["loc",[null,[78,10],[78,28]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:64,column:10},end:{line:82,column:10}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createElement("tr"),r=e.createTextNode("\n            ");e.appendChild(n,r);var r=e.createComment('\n              Chat to Rob about this does obj.group.label have a purpose??\n              for now, i assumed not can fix it in future if needs be\n{{#if markPositive}}\n                <td class="seq-cell notopborder"></td>\n              {{else}}\n                <td class="seq-cell">{{obj.group.label}}</td>\n              {{/if}}            ');e.appendChild(n,r);var r=e.createTextNode("\n            ");e.appendChild(n,r);var r=e.createElement("th");e.setAttribute(r,"class","seq-cell row notopborder"),e.appendChild(n,r);var r=e.createTextNode("\n          ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n          ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell pad");var a=e.createComment("");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n          ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell pad");var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("%");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n         ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1]),a=new Array(3);return a[0]=e.createMorphAt(r,5,5),a[1]=e.createMorphAt(e.childAt(r,[7]),0,0),a[2]=e.createMorphAt(e.childAt(r,[9]),0,0),a},statements:[["inline","amino-acid",[["get","seq.sequence",["loc",[null,[76,23],[76,35]]],0,0,0,0]],["ranges",["subexpr","@mut",[["get","seq.highlights",["loc",[null,[76,43],[76,57]]],0,0,0,0]],[],[],0,0],"mask",["subexpr","@mut",[["get","seq.mask",["loc",[null,[76,63],[76,71]]],0,0,0,0]],[],[],0,0]],["loc",[null,[76,10],[76,73]]],0,0],["block","bootstrap-popover",[],["title","","dataContent",["subexpr","@mut",[["get","seq.html",["loc",[null,[77,77],[77,85]]],0,0,0,0]],[],[],0,0],"placement","right"],0,null,["loc",[null,[77,35],[79,32]]]],["inline","format-percent",[["get","seq.percent",["loc",[null,[80,52],[80,63]]],0,0,0,0]],[],["loc",[null,[80,35],[80,65]]],0,0]],locals:["seq"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:51,column:4},end:{line:101,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createComment(' <td class="seq-cell">\n        <ul>\n{{#each obj.group.sequences as |seq|}}\n          <li>\n            {{#bootstrap-popover title="" dataContent=seq.html placement="right"}}\n            {{seq.copyNumber}}\n            {{/bootstrap-popover}}\n          </li>\n          {{/each}}        </ul>\n      </td>\n      <td class="seq-cell">\n        <ul>\n{{#each obj.group.sequences as |seq|}}\n          <li>{{format-percent seq.percent}}%</li>\n          {{/each}}        </ul>\n      </td> ');e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(2);return r[0]=e.createMorphAt(t,1,1,n),r[1]=e.createMorphAt(t,3,3,n),r},statements:[["block","if",[["get","markPositive",["loc",[null,[54,10],[54,22]]],0,0,0,0]],[],0,null,["loc",[null,[54,4],[61,11]]]],["block","each",[["get","obj.group.sequences",["loc",[null,[64,18],[64,37]]],0,0,0,0]],[],1,null,["loc",[null,[64,10],[82,19]]]]],locals:["obj"],templates:[e,t]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:104,column:0}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("table");e.setAttribute(n,"class","table table-hover table-condensed nostretch sequence-viewer fixed-heads"),e.setAttribute(n,"id","sequence-viewer");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("thead"),a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("tr"),l=e.createTextNode("\n    ");e.appendChild(a,l);var l=e.createElement("th");e.setAttribute(l,"class","seq-cell");var o=e.createTextNode("ref. coord.");e.appendChild(l,o);var o=e.createElement("br");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o);var o=e.createElement("div"),i=e.createTextNode("\n      ");e.appendChild(o,i);var i=e.createElement("button");e.setAttribute(i,"title","Select positive sites"),e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm");var s=e.createElement("i");e.setAttribute(s,"class","fa fa-plus"),e.appendChild(i,s),e.appendChild(o,i);var i=e.createTextNode("\n      ");e.appendChild(o,i);var i=e.createElement("button");e.setAttribute(i,"title","Clear sites"),e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm");var s=e.createElement("i");e.setAttribute(s,"class","fa fa-remove"),e.appendChild(i,s),e.appendChild(o,i);var i=e.createTextNode("\n      ");e.appendChild(o,i),e.appendChild(l,o);var o=e.createTextNode("\n    ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l);var l=e.createElement("th");e.setAttribute(l,"class","seq-cell col"),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l);var l=e.createElement("th");e.setAttribute(l,"class","seq-cell col"),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createElement("tbody"),a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createElement("tr"),l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("th");e.setAttribute(l,"class","seq-cell row");var o=e.createTextNode("MRCA");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("td");e.setAttribute(l,"class","seq-cell"),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("td");e.setAttribute(l,"class","seq-cell"),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(r,[1,1]),l=e.childAt(a,[1,3]),o=e.childAt(l,[1]),i=e.childAt(l,[3]),s=e.childAt(r,[3]),d=new Array(7);return d[0]=e.createElementMorph(o),d[1]=e.createElementMorph(i),d[2]=e.createMorphAt(a,3,3),d[3]=e.createMorphAt(s,1,1),d[4]=e.createMorphAt(s,3,3),d[5]=e.createMorphAt(e.childAt(s,[4]),3,3),d[6]=e.createMorphAt(s,6,6),d},statements:[["element","action",["selectPositiveClicked"],[],["loc",[null,[6,89],[6,123]]],0,0],["element","action",["clearPositions"],[],["loc",[null,[7,79],[7,106]]],0,0],["block","each",[["get","refHTML",["loc",[null,[11,12],[11,19]]],0,0,0,0]],[],0,null,["loc",[null,[11,4],[19,13]]]],["block","if",[["get","markPositive",["loc",[null,[26,10],[26,22]]],0,0,0,0]],[],1,null,["loc",[null,[26,4],[33,11]]]],["block","if",[["get","reference",["loc",[null,[36,10],[36,19]]],0,0,0,0]],[],2,null,["loc",[null,[36,4],[43,11]]]],["inline","amino-acid",[["get","mrca",["loc",[null,[46,19],[46,23]]],0,0,0,0]],[],["loc",[null,[46,6],[46,25]]],0,0],["block","each",[["get","groupedAndSelected",["loc",[null,[51,12],[51,30]]],0,0,0,0]],[],3,null,["loc",[null,[51,4],[101,13]]]]],locals:[],templates:[e,t,n,r]}}())}),define("flea-app/pods/components/timeseries-plot/component",["exports","ember","flea-app/utils/utils","flea-app/mixins/d3-plot-mixin","flea-app/mixins/width-mixin"],function(e,t,n,r,a){e.default=t.default.Component.extend(r.default,a.default,{width:800,height:350,interpolation:"linear",ymin:null,data:[],data2:[],userColors:null,tickMap:{},margin:{top:20,right:50,bottom:60,left:50},seriesNames:function(){var e=this.get("data"),t=this.get("data2"),n=e.map(function(e){return e.name}),r=t.map(function(e){return e.name});return n.concat(r)}.property("data.[].name","data2.[].name"),dates:function(){var e=this.get("data"),t=e.map(function(e){return e.values.map(function(e){return e.x})});return t=d3.set(d3.merge(t)).values(),t=t.map(function(e){return new Date(e)})}.property("data.[].values.[].x"),xDomain:function(){return d3.extent(this.get("dates"))}.property("dates.[]"),xScale:function(){var e=this.get("xDomain");e=e.map(function(e){return new Date(e)});var t=d3.time.scale().domain(e).range([0,this.get("innerWidth")]);return t}.property("innerWidth","xDomain"),_yScale:function(e){var t=d3.max(e,function(e){return d3.max(e.values,function(e){return e.y})}),n=this.get("ymin");return null===n&&(n=d3.min(e,function(e){return d3.min(e.values,function(e){return e.y})})),n===t&&(t+=1,n=Math.max(0,n-1)),d3.scale.linear().range([this.get("innerHeight"),0]).domain([n,t])},yScale:function(){return this._yScale(this.get("data"))}.property("innerHeight","data.[].values.[].y","ymin"),yScale2:function(){return this._yScale(this.get("data2"))}.property("innerHeight","data2.[].values.[].y","ymin"),d3Line:function(){var e=this.get("xScale"),t=this.get("yScale");return d3.svg.line().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).interpolate(this.get("interpolation"))}.property("xScale","yScale","interpolation"),d3Line2:function(){var e=this.get("xScale"),t=this.get("yScale2");return d3.svg.line().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).interpolate(this.get("interpolation"))}.property("xScale","yScale2","interpolation"),xAxisFormat:function(){var e=this.get("tickMap");return function(t){return(0,n.mapIfPresent)(e,t)}}.property("tickMap"),xTickValues:function(){return this.get("dates")}.property("dates"),yAxisFormat:function(){return d3.format(".00")}.property(),seriesColors:function(){var e=this.get("userColors");if(null!==e)return e;var t=this.get("seriesNames");return e=t.length<=10?d3.scale.category10():d3.scale.category20(),e.domain(t),e}.property("userColors","seriesNames"),_updateData:function(e,t,n){var r=d3.select("#"+this.get("elementId")).select(".inner"),a=this.get("seriesColors"),l=r.select(n).selectAll("path").data(e,function(e){return e.name});l.enter().append("path").attr("class","timeseries_line"),l.attr("d",function(e){return t(e.values)}).style("stroke",function(e){return a(e.name)}),l.exit().remove()},_updateChart:function(){this._updateData(this.get("data"),this.get("d3Line"),".lines"),this._updateData(this.get("data2"),this.get("d3Line2"),".lines2")},onChartChange:function(){"inDOM"===this._state&&t.default.run.once(this,"_updateChart")}.observes("data.[].name","data.[].values.[].x","data.[].values.[].y","data2.[].name","data2.[].values.[].x","data2.[].values.[].y","d3Line","d3Line2","xScale","yScale","yScale2")})}),define("flea-app/pods/components/timeseries-plot/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:18,column:2},end:{line:24,column:2}},moduleName:"flea-app/pods/components/timeseries-plot/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("  ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["inline","graph-axis",[],["class","y axis","transform",["subexpr","@mut",[["get","yAxisTransform",["loc",[null,[20,12],[20,26]]],0,0,0,0]],[],[],0,0],"orient","right","scale",["subexpr","@mut",[["get","yScale2",["loc",[null,[22,8],[22,15]]],0,0,0,0]],[],[],0,0],"tickFormat",["subexpr","@mut",[["get","yAxisFormat",["loc",[null,[23,13],[23,24]]],0,0,0,0]],[],[],0,0]],["loc",[null,[19,2],[23,26]]],0,0]],
locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:34,column:0}},moduleName:"flea-app/pods/components/timeseries-plot/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("g");e.setAttribute(n,"class","inner");var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","lines"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","lines2"),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(5);return a[0]=e.createAttrMorph(r,"transform"),a[1]=e.createMorphAt(r,1,1),a[2]=e.createMorphAt(r,3,3),a[3]=e.createMorphAt(r,5,5),a[4]=e.createMorphAt(r,11,11),a},statements:[["attribute","transform",["concat",[["get","innerGroupTransform",["loc",[null,[1,16],[1,35]]],0,0,0,0]],0,0,0,0,0],0,0,0,0],["inline","graph-axis",[],["class","x axis","transform",["subexpr","@mut",[["get","xAxisTransform",["loc",[null,[4,12],[4,26]]],0,0,0,0]],[],[],0,0],"scale",["subexpr","@mut",[["get","xScale",["loc",[null,[5,8],[5,14]]],0,0,0,0]],[],[],0,0],"tickFormat",["subexpr","@mut",[["get","xAxisFormat",["loc",[null,[6,13],[6,24]]],0,0,0,0]],[],[],0,0],"tickValues",["subexpr","@mut",[["get","xTickValues",["loc",[null,[7,13],[7,24]]],0,0,0,0]],[],[],0,0],"tickSize",12,"tickPadding",3,"rotate",45],["loc",[null,[3,2],[11,4]]],0,0],["inline","graph-axis",[],["class","y axis","orient","left","scale",["subexpr","@mut",[["get","yScale",["loc",[null,[15,8],[15,14]]],0,0,0,0]],[],[],0,0],"tickFormat",["subexpr","@mut",[["get","yAxisFormat",["loc",[null,[16,13],[16,24]]],0,0,0,0]],[],[],0,0]],["loc",[null,[13,2],[16,26]]],0,0],["block","if",[["get","data2",["loc",[null,[18,8],[18,13]]],0,0,0,0]],[],0,null,["loc",[null,[18,2],[24,9]]]],["inline","d3-legend",[],["legendLabels",["subexpr","@mut",[["get","seriesNames",["loc",[null,[30,17],[30,28]]],0,0,0,0]],[],[],0,0],"legendColors",["subexpr","@mut",[["get","seriesColors",["loc",[null,[31,17],[31,29]]],0,0,0,0]],[],[],0,0]],["loc",[null,[29,2],[32,4]]],0,0]],locals:[],templates:[e]}}())}),define("flea-app/pods/components/x-select-bootstrap-max/component",["exports","flea-app/pods/components/x-select-bootstrap/component"],function(e,t){e.default=t.default.extend({maxSelected:-1,multiple:!0,didInsertElement:function(){this.setInitial(),this.$().multiselect(),this.updateDisabled()},updateDisabled:function(){var e=this.get("maxSelected");if(e>0)if(this.get("value.length")>=e){var t=this.$("option").filter(function(){return!$(this).is(":selected")});t.each(function(){var e=$('input[value="'+$(this).val()+'"]');e.prop("disabled",!0),e.parent("li").addClass("disabled")})}else this.$("option").each(function(){var e=$('input[value="'+$(this).val()+'"]');e.prop("disabled",!1),e.parent("li").removeClass("disabled")})}.observes("value.length","maxSelected")})}),define("flea-app/pods/components/x-select-bootstrap/component",["exports","emberx-select/components/x-select"],function(e,t){e.default=t.default.extend({classNames:["form-control"],makeMulti:!1,didInsertElement:function(){this.setInitial(),(this.get("makeMulti")||this.get("multiple"))&&this.$().multiselect()},setInitial:function(){var e=this.get("value");this.get("multiple")||(e=[e]),this.$("option").each(function(){var t=$(this);e.indexOf(t[0].value)>-1&&t.prop("selected",!0)})}})}),define("flea-app/pods/session/controller",["exports","ember"],function(e,t){e.default=t.default.Controller.extend({showTrajectory:function(){try{var e=this.get("model.runinfo.configuration.Tasks.hyphy_analysis_slow");return"True"===e||"False"!==e&&e}catch(e){return!1}}.property("model.runinfo.configuration.Tasks.hyphy_analysis_slow")})}),define("flea-app/pods/session/error/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:9,column:0}},moduleName:"flea-app/pods/session/error/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","error-pane");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","error-title");var a=e.createTextNode("\n    Something went wrong.\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","error-message");var a=e.createTextNode("\n    This message will be more informative in the future. Maybe some data is missing?\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("flea-app/pods/session/index/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({redirect:function(){this.transitionTo("session.mds")}})}),define("flea-app/pods/session/loading/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:14,column:0}},moduleName:"flea-app/pods/session/loading/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","loading-pane");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","loading-message");var a=e.createTextNode("\n    Fetching data from server\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","spinner");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect1"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect2"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect3"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect4"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect5"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("flea-app/pods/session/mds/controller",["exports","ember","flea-app/mixins/color-label-mixin"],function(e,t,n){e.default=t.default.Controller.extend(n.default,{pattern:"",highlightedNodes:function(){var e=this.get("pattern");if(!e)return[];var t=this.get("model.sequences.observed");return new Set(t.map(function(e){return e.id}).filter(function(t){return t.search(e)>=0}))}.property("pattern")})}),define("flea-app/pods/session/mds/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(){var e=this.modelFor("session").session_id;return t.default.RSVP.hash({mds:this.store.find("mds",e),sequences:this.store.find("sequences",e),copynumbers:this.store.find("copynumbers",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/mds/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:32,column:0}},moduleName:"flea-app/pods/session/mds/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12 pull-right");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Interpolate colors by date");var o=e.createTextNode("\n        Interpolate colors\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12"),e.setAttribute(r,"id","_mds_viewer");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0,1,1]),a=new Array(3);return a[0]=e.createMorphAt(r,1,1),a[1]=e.createMorphAt(e.childAt(r,[3]),1,1),a[2]=e.createMorphAt(e.childAt(t,[2,1]),1,1),a},statements:[["inline","input",[],["type","text","class",["subexpr","concat",["form-control"," ",["subexpr","if",[["get","patternClass",[],0,0,0,0],["subexpr","-normalize-class",["patternClass",["get","patternClass",[],0,0,0,0]],[],[],0,0]],[],[],0,0]," "],[],[],0,0],"value",["subexpr","@mut",[["get","pattern",["loc",[null,[4,53],[4,60]]],0,0,0,0]],[],[],0,0],"placeholder","Names to highlight","autofocus","autofocus"],["loc",[null,[4,6],[7,8]]],0,0],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","rankColors",["loc",[null,[11,40],[11,50]]],0,0,0,0]],[],[],0,0]],["loc",[null,[11,8],[11,52]]],0,0],["inline","mds-viewer",[],["data",["subexpr","@mut",[["get","model.mds",["loc",[null,[20,11],[20,20]]],0,0,0,0]],[],[],0,0],"copynumbers",["subexpr","@mut",[["get","model.copynumbers",["loc",[null,[21,18],[21,35]]],0,0,0,0]],[],[],0,0],"nameToNodeLabel",["subexpr","@mut",[["get","seqIdToNodeName",["loc",[null,[22,22],[22,37]]],0,0,0,0]],[],[],0,0],"nameToNodeColor",["subexpr","@mut",[["get","seqIdToNodeColor",["loc",[null,[23,22],[23,38]]],0,0,0,0]],[],[],0,0],"nameToMotifColor",["subexpr","@mut",[["get","seqIdToMotifColor",["loc",[null,[24,23],[24,40]]],0,0,0,0]],[],[],0,0],"nameToMotif",["subexpr","@mut",[["get","model.sequences.idToMotif",["loc",[null,[25,18],[25,43]]],0,0,0,0]],[],[],0,0],"legendLabels",["subexpr","@mut",[["get","sortedVisitCodes",["loc",[null,[26,19],[26,35]]],0,0,0,0]],[],[],0,0],"legendColors",["subexpr","@mut",[["get","colorScaleVisitCode",["loc",[null,[27,19],[27,38]]],0,0,0,0]],[],[],0,0],"highlightedNodes",["subexpr","@mut",[["get","highlightedNodes",["loc",[null,[28,23],[28,39]]],0,0,0,0]],[],[],0,0]],["loc",[null,[19,4],[29,6]]],0,0]],locals:[],templates:[]}}())}),define("flea-app/pods/session/neutralization/controller",["exports","ember","flea-app/utils/utils"],function(e,t,n){function r(e){return l(100*e)+"%"}function a(e,t,n){return t in e||(e[t]=n),e[t]}var l=d3.format(".2f");e.default=t.default.Controller.extend({mabNames:function(){var e=this.get("model.neutralization"),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort(),t}.property("model.neutralization.[]"),mabFeatures:function(){for(var e=this.get("model.neutralization"),t=this.get("model.sequences.seqIdToDate"),n={},r=this.get("mabNames"),l=0;l<r.length;l++){var o=r[l];if(e.hasOwnProperty(o))for(var i=e[o].predictions,s=a(n,o,{}),d=0;d<i.length;d++){var c=i[d];if(c.id in t)for(var u=t[c.id],p=+c.value,m=a(s,u,{}),h=a(m,"features",[]),f=c.features,v=0;v<f.length;v++)h.push({name:f[v],value:p>0})}}return n}.property("mabName.[]","model.neutralization.[]","model.sequences.seqIdToDate"),sortedDates:function(){var e=this.get("model.dates"),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(new Date(n));return t.sort(function(e,t){return e<t?-1:1}),t}.property("model.dates.[]"),headerNames:function(){var e=this.get("sortedDates"),t=e.map(function(e){return(0,n.format_date)(e)});return t.splice(0,0,"mab"),t}.property("sortedDate.[]"),tableData:function(){var e=d3.interpolateRgb("white","red"),t=this.get("mabFeatures"),a=this.get("sortedDates"),l=[];for(var o in t)if(t.hasOwnProperty(o)){var i=[];i.push({value:o,style:"",html:""});for(var s=0;s<a.length;s++){var d=a[s];if(t[o].hasOwnProperty(d)){var c=t[o][d].features,u=0,p=[],m=[];c.length>0&&(p=c.filter(function(e){return e.value}),m=c.filter(function(e){return!e.value}),u=p.length/(p.length+m.length));var h=c.reduce(function(e,t){return t.name in e||(e[t.name]=[0,0]),t.value?e[t.name][1]+=1:e[t.name][0]+=1,e},{}),f=["feature","susceptible","resistant"],v=[];for(var g in h)h.hasOwnProperty(g)&&v.push([g,h[g][0],h[g][1]]);var b=e(u);i.push({value:r(u),style:"background-color: "+b,html:(0,n.htmlTable)(v,f)})}}l.push(i)}return l}.property("mabFeature.[]","sortedDate.[]")})}),define("flea-app/pods/session/neutralization/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(){var e=this.modelFor("session").session_id;return t.default.RSVP.hash({neutralization:this.store.find("neutralization",e),sequences:this.store.find("sequences",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/neutralization/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:7,column:0}},moduleName:"flea-app/pods/session/neutralization/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row"),e.setAttribute(n,"id","neutralization");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[0,1]),1,1),r},statements:[["inline","color-table",[],["header",["subexpr","@mut",[["get","headerNames",["loc",[null,[3,25],[3,36]]],0,0,0,0]],[],[],0,0],"data",["subexpr","@mut",[["get","tableData",["loc",[null,[3,42],[3,51]]],0,0,0,0]],[],[],0,0]],["loc",[null,[3,4],[3,53]]],0,0]],locals:[],templates:[]}}())}),define("flea-app/pods/session/protein/controller",["exports","ember","flea-app/utils/utils"],function(e,t,n){e.default=t.default.Controller.extend({_metrics:["dNdS","JS Divergence","Entropy"],selectedMetric:"JS Divergence",markPositive:!0,selectedTimepointIdx:0,playing:!1,application:t.default.inject.controller(),session:t.default.inject.controller(),currentPath:function(){var e=this.get("application.rootURL"),t=this.get("application.currentPath"),n=this.get("session.model.session_id");return t=t.replace("session",n).replace(".","/"),e+t}.property("application.rootURL","application.currentPath","session.session_id"),metrics:function(){return this.get("model.rates.exists")?this.get("_metrics"):["JS Divergence"]}.property("model.rates.exists","_metrics"),labels:function(){var e=this.get("selectedMetric");return"dNdS"===e?["Mean dS","Mean dN"]:[e]}.property("selectedMetric"),getRate:function(e,t){var n=e.map(function(e){return e.rates.map(function(e){return e[t]})});return n},meanDS:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,0)}.property("model.rates.sortedRates.[].[]"),meanDN:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,1)}.property("model.rates.sortedRates.[].[]"),entropy:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,4)}.property("model.rates.sortedRates.[].[]"),divergence:function(){var e=this.get("model.divergence.sortedDivergence");return e.map(function(e){return e.divergence})}.property("model.divergence.sortedDivergence"),addCombined:function(){return"JS Divergence"===this.get("selectedMetric")}.property("selectedMetric"),data1:function(){var e=this.get("selectedMetric");if("Entropy"===e)return this.get("entropy");if("JS Divergence"===e)return this.get("divergence");if("dNdS"===e)return this.get("meanDS");throw"Invalid metric"}.property("selectedMetric","divergence","entropy","meanDS"),data2:function(){var e=this.get("selectedMetric");return"dNdS"===e?this.get("meanDN"):[]}.property("selectedMetric","divergence","entropy","meanDN"),structureData:function(){var e=this.get("selectedMetric");if("Entropy"===e)return this.get("entropy");if("JS Divergence"===e)return this.get("divergence");if("dNdS"===e){for(var t=this.get("meanDN"),n=this.get("meanDS"),r=[],a=0;a<t.length;a++){var l=_.zip(t[a],n[a]),o=l.map(function(e){var t=Math.log(e[0]/e[1]);return t});r.push(o)}return r}throw{name:"UnknownMetricError",message:e}}.property("model.coordinates.refToFirstAlnCoords","meanDN","meanDS","entropy","divergence","selectedTimepointIdx","selectedMetric"),selectedStructureData:function(){var e=this.get("selectedTimepointIdx");e>=this.get("names.length")&&(e=this.get("names.length")-1);var t=this.get("structureData")[e],n=this.get("model.coordinates.refToFirstAlnCoords"),r=_.map(n,function(e){return t[e]||0});return r}.property("structureData","selectedTimepointIdx"),structureDataRange:function(){var e=this.get("structureData"),t=d3.min(e,function(e){return d3.min(e)}),n=d3.max(e,function(e){return d3.max(e)});if(t<0&&n>0){var r=Math.max(Math.abs(t),n);t=-r,n=r}return[t,n]}.property("structureData"),timepoints:function(){if("JS Divergence"===this.get("selectedMetric")){var e=this.get("model.divergence.sortedDivergence");return e.map(function(e){return e.date})}var t=this.get("model.rates.sortedRates"),n=t.map(function(e){return e.date});return n}.property("model.rates.sortedRates.[].[]","selectedMetric"),names:function(){var e=this.get("timepoints"),t=this.get("model.dates"),r=e.map(function(e){return"Combined"===e?e:((0,n.isString)(e)&&(e=(0,n.parse_date)(e)),(0,n.mapIfPresent)(t,e))});return r}.property("timepoints.[]"),selectedName:function(){return this.get("names")[this.get("selectedTimepointIdx")]}.property("names","selectedTimepointIdx"),positions:function(){return this.get("markPositive")?this.get("model.rates.positiveSelection"):[]}.property("markPositive","model.rates.positiveSelection"),startPlayback:function(){this.set("timer",this.schedule(this.get("nextTimepoint"))),this.set("playing",!0)},stopPlayback:function(){t.default.run.cancel(this.get("timer")),this.set("playing",!1)}.observes("selectedMetric"),buttonClass:function(){return this.get("playing")?"fa fa-stop":"fa fa-play"}.property("playing"),interval:function(){return 1e3}.property().readOnly(),schedule:function(e){return t.default.run.later(this,function(){e.apply(this),this.set("timer",this.schedule(e))},this.get("interval"))},nextTimepoint:function(){var e=(this.get("selectedTimepointIdx")+1)%this.get("timepoints.length");this.set("selectedTimepointIdx",e)},actions:{togglePlayback:function(){this.get("playing")?this.stopPlayback():this.startPlayback()},selectMetric:function(e){null!=e&&this.set("selectedMetric",e)},selectTimepointIdx:function(e){null!=e&&this.set("selectedTimepointIdx",e)}}})}),define("flea-app/pods/session/protein/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(){var e=this.modelFor("session").session_id;return t.default.RSVP.hash({rates:this.store.find("rates",e),structure:this.store.find("structure",e),coordinates:this.store.find("coordinates",e),divergence:this.store.find("divergence",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/protein/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:26,column:8},end:{line:26,column:44}},moduleName:"flea-app/pods/session/protein/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[26,34],[26,44]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:25,column:8},end:{line:27,column:8}},moduleName:"flea-app/pods/session/protein/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[26,26],[26,32]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[26,8],[26,57]]]]],locals:["metric"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:24,column:8},end:{line:28,column:8}},moduleName:"flea-app/pods/session/protein/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","metrics",["loc",[null,[25,16],[25,23]]],0,0,0,0]],[],0,null,["loc",[null,[25,8],[27,17]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:49,column:0}},moduleName:"flea-app/pods/session/protein/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","pv-viewer");var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","form-horizontal control-group");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-1");var a=e.createTextNode("\n  ");e.appendChild(r,a);var a=e.createElement("button");e.setAttribute(a,"type","button"),e.setAttribute(a,"class","btn btn-default btn-sm"),e.setAttribute(a,"title","Toggle playback");var l=e.createTextNode("\n    ");e.appendChild(a,l);var l=e.createElement("i");e.appendChild(a,l);var l=e.createTextNode("\n  ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-9");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-2 flea-value");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("output"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createElement("label");e.setAttribute(o,"for","evo_regions");var i=e.createTextNode("Metrics(s) to plot");e.appendChild(o,i),e.appendChild(l,o);var o=e.createTextNode("\n");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createElement("label"),i=e.createTextNode("Mark positively selected sites");e.appendChild(o,i),e.appendChild(l,o);var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[2]),a=e.childAt(r,[1,1]),l=e.childAt(a,[1]),o=e.childAt(t,[4,1,1]),i=new Array(8);return i[0]=e.createMorphAt(e.childAt(t,[0]),1,1),i[1]=e.createElementMorph(a),i[2]=e.createAttrMorph(l,"class"),i[3]=e.createMorphAt(e.childAt(r,[3]),1,1),i[4]=e.createMorphAt(e.childAt(r,[5,1]),0,0),i[5]=e.createMorphAt(e.childAt(o,[1]),3,3),i[6]=e.createMorphAt(e.childAt(o,[3]),3,3),i[7]=e.createMorphAt(e.childAt(t,[6,1]),1,1),i},statements:[["inline","pv-wrapper",[],["structure",["subexpr","@mut",[["get","model.structure",["loc",[null,[2,23],[2,38]]],0,0,0,0]],[],[],0,0],"data",["subexpr","@mut",[["get","selectedStructureData",["loc",[null,[2,44],[2,65]]],0,0,0,0]],[],[],0,0],"range",["subexpr","@mut",[["get","structureDataRange",["loc",[null,[2,72],[2,90]]],0,0,0,0]],[],[],0,0]],["loc",[null,[2,0],[2,92]]],0,0],["element","action",["togglePlayback"],[],["loc",[null,[7,10],[7,37]]],0,0],["attribute","class",["concat",[["get","buttonClass",["loc",[null,[8,16],[8,27]]],0,0,0,0]],0,0,0,0,0],0,0,0,0],["inline","range-selector",[],["values",["subexpr","@mut",[["get","timepoints",["loc",[null,[12,28],[12,38]]],0,0,0,0]],[],[],0,0],"selectedIdx",["subexpr","@mut",[["get","selectedTimepointIdx",["loc",[null,[12,51],[12,71]]],0,0,0,0]],[],[],0,0],"selectedIdxChanged","selectTimepointIdx"],["loc",[null,[12,4],[12,113]]],0,0],["content","selectedName",["loc",[null,[15,12],[15,28]]],0,0,0,0],["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedMetric",["loc",[null,[24,51],[24,65]]],0,0,0,0]],[],[],0,0],"action","selectMetric","id","protein_metrics"],0,null,["loc",[null,[24,8],[28,31]]]],["inline","input",[],["type","checkbox","name","markPositive","checked",["subexpr","@mut",[["get","markPositive",["loc",[null,[32,60],[32,72]]],0,0,0,0]],[],[],0,0]],["loc",[null,[32,8],[32,74]]],0,0],["inline","protein-plots",[],["names",["subexpr","@mut",[["get","names",["loc",[null,[41,26],[41,31]]],0,0,0,0]],[],[],0,0],"data1",["subexpr","@mut",[["get","data1",["loc",[null,[41,38],[41,43]]],0,0,0,0]],[],[],0,0],"data2",["subexpr","@mut",[["get","data2",["loc",[null,[41,50],[41,55]]],0,0,0,0]],[],[],0,0],"positions",["subexpr","@mut",[["get","positions",["loc",[null,[42,14],[42,23]]],0,0,0,0]],[],[],0,0],"labels",["subexpr","@mut",[["get","labels",["loc",[null,[42,31],[42,37]]],0,0,0,0]],[],[],0,0],"url",["subexpr","@mut",[["get","currentPath",["loc",[null,[42,42],[42,53]]],0,0,0,0]],[],[],0,0],"addCombined",["subexpr","@mut",[["get","addCombined",["loc",[null,[43,16],[43,27]]],0,0,0,0]],[],[],0,0],"alnToRefCoords",["subexpr","@mut",[["get","model.coordinates.alnToRefCoords",["loc",[null,[44,19],[44,51]]],0,0,0,0]],[],[],0,0],"refToFirstAlnCoords",["subexpr","@mut",[["get","model.coordinates.refToFirstAlnCoords",["loc",[null,[45,24],[45,61]]],0,0,0,0]],[],[],0,0]],["loc",[null,[41,4],[46,6]]],0,0]],locals:[],templates:[e]}}())}),define("flea-app/pods/session/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(e){return t.default.RSVP.hash({session_id:e.session_id,runinfo:this.store.find("runinfo",e.session_id)})}})}),define("flea-app/pods/session/sequences/controller",["exports","ember","flea-app/utils/utils","flea-app/mixins/color-label-mixin","flea-app/utils/parser"],function(e,t,n,r,a){function l(e){for(var t=0;t<e.length;t++){for(var n=e[t].sequences,r=0,a=0;a<n.length;a++)r+=n[a].copyNumber;for(var l=0;l<n.length;l++)n[l].percent=100*n[l].copyNumber/r}return e}function o(e,t){for(var n=0;n<e.length;n++){var r=e[n].sequences.filter(function(e){return e.percent>=t});e[n].sequences=r}return e}function i(e){var t=_.groupBy(e,function(e){return e.sequence}),n=[];for(var r in t)if(t.hasOwnProperty(r)){for(var a=t[r],l=[],o=0,i=0;i<a.length;i++)l.push(a[i].ids[0]),o+=a[i].copyNumber;n.push({sequence:a[0].sequence,ids:l,copyNumber:o})}return n}function s(e){for(var t=0;t<e.length;t++)for(var r=e[t].sequences,a=0;a<r.length;a++)r[a].html=(0,n.htmlTable1D)(r[a].ids,["Sequence ID"]);return e}function d(e,t){for(var r=0;r<e.length;r++)for(var a=e[r].sequences,l=0;l<a.length;l++)a[l].highlights=(0,n.regexRanges)(t,a[l].sequence);return e}function c(e,t){for(var n=0;n<e.length;n++)for(var r=e[n].sequences,a=0;a<r.length;a++){var l=r[a];r[a].mask=l.sequence.split("").map(function(e,n){return e===t[n]})}return e}var u=function(){function e(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p="N[^P][ST]";e.default=t.default.Controller.extend(r.default,{ranges:[[159,200]],_pattern:p,pattern:p,patternDefault:p,_regex:"",patternClass:"input-valid",_threshold:1,threshold:1,
markPositive:!0,defaultMaxMotifs:10,_maxMotifs:10,maxMotifs:10,_oldKeys:[],reference:function(){for(var e=this.get("model.sequences.reference"),t=this.get("model.coordinates.alnToRefCoords"),n=[e.sequence[0]],r=1;r<t.length;r++)t[r]===t[r-1]?n.push("-"):n.push(e.sequence[r]);return e.sequence=n.join(""),e}.property("model.sequences.reference","model.coordinates.alnToRefCoords"),regex:function(){this.set("patternClass","input-valid");var e=this.get("pattern");if(0===e.length)return".^";try{for(var t=[],n=a.default.parse(e),r=0;r<n.length;r++){var l=n[r];if("amino"===l.type)t.push(l.value+l.postmod);else{var o=l.value;"^"===l.premod&&(o+="|-"),t.push("["+l.premod+o+"]"+l.postmod)}}t=t.join("-*"),new RegExp(t,"g"),this.set("_regex",t)}catch(e){this.set("patternClass","input-invalid")}return this.get("_regex")}.property("pattern"),validAlnRange:function(){return[0,this.get("model.coordinates.alnToRefCoords.length")]}.property("model.coordinates.alnToRefCoords.length"),toSlices:function(e,t){return t.map(function(t){return e.slice(t[0],t[1])}).join("|")},mrcaSlice:function(){var e=this.get("model.sequences.mrca"),t=this.get("alnRanges");return this.toSlices(e.sequence,t)}.property("model.sequences.mrca","alnRanges"),refSlice:function(){var e=this.get("reference");if(0===e.length)return"";var t=this.get("alnRanges");return this.toSlices(e.sequence,t)}.property("model.sequences.mrca","alnRanges"),groupedSequences:function(){var e=this,t=this.get("model.sequences.observed"),r=this.get("model.copynumbers"),a=[],u=this.get("alnRanges"),p=this.get("mrcaSlice"),m=_.groupBy(t,function(e){return e.get("date")}),h=function(t){var n=e.toSlices(t.sequence,u),a=0;if(!(t.id in r))throw"copynumbers for sequence "+t.id+" not found";return a=r[t.id],{sequence:n,copyNumber:a,ids:[t.id]}},f=this.get("model.dates");for(var v in m)if(m.hasOwnProperty(v)){var g=m[v].map(h);g=i(g),g.sort(function(e,t){return t.copyNumber-e.copyNumber});var b=new Date(v);a.push({date:b,label:(0,n.mapIfPresent)(f,b),sequences:g})}return a.sort(function(e,t){return e.date-t.date}),a.forEach(function(e){e.date=(0,n.format_date)(e.date)}),a=l(a),a=o(a,this.get("threshold")),a=s(a),a=d(a,this.get("regex")),a=c(a,p)}.property("alnRanges","mrcaSlice","model.copynumbers","model.sequences.observed.[]","regex","threshold"),sortedRanges:function(){var e=this.get("ranges");return e.sort(function(e,t){return e[0]-t[0]}),e}.property("ranges"),alnRanges:function(){var e=this.get("sortedRanges");(0,n.checkRanges)(e,this.get("model.coordinates.refRange"));var t=this.get("model.coordinates.refToFirstAlnCoords"),r=this.get("model.coordinates.refToLastAlnCoords"),a=e.map(function(e){var a=(0,n.transformIndex)(e[0],t,!1),l=(0,n.transformIndex)(e[1],r,!0);return[a,l]});return(0,n.checkRanges)(a,this.get("validAlnRange")),a}.property("ranges","model.coordinates.refToFirstAlnCoords","model.coordinates.refToLastAlnCoords"),aaTrajectories:function(){for(var e=this.get("model.sequences.observed"),t=this.get("model.copynumbers"),n=this.get("model.sequences.idToMotif"),r={},a={},l=0;l<e.length;l++){var o=e[l],i=n[o.get("id")];if(r.hasOwnProperty(i)||(r[i]={}),r[i].hasOwnProperty(o.date)||(r[i][o.date]=0),!(o.id in t))throw"copynumbers for sequence "+o.id+" not found";r[i][o.date]+=t[o.id],a.hasOwnProperty(o.date)||(a[o.date]=0),a[o.date]+=t[o.id]}var s=[];for(var d in r)if(r.hasOwnProperty(d)){var c=[];for(var u in a)if(a.hasOwnProperty(u)){var p=0;r[d].hasOwnProperty(u)&&(p=r[d][u]/a[u]),c.push({x:new Date(u),y:p})}s.push({name:d,values:c})}return s}.property("model.sequences.observed.[]","model.sequences.idToMotif.[]"),cappedTrajectories:function(){for(var e=this.get("aaTrajectories"),t=this.get("maxMotifs"),n=0;n<e.length;n++){var r=e[n],a=_.max(r.values.map(function(e){return e.y}));e[n].tmax=a}if(e.sort(function(e,t){return t.tmax-e.tmax}),e.length>t){for(var l=e.slice(0,t),o=e.slice(t),i=o[0].values,s=1;s<o.length;s++)for(var d=o[s].values,c=0;c<d.length;c++)i[c].y+=d[c].y;l.push({name:"Other",values:i}),e=l}return e}.property("aaTrajectories","maxMotifs"),sortedDates:function(){var e=this.get("model.dates"),t=_.keys(e).map(function(e){return new Date(e)});return t.sort(function(e,t){return e<t?-1:1}),t}.property("model.dates"),trajectoryData:function(){var e=this.get("cappedTrajectories"),t=this.get("_oldKeys"),n=e.map(function(e){return e.name});this.set("_oldKeys",n);var r=this.get("motifColorScale"),a=e.map(function(e){var t=e.values;t.sort(function(e,t){return e.x-t.x});var n=t.map(function(e){return e.y});return n.unshift(e.name),n}),l={};e.forEach(function(e){l[e.name]=r(e.name)});var o=this.get("sortedDates"),i=["x"].concat(o);a.push(i);var s={x:"x",columns:a,unload:t,type:"spline",spline:{interpolation:{type:"monotone"}},colors:l};return s}.property("cappedTrajectories","sortedDates","motifColorScale"),trajectoryAxis:function(){var e=this.get("model.dates");return{x:{type:"timeseries",tick:{format:function(t){return t in e?e[t]:moment(t).format("YYYY-MM-DD")}}}}}.property("sortedDates"),transition:{duration:0},tooltip:{format:{value:d3.format(".4f")}},validPredefinedRegions:function(){var e=this.get("model.coordinates.refRange"),t=u(e,2),n=t[0],r=t[1],a=this.get("model.predefinedRegions");return a.filter(function(e){return e.start>=n&&e.stop<=r})}.property("model.predefinedRegions","model.coordinates.refRange"),actions:{doPattern:function(){this.set("pattern",this.get("_pattern"))},doThreshold:function(){var e=this.get("_threshold");""===e&&(e=0),e=+e,e>=0&&e<=100&&(this.set("_threshold",e),this.set("threshold",e))},doMaxMotifs:function(){var e=this.get("_maxMotifs");""===e&&(e=this.get("defaultMaxMotifs")),e=+e,e>=1&&e<=100&&(this.set("_maxMotifs",e),this.set("maxMotifs",e))},resetPattern:function(){this.set("_pattern",this.get("patternDefault")),this.set("pattern",this.get("patternDefault"))},updateAlnRange:function(e,t){(0,n.checkRange)(t,this.get("validAlnRange"));var r=this.get("model.coordinates.alnToRefCoords"),a=this.get("sortedRanges"),l=a.slice(0);l[e]=[(0,n.transformIndex)(t[0],r,!1),(0,n.transformIndex)(t[1],r,!0)],l.sort(function(e,t){return e[0]-t[0]}),this.set("ranges",l)},setRanges:function(e){(0,n.checkRanges)(e,this.get("model.coordinates.refRange")),this.set("ranges",e)},addRange:function(e){(0,n.checkRange)(e,this.get("model.coordinates.refRange"));var t=this.get("sortedRanges").slice(0);t.push(e),this.set("ranges",t)},rmRange:function(e){var t=this.get("sortedRanges");this.set("ranges",t.filter(function(t,n){return n!==e}))},setSelectedPositions:function(e){var t=this.get("validAlnRange")[1];e&&_.every(e,function(e){return e>=0&&e<t})&&this.set("model.sequences.selectedPositions",e)}}})}),define("flea-app/pods/session/sequences/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(){var e=this.modelFor("session").session_id;return t.default.RSVP.hash({sequences:this.store.find("sequences",e),coordinates:this.store.find("coordinates",e),rates:this.store.find("rates",e),copynumbers:this.store.find("copynumbers",e),predefinedRegions:this.store.find("predefined-regions",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/sequences/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:44,column:4},end:{line:51,column:4}},moduleName:"flea-app/pods/session/sequences/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["inline","c3-chart",[],["data",["subexpr","@mut",[["get","trajectoryData",["loc",[null,[46,13],[46,27]]],0,0,0,0]],[],[],0,0],"axis",["subexpr","@mut",[["get","trajectoryAxis",["loc",[null,[47,13],[47,27]]],0,0,0,0]],[],[],0,0],"transition",["subexpr","@mut",[["get","transition",["loc",[null,[48,19],[48,29]]],0,0,0,0]],[],[],0,0],"tooltip",["subexpr","@mut",[["get","tooltip",["loc",[null,[49,16],[49,23]]],0,0,0,0]],[],[],0,0]],["loc",[null,[45,6],[50,8]]],0,0]],locals:[],templates:[]}}(),t=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:51,column:4},end:{line:56,column:4}},moduleName:"flea-app/pods/session/sequences/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","placeholder");var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("h3"),a=e.createTextNode("Motif trajectory viewer");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      Select alignment positions to plot motifs\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:95,column:0}},moduleName:"flea-app/pods/session/sequences/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("div");e.setAttribute(l,"class","input-group-btn");var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createElement("button");e.setAttribute(o,"type","button"),e.setAttribute(o,"class","btn btn-default btn-sm"),e.setAttribute(o,"title","Reset pattern");var i=e.createTextNode("\n          ");e.appendChild(o,i);var i=e.createElement("i");e.setAttribute(i,"class","fa fa-undo"),e.appendChild(o,i);var i=e.createTextNode("\n        ");e.appendChild(o,i),e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var o=e.createTextNode("Threshold %");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var o=e.createTextNode("\n        Mark selected sites\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var o=e.createTextNode("Motifs");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("br");e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12 trajectoryPlot");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0,1,1]),a=e.childAt(r,[5,1]),l=new Array(9);return l[0]=e.createMorphAt(r,1,1),l[1]=e.createMorphAt(r,3,3),l[2]=e.createElementMorph(a),l[3]=e.createMorphAt(r,9,9),l[4]=e.createMorphAt(e.childAt(r,[11]),1,1),l[5]=e.createMorphAt(r,15,15),l[6]=e.createMorphAt(e.childAt(t,[4,1]),1,1),l[7]=e.createMorphAt(e.childAt(t,[6,1]),1,1),l[8]=e.createMorphAt(e.childAt(t,[8,1]),1,1),l},statements:[["inline","sequence-range-controls",[],["ranges",["subexpr","@mut",[["get","sortedRanges",["loc",[null,[4,39],[4,51]]],0,0,0,0]],[],[],0,0],"validRange",["subexpr","@mut",[["get","model.coordinates.refRange",["loc",[null,[5,17],[5,43]]],0,0,0,0]],[],[],0,0],"predefinedRegions",["subexpr","@mut",[["get","validPredefinedRegions",["loc",[null,[6,24],[6,46]]],0,0,0,0]],[],[],0,0],"setRanges","setRanges"],["loc",[null,[4,6],[8,8]]],0,0],["inline","input",[],["type","text","class",["subexpr","concat",["form-control"," ",["subexpr","if",[["get","patternClass",[],0,0,0,0],["subexpr","-normalize-class",["patternClass",["get","patternClass",[],0,0,0,0]],[],[],0,0]],[],[],0,0]," "],[],[],0,0],"value",["subexpr","@mut",[["get","_pattern",["loc",[null,[9,53],[9,61]]],0,0,0,0]],[],[],0,0],"placeholder","Pattern to highlight","autofocus","autofocus","focus-out","doPattern","insert-newline","doPattern"],["loc",[null,[9,6],[13,8]]],0,0],["element","action",["resetPattern"],[],["loc",[null,[15,16],[15,41]]],0,0],["inline","input",[],["type","number","class","form-control","value",["subexpr","@mut",[["get","_threshold",["loc",[null,[21,55],[21,65]]],0,0,0,0]],[],[],0,0],"min","0","max","100","step","0.01","placeholder","%","autofocus","autofocus","focus-out","doThreshold","insert-newline","doThreshold","size","1"],["loc",[null,[21,6],[26,8]]],0,0],["inline","input",[],["type","checkbox","name","markPositive","checked",["subexpr","@mut",[["get","markPositive",["loc",[null,[29,60],[29,72]]],0,0,0,0]],[],[],0,0]],["loc",[null,[29,8],[29,74]]],0,0],["inline","input",[],["type","number","class","form-control","value",["subexpr","@mut",[["get","_maxMotifs",["loc",[null,[32,55],[32,65]]],0,0,0,0]],[],[],0,0],"min","1","max","100","step","1","placeholder","10","autofocus","autofocus","focus-out","doMaxMotifs","insert-newline","doMaxMotifs","size","1"],["loc",[null,[32,6],[37,8]]],0,0],["block","if",[["get","model.sequences.selectedPositions",["loc",[null,[44,10],[44,43]]],0,0,0,0]],[],0,1,["loc",[null,[44,4],[56,11]]]],["inline","alignment-overview",[],["alnRanges",["subexpr","@mut",[["get","alnRanges",["loc",[null,[63,14],[63,23]]],0,0,0,0]],[],[],0,0],"validAlnRange",["subexpr","@mut",[["get","validAlnRange",["loc",[null,[64,18],[64,31]]],0,0,0,0]],[],[],0,0],"markPositive",["subexpr","@mut",[["get","markPositive",["loc",[null,[65,17],[65,29]]],0,0,0,0]],[],[],0,0],"positiveSelection",["subexpr","@mut",[["get","model.rates.positiveSelection",["loc",[null,[66,22],[66,51]]],0,0,0,0]],[],[],0,0],"selectedPositions",["subexpr","@mut",[["get","model.sequences.selectedPositions",["loc",[null,[67,22],[67,55]]],0,0,0,0]],[],[],0,0],"predefinedRegions",["subexpr","@mut",[["get","validPredefinedRegions",["loc",[null,[68,22],[68,44]]],0,0,0,0]],[],[],0,0],"alnToRefCoords",["subexpr","@mut",[["get","model.coordinates.alnToRefCoords",["loc",[null,[69,19],[69,51]]],0,0,0,0]],[],[],0,0],"refToFirstAlnCoords",["subexpr","@mut",[["get","model.coordinates.refToFirstAlnCoords",["loc",[null,[70,24],[70,61]]],0,0,0,0]],[],[],0,0],"refToLastAlnCoords",["subexpr","@mut",[["get","model.coordinates.refToLastAlnCoords",["loc",[null,[71,23],[71,59]]],0,0,0,0]],[],[],0,0],"updateRange","updateAlnRange","setRanges","setRanges","addRange","addRange","rmRange","rmRange"],["loc",[null,[62,4],[76,6]]],0,0],["inline","sequence-viewer",[],["groupedSequences",["subexpr","@mut",[["get","groupedSequences",["loc",[null,[82,39],[82,55]]],0,0,0,0]],[],[],0,0],"alnRanges",["subexpr","@mut",[["get","alnRanges",["loc",[null,[83,14],[83,23]]],0,0,0,0]],[],[],0,0],"mrca",["subexpr","@mut",[["get","mrcaSlice",["loc",[null,[83,29],[83,38]]],0,0,0,0]],[],[],0,0],"reference",["subexpr","@mut",[["get","refSlice",["loc",[null,[84,14],[84,22]]],0,0,0,0]],[],[],0,0],"selectedPositions",["subexpr","@mut",[["get","model.sequences.selectedPositions",["loc",[null,[85,22],[85,55]]],0,0,0,0]],[],[],0,0],"markPositive",["subexpr","@mut",[["get","markPositive",["loc",[null,[86,17],[86,29]]],0,0,0,0]],[],[],0,0],"alnToRef",["subexpr","@mut",[["get","model.coordinates.alnToRefCoords",["loc",[null,[87,13],[87,45]]],0,0,0,0]],[],[],0,0],"positiveSelection",["subexpr","@mut",[["get","model.rates.positiveSelection",["loc",[null,[88,22],[88,51]]],0,0,0,0]],[],[],0,0],"regex",["subexpr","@mut",[["get","regex",["loc",[null,[89,10],[89,15]]],0,0,0,0]],[],[],0,0],"selectDefault",!0,"setSelectedPositions","setSelectedPositions"],["loc",[null,[82,4],[92,6]]],0,0]],locals:[],templates:[e,t]}}())}),define("flea-app/pods/session/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:3,column:8},end:{line:3,column:72}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("MDS");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),t=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:5,column:10},end:{line:5,column:101}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Evolutionary trajectory");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:4,column:4},end:{line:6,column:4}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createComment("");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),0,0),r},statements:[["block","link-to",["session.trajectory",["get","model.session_id",["loc",[null,[5,42],[5,58]]],0,0,0,0]],["data-toggle","tab"],0,null,["loc",[null,[5,10],[5,113]]]]],locals:[],templates:[e]}}(),n=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:6,column:4},end:{line:8,column:4}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createElement("a");e.setAttribute(r,"href",""),e.setAttribute(r,"data-toggle","tab"),e.setAttribute(r,"class","disabled");var a=e.createTextNode("Evolutionary trajectory");e.appendChild(r,a),e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),r=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:9,column:8},end:{line:9,column:80}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Protein");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),a=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:10,column:8},end:{line:10,column:84}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Sequences");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),l=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:11,column:8},end:{line:11,column:76}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Trees");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:17,column:0}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","container"),e.setAttribute(n,"id","allofit");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("ul");e.setAttribute(r,"class","nav nav-tabs");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("li"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("    ");e.appendChild(r,a);var a=e.createElement("li"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("li"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("li"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(r,[1]),l=new Array(6);return l[0]=e.createMorphAt(e.childAt(a,[1]),0,0),l[1]=e.createMorphAt(a,3,3),l[2]=e.createMorphAt(e.childAt(a,[5]),0,0),l[3]=e.createMorphAt(e.childAt(a,[7]),0,0),l[4]=e.createMorphAt(e.childAt(a,[9]),0,0),l[5]=e.createMorphAt(r,3,3),l},statements:[["block","link-to",["session.mds",["get","model.session_id",["loc",[null,[3,33],[3,49]]],0,0,0,0]],["data-toggle","tab"],0,null,["loc",[null,[3,8],[3,84]]]],["block","if",[["get","showTrajectory",["loc",[null,[4,10],[4,24]]],0,0,0,0]],[],1,2,["loc",[null,[4,4],[8,11]]]],["block","link-to",["session.protein",["get","model.session_id",["loc",[null,[9,37],[9,53]]],0,0,0,0]],["data-toggle","tab"],3,null,["loc",[null,[9,8],[9,92]]]],["block","link-to",["session.sequences",["get","model.session_id",["loc",[null,[10,39],[10,55]]],0,0,0,0]],["data-toggle","tab"],4,null,["loc",[null,[10,8],[10,96]]]],["block","link-to",["session.trees",["get","model.session_id",["loc",[null,[11,35],[11,51]]],0,0,0,0]],["data-toggle","tab"],5,null,["loc",[null,[11,8],[11,88]]]],["content","outlet",["loc",[null,[14,0],[14,10]]],0,0,0,0]],locals:[],templates:[e,t,n,r,a,l]}}())}),define("flea-app/pods/session/trajectory/controller",["exports","ember"],function(e,t){function n(e,t,n){if(1===n.length)return r(e,t,n[0]);if(1===t.length)return a(e,t[0],n);throw"Must use either single region or single metric"}function r(e,t,n){for(var r=[],a=0;a<t.length;a++){for(var l=t[a],o={name:l},i=[],s=0;s<e.length;s++)if(l===e[s].Segment){var d={x:e[s].Date,y:e[s][n]};i.push(d)}i.sort(function(e,t){return e.x-t.x}),o.values=i,r.push(o)}return r}function a(e,t,n){for(var r=[],a=0;a<n.length;a++){for(var l=n[a],o={name:l},i=[],s=0;s<e.length;s++)if(t===e[s].Segment){var d={x:e[s].Date,y:e[s][l]};i.push(d)}i.sort(function(e,t){return e.x-t.x}),o.values=i,r.push(o)}return r}e.default=t.default.Controller.extend({regions:["gp160","signal","c1","v1","v2","c2","v3","c3","v4","c4","v5","c5","fusion","gp41ecto","mper","gp41endo"],selectedRegions:["gp160"],evoMetrics:["ds_divergence","dn_divergence","total_divergence","ds_diversity","dn_diversity","total_diversity"],selectedEvoMetrics:["ds_divergence","dn_divergence","total_divergence","total_diversity"],phenoMetrics:["Length","PNGS","IsoelectricPoint"],selectedPhenoMetrics:["Length","PNGS"],maxRegions:function(){var e=this.get("selectedEvoMetrics.length")>1||this.get("selectedPhenoMetrics.length")>1;return e?1:10}.property("selectedEvoMetrics.length","selectedPhenoMetrics.length"),multipleRegions:function(){return this.get("maxRegions")>1}.property("maxRegions"),maxEvoMetrics:function(){var e=this.get("selectedRegions.length")>1;return e?1:4}.property("selectedRegions.length"),multipleEvoMetrics:function(){return this.get("maxEvoMetrics")>1}.property("maxEvoMetrics"),maxPhenoMetrics:function(){var e=this.get("selectedRegions.length")>1;return e?1:2}.property("selectedRegions.length"),multiplePhenoMetrics:function(){return this.get("maxPhenoMetrics")>1}.property("maxPhenoMetrics"),evoData:function(){var e=this.get("model.trajectory"),t=this.get("selectedRegions"),r=this.get("selectedEvoMetrics");return n(e,t,r)}.property("model.trajectory","selectedRegions.[]","selectedEvoMetrics.[]"),_phenoData:function(e){var t=this.get("model.trajectory"),r=this.get("selectedRegions"),l=this.get("selectedPhenoMetrics");return r.length>1?n(t,r,l):l.length>1?a(t,r[0],[l[e]]):a(t,r[0],l)},phenoData:function(){var e=this._phenoData(0);return e}.property("model.trajectory","selectedRegions.[]","selectedPhenoMetrics.[]"),phenoData2:function(){var e=[];return this.get("selectedPhenoMetrics.length")>1&&(e=this._phenoData(1)),e}.property("model.trajectory","selectedRegions.[]","selectedPhenoMetrics.[]"),handleSelection:function(e,t){null!=t&&(("string"==typeof t||t instanceof String)&&(t=[t]),this.set(e,t))},actions:{selectRegions:function(e){this.handleSelection("selectedRegions",e)},selectEvoMetrics:function(e){this.handleSelection("selectedEvoMetrics",e)},selectPhenoMetrics:function(e){this.handleSelection("selectedPhenoMetrics",e)}}})}),define("flea-app/pods/session/trajectory/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(){var e=this.controllerFor("session").get("showTrajectory");if(e){var n=this.modelFor("session").session_id;return t.default.RSVP.hash({dates:this.store.find("dates",n),trajectory:this.store.find("trajectory",n),disabled:!1})}return{disabled:!0}}})}),define("flea-app/pods/session/trajectory/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:10,column:0}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","error-pane");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","error-title");var a=e.createTextNode("\n    Evolutionary data not available\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","error-message");var a=e.createTextNode("\n    This analysis was disabled in the pipeline.\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),t=function(){var e=function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:20,column:10},end:{line:20,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","region",["loc",[null,[20,36],[20,46]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:19,column:8},end:{line:21,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","region",["loc",[null,[20,28],[20,34]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[20,10],[20,59]]]]],locals:["region"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:17,column:6},end:{line:22,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","regions",["loc",[null,[19,16],[19,23]]],0,0,0,0]],[],0,null,["loc",[null,[19,8],[21,17]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:16,column:4},end:{line:23,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap-max",[],["multiple",!0,"value",["subexpr","@mut",[["get","selectedRegions",["loc",[null,[17,52],[17,67]]],0,0,0,0]],[],[],0,0],"maxSelected",["subexpr","@mut",[["get","maxRegions",["loc",[null,[17,80],[17,90]]],0,0,0,0]],[],[],0,0],"action","selectRegions","id","evo_regions"],0,null,["loc",[null,[17,6],[22,33]]]]],locals:[],templates:[e]}}(),t=function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:27,column:10},end:{line:27,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"
},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","region",["loc",[null,[27,36],[27,46]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:26,column:8},end:{line:28,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","region",["loc",[null,[27,28],[27,34]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[27,10],[27,59]]]]],locals:["region"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:24,column:6},end:{line:29,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","regions",["loc",[null,[26,16],[26,23]]],0,0,0,0]],[],0,null,["loc",[null,[26,8],[28,17]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:23,column:4},end:{line:30,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedRegions",["loc",[null,[24,49],[24,64]]],0,0,0,0]],[],[],0,0],"action","selectRegions","id","evo_regions"],0,null,["loc",[null,[24,6],[29,29]]]]],locals:[],templates:[e]}}(),n=function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:41,column:10},end:{line:41,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[41,36],[41,46]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:40,column:8},end:{line:42,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[41,28],[41,34]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[41,10],[41,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:38,column:6},end:{line:43,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","evoMetrics",["loc",[null,[40,16],[40,26]]],0,0,0,0]],[],0,null,["loc",[null,[40,8],[42,17]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:37,column:4},end:{line:44,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap-max",[],["multiple",!0,"value",["subexpr","@mut",[["get","selectedEvoMetrics",["loc",[null,[38,52],[38,70]]],0,0,0,0]],[],[],0,0],"maxSelected",["subexpr","@mut",[["get","maxEvoMetrics",["loc",[null,[38,83],[38,96]]],0,0,0,0]],[],[],0,0],"action","selectEvoMetrics","id","evo_metrics"],0,null,["loc",[null,[38,6],[43,33]]]]],locals:[],templates:[e]}}(),r=function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:48,column:10},end:{line:48,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[48,36],[48,46]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:47,column:8},end:{line:49,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[48,28],[48,34]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[48,10],[48,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:45,column:6},end:{line:50,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","evoMetrics",["loc",[null,[47,16],[47,26]]],0,0,0,0]],[],0,null,["loc",[null,[47,8],[49,17]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:44,column:4},end:{line:51,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedEvoMetrics",["loc",[null,[45,49],[45,67]]],0,0,0,0]],[],[],0,0],"action","selectEvoMetrics","id","evo_metrics"],0,null,["loc",[null,[45,6],[50,29]]]]],locals:[],templates:[e]}}(),a=function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:71,column:10},end:{line:71,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[71,36],[71,46]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:70,column:8},end:{line:72,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[71,28],[71,34]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[71,10],[71,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:68,column:6},end:{line:73,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","phenoMetrics",["loc",[null,[70,16],[70,28]]],0,0,0,0]],[],0,null,["loc",[null,[70,8],[72,17]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:67,column:4},end:{line:74,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap-max",[],["multiple",!0,"value",["subexpr","@mut",[["get","selectedPhenoMetrics",["loc",[null,[68,52],[68,72]]],0,0,0,0]],[],[],0,0],"maxSelected",["subexpr","@mut",[["get","maxPhenoMetrics",["loc",[null,[68,85],[68,100]]],0,0,0,0]],[],[],0,0],"action","selectPhenoMetrics","id","pheno_metrics"],0,null,["loc",[null,[68,6],[73,33]]]]],locals:[],templates:[e]}}(),l=function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:78,column:10},end:{line:78,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[78,36],[78,46]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:77,column:8},end:{line:79,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[78,28],[78,34]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[78,10],[78,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:75,column:6},end:{line:80,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","phenoMetrics",["loc",[null,[77,16],[77,28]]],0,0,0,0]],[],0,null,["loc",[null,[77,8],[79,17]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:74,column:4},end:{line:81,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedPhenoMetrics",["loc",[null,[75,49],[75,69]]],0,0,0,0]],[],[],0,0],"action","selectPhenoMetrics","id","pheno_metrics"],0,null,["loc",[null,[75,6],[80,29]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:10,column:0},end:{line:90,column:0}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","form-inline");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","evo_regions");var l=e.createTextNode("Region(s) to plot");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","evo_metrics");var l=e.createTextNode("Evolutionary metrics");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","form-inline");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","_pheno_metrics");var l=e.createTextNode("Phenotype metrics");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(5);return a[0]=e.createMorphAt(e.childAt(r,[3]),1,1),a[1]=e.createMorphAt(e.childAt(r,[7]),1,1),a[2]=e.createMorphAt(e.childAt(t,[2,1]),1,1),a[3]=e.createMorphAt(e.childAt(t,[4,3]),1,1),a[4]=e.createMorphAt(e.childAt(t,[6,1]),1,1),a},statements:[["block","if",[["get","multipleRegions",["loc",[null,[16,10],[16,25]]],0,0,0,0]],[],0,1,["loc",[null,[16,4],[30,11]]]],["block","if",[["get","multipleEvoMetrics",["loc",[null,[37,10],[37,28]]],0,0,0,0]],[],2,3,["loc",[null,[37,4],[51,11]]]],["inline","timeseries-plot",[],["data",["subexpr","@mut",[["get","evoData",["loc",[null,[58,27],[58,34]]],0,0,0,0]],[],[],0,0],"ymin",0,"tickMap",["subexpr","@mut",[["get","model.dates",["loc",[null,[58,50],[58,61]]],0,0,0,0]],[],[],0,0]],["loc",[null,[58,4],[58,63]]],0,0],["block","if",[["get","multiplePhenoMetrics",["loc",[null,[67,10],[67,30]]],0,0,0,0]],[],4,5,["loc",[null,[67,4],[81,11]]]],["inline","timeseries-plot",[],["data",["subexpr","@mut",[["get","phenoData",["loc",[null,[87,27],[87,36]]],0,0,0,0]],[],[],0,0],"data2",["subexpr","@mut",[["get","phenoData2",["loc",[null,[87,43],[87,53]]],0,0,0,0]],[],[],0,0],"tickMap",["subexpr","@mut",[["get","model.dates",["loc",[null,[87,62],[87,73]]],0,0,0,0]],[],[],0,0]],["loc",[null,[87,4],[87,75]]],0,0]],locals:[],templates:[e,t,n,r,a,l]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:91,column:0}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","if",[["get","model.disabled",["loc",[null,[1,6],[1,20]]],0,0,0,0]],[],0,1,["loc",[null,[1,0],[90,7]]]]],locals:[],templates:[e,t]}}())}),define("flea-app/pods/session/trees/controller",["exports","ember","flea-app/mixins/color-label-mixin"],function(e,t,n){e.default=t.default.Controller.extend(n.default,{showCopynumber:!0,overlapNodes:!0,radialLayout:!1,sortState:"ascending",heightScale:1,hideCopynumber:t.default.computed.not("showCopynumber"),actions:{setSortState:function(e){this.set("sortState",e)}}})}),define("flea-app/pods/session/trees/route",["exports","ember"],function(e,t){e.default=t.default.Route.extend({model:function(){var e=this.modelFor("session").session_id;return t.default.RSVP.hash({tree:this.store.find("trees",e),copynumbers:this.store.find("copynumbers",e),sequences:this.store.find("sequences",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/trees/template",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){var e=function(){var e=function(){var e=function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:48,column:6},end:{line:48,column:46}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","nameType",["loc",[null,[48,34],[48,46]]],0,0,0,0]],locals:[],templates:[]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:47,column:6},end:{line:49,column:6}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","nameType",["loc",[null,[48,24],[48,32]]],0,0,0,0]],[],[],0,0]],0,null,["loc",[null,[48,6],[48,59]]]]],locals:["nameType"],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:46,column:6},end:{line:50,column:6}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","nodeNameTypes",["loc",[null,[47,14],[47,27]]],0,0,0,0]],[],0,null,["loc",[null,[47,6],[49,15]]]]],locals:[],templates:[e]}}();return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,column:0},end:{line:73,column:0}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-4");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","btn-toolbar"),e.setAttribute(a,"role","toolbar");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("div");e.setAttribute(l,"class","btn-group");var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createElement("button");e.setAttribute(o,"type","button"),e.setAttribute(o,"class","btn btn-default btn-sm"),e.setAttribute(o,"id","sort_ascending"),e.setAttribute(o,"title","Sort deepest clades to the bottom");var i=e.createTextNode("\n          ");e.appendChild(o,i);var i=e.createElement("i");e.setAttribute(i,"class","fa fa-sort-amount-asc"),e.appendChild(o,i);var i=e.createTextNode("\n        ");e.appendChild(o,i),e.appendChild(l,o);var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createElement("button");e.setAttribute(o,"type","button"),e.setAttribute(o,"class","btn btn-default btn-sm"),e.setAttribute(o,"id","sort_descending"),e.setAttribute(o,"title","Sort deepest clades to the top");var i=e.createTextNode("\n          ");e.appendChild(o,i);var i=e.createElement("i");e.setAttribute(i,"class","fa fa-sort-amount-desc"),e.appendChild(o,i);var i=e.createTextNode("\n        ");e.appendChild(o,i),e.appendChild(l,o);var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createElement("button");e.setAttribute(o,"type","button"),e.setAttribute(o,"class","btn btn-default btn-sm"),e.setAttribute(o,"id","sort_original"),e.setAttribute(o,"title","Restore original order");var i=e.createTextNode("\n          ");e.appendChild(o,i);var i=e.createElement("i");e.setAttribute(i,"class","fa fa-sort"),e.appendChild(o,i);var i=e.createTextNode("\n        ");e.appendChild(o,i),e.appendChild(l,o);var o=e.createTextNode("\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-8 pull-right");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Show copynumber");var o=e.createTextNode("\n        Show copynumber\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Overlap nodes");var o=e.createTextNode("\n        Overlap nodes\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Change to radial layout");var o=e.createTextNode("\n        Radial layout\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Interpolate colors by date");var o=e.createTextNode("\n        Interpolate colors\n        ");e.appendChild(l,o);var o=e.createComment("");e.appendChild(l,o);var o=e.createTextNode("\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var o=e.createTextNode("\n        Node names\n      ");e.appendChild(l,o),e.appendChild(a,l);var l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12"),e.setAttribute(r,"id","_tree_enclosure");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(r,[1,1,1]),l=e.childAt(a,[1]),o=e.childAt(a,[3]),i=e.childAt(a,[5]),s=e.childAt(r,[3,1]),d=new Array(10);return d[0]=e.createElementMorph(l),d[1]=e.createElementMorph(o),d[2]=e.createElementMorph(i),d[3]=e.createMorphAt(a,7,7),d[4]=e.createMorphAt(e.childAt(s,[1]),1,1),d[5]=e.createMorphAt(e.childAt(s,[3]),1,1),d[6]=e.createMorphAt(e.childAt(s,[5]),1,1),d[7]=e.createMorphAt(e.childAt(s,[7]),1,1),d[8]=e.createMorphAt(s,11,11),d[9]=e.createMorphAt(e.childAt(t,[2,1]),1,1),d},statements:[["element","action",["setSortState","ascending"],[],["loc",[null,[6,58],[6,95]]],0,0],["element","action",["setSortState","descending"],[],["loc",[null,[10,55],[10,93]]],0,0],["element","action",["setSortState","original"],[],["loc",[null,[14,47],[14,83]]],0,0],["inline","input",[],["type","range","id","vertical-spacing","min","0.1","value",["subexpr","@mut",[["get","heightScale",["loc",[null,[17,67],[17,78]]],0,0,0,0]],[],[],0,0],"max","1","step","0.1"],["loc",[null,[17,8],[17,99]]],0,0],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","showCopynumber",["loc",[null,[26,40],[26,54]]],0,0,0,0]],[],[],0,0]],["loc",[null,[26,8],[26,56]]],0,0],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","overlapNodes",["loc",[null,[31,40],[31,52]]],0,0,0,0]],[],[],0,0],"disabled",["subexpr","@mut",[["get","hideCopynumber",["loc",[null,[31,62],[31,76]]],0,0,0,0]],[],[],0,0]],["loc",[null,[31,8],[31,78]]],0,0],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","radialLayout",["loc",[null,[36,40],[36,52]]],0,0,0,0]],[],[],0,0]],["loc",[null,[36,8],[36,54]]],0,0],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","rankColors",["loc",[null,[41,40],[41,50]]],0,0,0,0]],[],[],0,0]],["loc",[null,[41,8],[41,52]]],0,0],["block","x-select-bootstrap",[],["value",["subexpr","@mut",[["get","nodeNameType",["loc",[null,[46,34],[46,46]]],0,0,0,0]],[],[],0,0],"action","selectNodeNameType"],0,null,["loc",[null,[46,6],[50,29]]]],["inline","phylotree-widget",[],["tree",["subexpr","@mut",[["get","model.tree",["loc",[null,[58,11],[58,21]]],0,0,0,0]],[],[],0,0],"copynumbers",["subexpr","@mut",[["get","model.copynumbers",["loc",[null,[59,18],[59,35]]],0,0,0,0]],[],[],0,0],"sortState",["subexpr","@mut",[["get","sortState",["loc",[null,[60,16],[60,25]]],0,0,0,0]],[],[],0,0],"do_copy_number",!0,"seqIdToNodeName",["subexpr","@mut",[["get","seqIdToNodeName",["loc",[null,[62,22],[62,37]]],0,0,0,0]],[],[],0,0],"seqIdToNodeColor",["subexpr","@mut",[["get","seqIdToNodeColor",["loc",[null,[63,23],[63,39]]],0,0,0,0]],[],[],0,0],"seqIdToMotifColor",["subexpr","@mut",[["get","seqIdToMotifColor",["loc",[null,[64,24],[64,41]]],0,0,0,0]],[],[],0,0],"seqIdToMotif",["subexpr","@mut",[["get","model.sequences.idToMotif",["loc",[null,[65,19],[65,44]]],0,0,0,0]],[],[],0,0],"radialLayout",["subexpr","@mut",[["get","radialLayout",["loc",[null,[66,19],[66,31]]],0,0,0,0]],[],[],0,0],"showCopynumber",["subexpr","@mut",[["get","showCopynumber",["loc",[null,[67,21],[67,35]]],0,0,0,0]],[],[],0,0],"overlapNodes",["subexpr","@mut",[["get","overlapNodes",["loc",[null,[68,19],[68,31]]],0,0,0,0]],[],[],0,0],"heightScale",["subexpr","@mut",[["get","heightScale",["loc",[null,[69,18],[69,29]]],0,0,0,0]],[],[],0,0]],["loc",[null,[57,4],[70,6]]],0,0]],locals:[],templates:[e]}}())}),define("flea-app/pods/store/model",["exports","ember"],function(e,t){var n={};e.default=t.default.Object.extend({find:function(e,t){var r=t+e;if(n[r])return n[r];var a=this.container.lookup("adapter:"+e);return a.find(t).then(function(e){return n[r]=e,e})}})}),define("flea-app/resolver",["exports","ember-resolver"],function(e,t){e.default=t.default}),define("flea-app/router",["exports","ember","flea-app/config/environment"],function(e,t,n){var r=t.default.Router.extend({location:n.default.locationType,rootURL:n.default.rootURL});r.map(function(){this.route("session",{path:"/:session_id"},function(){this.route("trajectory",{path:"/trajectory"}),this.route("mds",{path:"/mds"}),this.route("protein",{path:"/protein"}),this.route("sequences",{path:"/sequences"}),this.route("trees",{path:"/trees"})})}),e.default=r}),define("flea-app/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("flea-app/templates/application",["exports"],function(e){e.default=Ember.HTMLBars.template(function(){return{meta:{revision:"Ember@2.7.1",loc:{source:null,start:{line:1,
column:0},end:{line:4,column:0}},moduleName:"flea-app/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("h2");e.setAttribute(n,"id","title");var r=e.createTextNode("Welcome to Ember");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,2,2,n),r},statements:[["content","outlet",["loc",[null,[3,0],[3,10]]],0,0,0,0]],locals:[],templates:[]}}())}),define("flea-app/templates/components/x-select",["exports","emberx-select/templates/components/x-select"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}),define("flea-app/utils/parser",["exports"],function(e){var t=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,a,l){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=a,this.column=l,this.name="SyntaxError"}function n(e){function n(t){function n(t,n,r){var a,l;for(a=n;a<r;a++)l=e.charAt(a),"\n"===l?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===l||"\u2028"===l||"\u2029"===l?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return q!==t&&(q>t&&(q=0,D={line:1,column:1,seenCR:!1}),n(D,q,t),q=t),D}function r(e){S<P||(S>P&&(P=S,j=[]),j.push(e))}function a(r,a,l){function o(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function i(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,a,l,o=new Array(e.length);for(l=0;l<e.length;l++)o[l]=e[l].description;return r=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],a=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+a+" found."}var s=n(l),d=l<e.length?e.charAt(l):null;return null!==a&&o(a),new t(null!==r?r:i(a,d),a,d,l,s.line,s.column)}function l(){var e,t;if(e=[],t=o(),t!==m)for(;t!==m;)e.push(t),t=o();else e=v;return e}function o(){var e;return e=i(),e===m&&(e=s()),e}function i(){var t,n,a;return t=S,g.test(e.charAt(S))?(n=e.charAt(S),S++):(n=m,0===I&&r(b)),n!==m?(a=c(),a!==m?(k=t,n=x(n,a),t=n):(S=t,t=v)):(S=t,t=v),t}function s(){var t,n,a,l,o,i;if(t=S,91===e.charCodeAt(S)?(n=C,S++):(n=m,0===I&&r(y)),n!==m)if(a=d(),a!==m){if(l=[],g.test(e.charAt(S))?(o=e.charAt(S),S++):(o=m,0===I&&r(b)),o!==m)for(;o!==m;)l.push(o),g.test(e.charAt(S))?(o=e.charAt(S),S++):(o=m,0===I&&r(b));else l=v;l!==m?(93===e.charCodeAt(S)?(o=N,S++):(o=m,0===I&&r(T)),o!==m?(i=c(),i!==m?(k=t,n=A(a,l,i),t=n):(S=t,t=v)):(S=t,t=v)):(S=t,t=v)}else S=t,t=v;else S=t,t=v;return t}function d(){var t,n;return t=S,R.test(e.charAt(S))?(n=e.charAt(S),S++):(n=m,0===I&&r(w)),n===m&&(n=E),n!==m&&(k=t,n=M(n)),t=n}function c(){var t,n;return t=S,F.test(e.charAt(S))?(n=e.charAt(S),S++):(n=m,0===I&&r(_)),n===m&&(n=E),n!==m&&(k=t,n=M(n)),t=n}var u,p=arguments.length>1?arguments[1]:{},m={},h={start:l},f=l,v=m,g=/^[A-Z]/,b={type:"class",value:"[A-Z]",description:"[A-Z]"},x=function(e,t){return{type:"amino",value:e,postmod:t}},C="[",y={type:"literal",value:"[",description:'"["'},N="]",T={type:"literal",value:"]",description:'"]"'},A=function(e,t,n){return{type:"include",value:t.join(""),premod:e,postmod:n}},E=null,R=/^[\S\s]/,w={type:"class",value:"[^]",description:"[^]"},M=function(e){return e?e:""},F=/^[*+]/,_={type:"class",value:"[*+]",description:"[*+]"},S=0,k=0,q=0,D={line:1,column:1,seenCR:!1},P=0,j=[],I=0;if("startRule"in p){if(!(p.startRule in h))throw new Error("Can't start parsing from rule \""+p.startRule+'".');f=h[p.startRule]}if(u=f(),u!==m&&S===e.length)return u;throw u!==m&&S<e.length&&r({type:"end",description:"end of input"}),a(null,j,P)}return e(t,Error),{SyntaxError:t,parse:n}}();e.default=t}),define("flea-app/utils/utils",["exports"],function(e){var t=function(){function e(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){return Object.prototype.toString.call(e).slice(8,-1)},r=function(e){return"Object"===n(e)};e.isDate=r;var a=function(e){return"String"===n(e)};e.isString=a;var l=d3.time.format("%Y%m%d").parse;e.parse_date=l;var o=d3.time.format("%B %Y");e.format_date=o;var i=function(e,t){return s(e.map(function(e){return[e]}),t)};e.htmlTable1D=i;var s=function(e,t){if(0===e.length)return"<table></table>";var n='<table class="table-striped table table-hover">';if(t){n+="<thead>",n+="<trow>";for(var r=0;r<t.length;r++)n+="<th>",n+=t[r],n+="</th>";n+="</trow>",n+="</thead>"}n+="<tbody>";for(var a=0;a<e.length;a++){n+="<tr>";for(var l=0;l<e[a].length;l++)n+="<td>",n+=e[a][l],n+="</td>";n+="</tr>"}return n+="</tbody>",n+="</table>"};e.htmlTable=s;var d=function(e,t){for(var n,r=[],a=new RegExp(e,"g");null!==(n=a.exec(t));)r.push([n.index,n.index+n[0].length-1]);return r};e.regexRanges=d;var c=function(e,t){var n=0;t||(t=function(e){return e});for(var r=0;r<e.length;r++)n+=t(e[r]);return n};e.sumArray=c;var u=function(e,t,n){var r;return n&&(e-=1),r=e>=t.length?t[t.length-1]:t[e],n&&(r+=1),r};e.transformIndex=u;var p=function(e,n){var r=t(e,2),a=r[0],l=r[1],o=t(n,2),i=o[0],s=o[1];if(a<i||a>s)throw"invalid start position";if(l<i||l>s)throw"invalid stop position";if(a>=l)throw"invalid range"};e.checkRange=p;var m=function(e,t){for(var n=0;n<e.length;n++)p(e[n],t)};e.checkRanges=m;var h=function(e){if(e<0)throw"invalid index";return e+1};e.oneIndex=h;var f=function(e){if(e<1)throw"invalid index";return e-1};e.zeroIndex=f;var v=function(e,t,n){var r=e[0],a=e[e.length-1],l=_.range(Math.ceil(r/n)*n,1+Math.floor(a/n)*n,n);return 0===l[0]&&(l[0]=1),l=l.map(function(e){return f(e)}),l[0]!==r&&l.unshift(r),l[l.length-1]!==a&&l.push(a),l.map(function(e){return t[e]})};e.alignmentTicks=v;var g=function(e,t){for(var n=new Array(t),r=new Array(t),a=-1,l=0;l<e.length;l++){var o=e[l];if(r[o]=l,o!==a&&(n[o]=l),a>-1)for(var i=a+1;i<o;i++)n[i]=l,r[i]=l-1;a=o}return[n,r]};e.refToAlnCoords=g;var b=function(e,t){return t in e?e[t]:t};e.mapIfPresent=b;var x=function(e,t,n){for(var r=0;r<t.length-1;r++){var a=t[r];a in e||(e[a]={}),e=e[a]}e[t[t.length-1]]=n};e.insertNested=x;var C=function(e,t){return e?e.reduce(function(e,n){return e[n.get("id")]=n.get(t),e},{}):{}};e.seqIdToProperty=C}),define("flea-app/config/environment",["ember"],function(e){var t="flea-app";try{var n=t+"/config/environment",r=e.default.$('meta[name="'+n+'"]').attr("content"),a=JSON.parse(unescape(r));return{default:a}}catch(e){throw new Error('Could not read config from meta tag with name "'+n+'".')}}),runningTests||require("flea-app/app").default.create({name:"flea-app",version:"0.0.0+fbe78141"});