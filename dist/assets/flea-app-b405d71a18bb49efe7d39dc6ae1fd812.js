define("flea-app/adapters/copynumbers",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/utils/utils"],function(e,t,a,n,r){"use strict";e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/copynumbers";return n["default"](t).then(function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=parseInt(e[t]));return e})}})}),define("flea-app/adapters/dates",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/utils/utils"],function(e,t,a,n,r){"use strict";e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/dates";return n["default"](t).then(function(e){var t={};for(var a in e)if(e.hasOwnProperty(a)){var n=r.parse_date(a);t[n]=e[a]}return t})}})}),define("flea-app/adapters/frequencies",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/models/frequency-object"],function(e,t,a,n,r){"use strict";e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/frequencies";return n["default"](t).then(function(e){return r["default"].create({data:e})})}})}),define("flea-app/adapters/neutralization",["exports","ember","flea-app/config/environment","ic-ajax"],function(e,t,a,n){"use strict";e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/neutralization";return n["default"](t).then(function(e){return e})}})}),define("flea-app/adapters/predefined-regions",["exports","ember","flea-app/config/environment","ic-ajax"],function(e,t,a,n){"use strict";e["default"]=t["default"].Object.extend({find:function(){var e=a["default"].baseURL+"assets/predefined_regions.json";return n["default"](e).then(function(e){return e.regions})}})}),define("flea-app/adapters/rates",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/utils/utils"],function(exports,Ember,config,request,utils){"use strict";function positive_selection_positions(e){return e.map(function(e,t){return[t,e[2]]}).filter(function(e){return e[1]>=.95}).map(function(e){return e[0]})}var RateInfo=Ember["default"].Object.extend({date:null,rates:null}),RatesObject=Ember["default"].Object.extend({data:[],sortedRates:function(){var e=this.get("data"),t=e.filter(function(e){return"Combined"!==e.date}),a=e.filter(function(e){return"Combined"===e.date});return t.sort(function(e,t){return e.date-t.date}),t.splice(0,0,a[0]),t}.property("data.@each"),positiveSelection:function(){var e=this.get("sortedRates");return e.map(function(e){return positive_selection_positions(e.rates)})}.property("sortedRates")});exports["default"]=Ember["default"].Object.extend({find:function find(session_id){var url=config["default"].baseURL+"data/"+session_id+"/rates";return request["default"](url).then(function(result){var new_result=[];for(var _name in result)if(result.hasOwnProperty(_name)){var d=_name,array=eval(result[_name]);"Combined"!==_name&&(d=utils.parse_date(_name)),new_result.push(RateInfo.create({date:d,rates:array}))}return RatesObject.create({data:new_result})})}})}),define("flea-app/adapters/sequences",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/utils/utils"],function(e,t,a,n,r){"use strict";function i(e,a,n,i){return null!==a&&(a=r.parse_date(a)),t["default"].Object.create({id:e,date:a,sequence:n,type:i,selected:!0})}e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/sequences";return n["default"](t).then(function(e){var t=[];for(var a in e)if(e.hasOwnProperty(a))if("MRCA"!==a)if("Combined"!==a){var n=a,r=e[a];for(var d in r)if(r.hasOwnProperty(d)){var s=r[d];for(var o in s)if(s.hasOwnProperty(o)){var l=s[o],c=i(o,n,l,d);t.push(c)}}}else{var p=e[a];for(var h in p)if(p.hasOwnProperty(h)){var u=p[h],m=i(h,null,u,"Combined");t.push(m)}}else t.push(i("mrca",null,e[a],"MRCA"));return t})}})}),define("flea-app/adapters/structure",["exports","ember","flea-app/config/environment","ic-ajax"],function(e,t,a,n){"use strict";e["default"]=t["default"].Object.extend({find:function(){var e=a["default"].baseURL+"assets/env_structure.pdb";return n["default"](e).then(function(e){var t=pv.io.pdb(e);return t})}})}),define("flea-app/adapters/trajectory",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/utils/utils"],function(e,t,a,n,r){"use strict";e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/rates_pheno";return n["default"](t).then(function(e){return e.forEach(function(e){e.Date=r.parse_date(String(e.Date));for(var t in e)e.hasOwnProperty(t)&&"Segment"!==t&&"Date"!==t&&(e[t]=+e[t])}),e})}})}),define("flea-app/adapters/trees",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/utils/utils"],function(e,t,a,n,r){"use strict";function i(e,a,n,i){return"Combined"!==e&&(e=r.parse_date(e)),t["default"].Object.create({date:e,region:a,distance:n,tree:i})}e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/trees";return n["default"](t).then(function(e){var t=[];for(var a in e)if(e.hasOwnProperty(a))for(var n in e[a])if(e[a].hasOwnProperty(n))for(var r in e[a][n])e[a][n].hasOwnProperty(r)&&t.push(i(a,n,r,e[a][n][r]));return t})}})}),define("flea-app/adapters/turnover",["exports","ember","flea-app/config/environment","ic-ajax","flea-app/utils/utils"],function(e,t,a,n,r){"use strict";var i=t["default"].Object.extend({date:null,turnover:null}),d=t["default"].Object.extend({data:[],readCounts:[],sortedTurnover:function(){var e=this.get("data");return e.sort(function(e,t){return e.date-t.date}),e}.property("data")});e["default"]=t["default"].Object.extend({find:function(e){var t=a["default"].baseURL+"data/"+e+"/turnover";return n["default"](t).then(function(e){var t=[],a=e.readCount;delete e.readCount;for(var n in e)t.push(i.create({date:r.parse_date(n),turnover:e[n]}));return d.create({data:t,readCounts:a})})}})}),define("flea-app/app",["exports","ember","ember/resolver","ember/load-initializers","flea-app/config/environment"],function(e,t,a,n,r){"use strict";var i;t["default"].MODEL_FACTORY_INJECTIONS=!0,i=t["default"].Application.extend({modulePrefix:r["default"].modulePrefix,podModulePrefix:r["default"].podModulePrefix,Resolver:a["default"]}),n["default"](i,r["default"].modulePrefix),e["default"]=i}),define("flea-app/components/alignment-overview",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";e["default"]=t["default"].Component.extend({tagName:"svg",classNames:["alignment-overview"],labelHeight:10,mainHeight:30,axisHeight:20,attributeBindings:["width","height"],alnRanges:null,alnLen:1,selectedPositions:null,predefinedRegions:null,alnToRefCoords:null,tick:100,shiftKey:!1,width:t["default"].computed.alias("alnLen"),height:function(){return this.get("labelHeight")+this.get("mainHeight")+this.get("axisHeight")}.property("labelHeight","mainHeight","axisHeight"),didInsertElement:function(){this.transformMain(),this.drawLabels(),this.drawTrack(),this.drawInsertions(),this.drawPositive(),this.drawSelected(),this.drawRanges(),this.drawAxis(),this.makeBrush();var e=this,t=function(){e.set("shiftKey",d3.event.shiftKey)};d3.select(window).on("keydown",t),d3.select(window).on("keyup",t)},drawLabels:function(){var e=this.get("refToAlnCoords"),t=this.get("predefinedRegions"),n=d3.select("#"+this.get("elementId")).select(".labels"),r=this.get("labelHeight"),i=r/2,d=this,s=function(e){var t=[e.start,e.stop];d.get("shiftKey")?d.sendAction("addRange",t):d.sendAction("setRanges",[t])},o=n.selectAll("text").data(t,function(e){return e.name});o.enter().append("text").style("text-anchor","middle").style("dominant-baseline","middle").attr("x",function(t){return a.transformIndex(t.start,e,!1)+(a.transformIndex(t.stop,e,!0)-a.transformIndex(t.start,e,!1))/2}).attr("y",function(){return i}).text(function(e){return e.name}).attr("font-family","sans-serif").attr("font-size","8px"),o.exit().remove();var l=n.selectAll("rect").data(t,function(e){return e.name});l.enter().append("rect").on("click",s).style("cursor","pointer").attr("x",function(t){return a.transformIndex(t.start,e,!1)}).attr("y",function(e){return 0}).attr("width",function(t){return a.transformIndex(t.stop,e,!0)-a.transformIndex(t.start,e,!1)-1}).attr("height",function(e){return r}).attr("stroke-width",1).attr("stroke","black").attr("fill-opacity",0),l.exit().remove()}.observes("predefinedRegions","labelHeight","refToAlnCoords"),transformMain:function(){d3.select("#"+this.get("elementId")).select(".main").attr("transform","translate(0,"+this.get("labelHeight")+")")}.observes("labelHeight"),closedRanges:function(){return this.get("alnRanges").map(function(e){return[e[0],e[1]-1]})}.property("alnRanges"),x:function(){return d3.scale.linear().domain([0,this.get("width")]).range([0,this.get("width")])}.property("width"),makeBrush:function(){var e=this,t=this.get("alnToRefCoords"),n=d3.select("#"+this.get("elementId")).select(".main").select(".brush"),r=this.get("x"),i=d3.svg.brush(),d=function(){var r=i.extent(),d=r.map(function(e){return d3.round(e,0)}),s=[a.transformIndex(d[0],t,!1),a.transformIndex(d[1],t,!1)+1];e.get("shiftKey")?e.sendAction("addRange",s):e.sendAction("setRanges",[s]),i.clear(),n.call(i)};i.x(r).on("brushend",d),n.call(i).selectAll("rect").attr("height",this.get("mainHeight"))}.observes("x","mainHeight","alnToRefCoords"),drawTrack:function(){var e=this.get("width"),t=this.get("mainHeight"),a=d3.select("#"+this.get("elementId")).select(".main").select(".track"),n=[[0,t/2,e,t/2],[0,t/3,0,2*t/3],[e-1,t/3,e-1,2*t/3]],r=a.selectAll("lines").data(n).enter().append("line");r.attr("x1",function(e){return e[0]}).attr("y1",function(e){return e[1]}).attr("x2",function(e){return e[2]}).attr("y2",function(e){return e[3]}).attr("stroke-width",1).attr("stroke","black")}.observes("width","mainHeight"),drawAxis:function(){var e=this.get("refToAlnCoords"),t=this.get("alnToRefCoords"),n=this.get("tick"),r=Math.max(Math.floor(t[t.length-1]/n),0),i=_.range(1,r+1).map(function(e){return a.zeroIndex(e*n)}),d=i.map(function(t){return a.transformIndex(t,e,!1)}),s=this.get("x"),o=d3.svg.axis().scale(s).orient("bottom").tickValues(d).tickFormat(function(e){return a.oneIndex(a.transformIndex(e,t,!1))}),l=d3.select("#"+this.get("elementId")).select(".axis");l.attr("class","x axis").attr("transform","translate(0,"+(this.get("labelHeight")+this.get("mainHeight"))+")").call(o)}.observes("width","mainHeight","labelHeight"),insertions:function(){for(var e=this.get("alnToRefCoords"),t=[],a=!1,n=-1,r=-1,i=e.length,d=1;d<e.length;d++)a||e[d-1]!==e[d]?a&&e[d-1]!==e[d]?(r=d-1,a=!1,t.push([n,r])):a&&d+1===i&&(r=d,a=!1,t.push([n,r])):(a=!0,n=d);return t}.property("alnToRefCoords"),drawInsertions:function(){var e=d3.select("#"+this.get("elementId")).select(".main").select(".insertions"),t=this.get("insertions"),a=this.get("mainHeight")/2,n=e.selectAll("line").data(t,function(e){return String(e)});n.enter().append("line").attr("x1",function(e){return e[0]}).attr("y1",function(){return a}).attr("x2",function(e){return e[1]}).attr("y2",function(){return a}).attr("stroke-width",3).attr("stroke","black"),n.exit().remove()}.observes("insertions","mainHeight"),drawPositive:function(){var e=[];this.get("markPositive")&&(e=this.get("positiveSelection")[0]);var t=this.get("mainHeight"),a=d3.select("#"+this.get("elementId")).select(".main").select(".positive"),n=a.selectAll("line").data(e,function(e){return e});n.enter().append("line").attr("x1",function(e){return e}).attr("y1",function(){return t/3}).attr("x2",function(e){return e}).attr("y2",function(){return 2*t/3}).attr("stroke-width",1).attr("stroke","green"),n.exit().remove()}.observes("markPositive","positiveSelection","mainHeight"),drawSelected:function(){var e=d3.select("#"+this.get("elementId")).select(".main").select(".selected"),t=this.get("mainHeight"),a=this.get("selectedPositions").toArray(),n=e.selectAll("line").data(a,function(e){return e});n.enter().append("line").attr("x1",function(e){return e}).attr("y1",function(){return 0}).attr("x2",function(e){return e}).attr("y2",function(){return t}).attr("stroke-width",1).attr("stroke","red"),n.exit().remove()}.observes("selectedPositions.[]","mainHeight"),drawRanges:function(){function e(e){var t=d3.round(+d3.event.dx,0),a=+this.getAttribute("width"),n=+this.getAttribute("x")+t;n>=0&&d>=n+a+1&&d3.select(this).attr("x",n)}function t(e){var t=+this.getAttribute("idx"),a=+this.getAttribute("x"),n=+this.getAttribute("width"),r=[a,a+n+1];i.sendAction("updateRange",t,r)}var a=d3.select("#"+this.get("elementId")).select(".main").select(".ranges"),n=this.get("mainHeight"),r=this.get("closedRanges"),i=this,d=this.get("width"),s=d3.behavior.drag().on("drag",e).on("dragend",t);a.selectAll("rect").remove(),a.selectAll("rect").data(r).enter().append("rect").attr("x",function(e){return e[0]}).attr("y",function(){return 0}).attr("idx",function(e,t){return t}).attr("width",function(e){return e[1]-e[0]}).attr("height",function(){return n}).attr("stroke-width",1).attr("stroke","blue").style("fill","blue").attr("fill-opacity",.1).call(s).on("click",function(e,t){d3.event.defaultPrevented||i.sendAction("rmRange",t)})}.observes("closedRanges","width","mainHeight")})}),define("flea-app/components/bootstrap-popover",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Component.extend({tagName:"a",attributeBindings:["tabindex","dataToggle:data-toggle","dataTrigger:data-trigger","title","dataContent:data-content","placement"],classNames:["popover-link"],tabindex:"0",dataToggle:"popover",dataTrigger:"focus",title:"Title",dataContent:"Content",html:!0,placement:"auto right",didInsertElement:function(){this.$().popover({html:this.get("html"),placement:this.get("placement")})}.observes("dataContent","html","placement")})}),define("flea-app/components/gene-plots",["exports","ember"],function(e,t){"use strict";function a(e,t){var a=[e];return a.pushObjects(t),a}e["default"]=t["default"].Component.extend({tagName:"svg",attributeBindings:["width","height"],addCombined:!0,width:850,heightEach:80,labelHeight:25,margin:{top:20,right:0,bottom:50,left:30},height:function(){var e=this.get("margin");return e.top+e.bottom+this.get("nPlots")*this.get("heightEach")+this.get("labelHeight")}.property("heightEach","margin","nPlots","labelHeight"),didInsertElement:function(){this._updateChart()},innerWidth:function(){var e=this.get("margin");return this.get("width")-e.left-e.right}.property("width","margin"),innerHeight:function(){var e=this.get("margin");return this.get("height")-e.top-e.bottom}.property("height","margin"),innerGroupTransform:function(){var e=this.get("margin");return"translate(%@, %@)".fmt(e.left,e.top)}.property("margin"),onChartChange:function(){"inDOM"===this.state&&this._updateChart()}.observes("name.@each","data1","data2","positions","labels.[]","width","height","heightEach","margin","yMax","labelHeight","addCombined"),yMax:function(){var e=this.get("data1"),t=this.get("data2");return[d3.max(_.flatten(e)),d3.max(_.flatten(t))]}.property("data1","data2"),nPlots:function(){var e=this.get("names.length");return this.get("addCombined")&&(e+=1),e}.property("names.length","addCombined"),_updateChart:function(){function e(){b.domain(T.empty()?x.domain():T.extent());for(var e=0;e<F.length;e++)F[e].select("._pos_dS").attr("d",E[e][0]),l&&F[e].select("._pos_dN").attr("d",E[e][1]),F[e].selectAll(".selected_site").attr("cx",g);C.select(".pos.x.axis").call(y)}var t=this.get("names"),n=this.get("data1"),r=this.get("data2"),i=this.get("positions"),d=this.get("labels"),s=n[0].length,o=this.get("nPlots"),l=r.length>0;if(this.get("addCombined")&&"Combined"!==t[0]){for(var c=[],p=0;s>p;p++)c.push(0);n=a(c,n),l&&(n=a(c,r)),i.length>0&&(i=a([],i)),t=a("Combined",t)}if(l&&n.length!==r.length)throw"data1 and data2 have different lengths";if(n.length!==t.length)throw"data1 and names have different lengths";for(var h=0;o>h;h++){if(n[h].length!==s)throw"data vector lengths are inconsistent";if(l&&r[h].length!==s)throw"data vector lengths are inconsistent"}var u=this.get("innerWidth"),m=this.get("innerHeight"),v=this.get("heightEach"),f=this.get("url"),g=function(e){return b(e)},C=d3.select("#"+this.get("elementId")).select(".inner");C.selectAll("path").remove(),C.selectAll("g").remove(),C.selectAll("defs").remove(),C.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",u).attr("height",m),C=C.append("g");for(var b=d3.scale.linear().range([0,u]).domain([1,s]),x=d3.scale.linear().range([0,u]).domain([1,s]),T=d3.svg.brush().x(x).on("brush",e),N=this.get("yMax"),A=d3.scale.linear().range([v,0]).domain([l?-N[1]:0,N[0]]),y=d3.svg.axis().scale(b).orient("bottom"),R=d3.svg.axis().scale(x).orient("top"),F=[],E=[],w=0;w<t.length;w++){var M=C.append("g").attr("transform","translate(0,"+v*w+")"),k=[];k[0]=d3.svg.area().x(function(e,t){return b(t+1)}).y0(function(){return A(0)}).y1(function(e){return A(e)}).interpolate("step"),l&&(k[1]=d3.svg.area().x(function(e,t){return b(t+1)}).y0(function(e){return A(-e)}).y1(function(){return A(0)}).interpolate("step")),E.push(k),M.append("text").attr("transform","translate(0,"+A(0)+") rotate (-90)").attr("y","0").attr("dy","-0.5em").style("text-anchor",l?"middle":"start").text(t[w]),M.append("path").datum(n[w]).attr("class","_pos_dS").attr("clip-path","url("+f+"#clip)").attr("d",k[0]),l&&M.append("path").datum(r[w]).attr("clip-path","url("+f+"#clip)").attr("class","_pos_dN").attr("d",k[1]),0===w?M.append("g").attr("class","x brush").call(T).selectAll("rect").attr("y",-6).attr("height",v+7):F.push(M),i.length>0&&M.selectAll(".selected_site").data(i[w]).enter().append("circle").attr("cx",function(e){return b(e)}).attr("cy",function(){return A(0)}).attr("r",4).attr("class","selected_site").attr("clip-path","url("+f+"#clip)").append("title").text(function(e){return"Codon "+e})}C.append("g").attr("class","pos x_overall axis").call(R).append("text").attr("transform","translate(0,0)").attr("dy","-.4em").attr("dx",".25em").style("text-anchor","start").text("Site");var _=this.get("labelHeight");if(C.append("g").attr("class","pos x axis").attr("transform","translate(0,"+(m-_)+")").call(y).append("text").attr("transform","translate(0,0)").attr("dy","+1.1em").attr("dx",".25em").style("text-anchor","start").text("Site"),d.length>0){var P={x:0,y:m-_+10,spacer:15,margin:5,font:10,x_step:100},S=["#2E66FF","#FFB314"],q=C.append("g").attr("class","gene_legend").attr("x",P.x).attr("y",P.y).attr("transform","translate("+P.x+","+P.y+")");q.selectAll("g").data(d).enter().append("g").each(function(e,t){var a=d3.select(this);a.append("rect").attr("y",P.spacer).attr("x",t*(P.spacer+P.margin+P.x_step)).attr("width",P.spacer).attr("height",P.spacer).style("fill",S[t]),a.append("text").attr("y",2*P.spacer).attr("x",t*(P.spacer+P.margin+P.x_step)+P.spacer+P.font/4).style("fill",S[t]).text(e)})}}})}),define("flea-app/components/graph-axis",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Component.extend({tagName:"g",classNames:["axis"],attributeBindings:["transform"],scale:null,orient:"bottom",ticks:10,tickValues:null,tickSize:15,tickFormat:null,tickPadding:15,rotate:0,_axis:null,d3Axis:function(){var e=this.get("_axis");return null===e&&(e=d3.svg.axis()),e.scale(this.get("scale")).orient(this.get("orient")).ticks(this.get("ticks")).tickValues(this.get("tickValues")).tickFormat(this.get("tickFormat")).tickSize(this.get("tickSize")).tickPadding(this.get("tickPadding")),this.set("_axis",e),e}.property("scale","orient","ticks","tickValues","tickSize","tickFormat","tickPadding"),didInsertElement:function(){this._updateAxis()},onD3AxisChange:function(){"inDOM"===this.state&&this._updateAxis()}.observes("d3Axis","rotate"),_updateAxis:function(){var e=this.get("d3Axis"),t=d3.select(this.$()[0]).call(e),a=this.get("rotate");0!==a&&t.selectAll("text").style("text-anchor","start").attr("transform","rotate("+a+")").attr("dx","0.5em").attr("dy","0.5em")}})}),define("flea-app/components/phylotree-widget",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";e["default"]=t["default"].Component.extend({tagName:"svg",attributeBindings:["width","height"],treeWidget:null,width:800,height:600,tree:null,seq_ids_to_dates:null,copynumbers:null,do_copy_number:!1,nodeNamer:function(){var e=this.get("seq_ids_to_dates");return this.get("showDates")?function(t){return a.format_date(e[t.name.toUpperCase()])}:null}.property("seq_ids_to_dates","showDates"),nodeColorizer:function(){var e=this.get("seq_ids_to_dates"),t=d3.scale.category10(),a=function(a,n){a.style("fill",t(e[n.name.toUpperCase()]))};return a}.property("seq_ids_to_dates"),didInsertElement:function(){var e=d3.layout.phylotree("body").size([this.get("height"),this.get("width")]).separation(function(){return 0}).style_nodes(this.get("nodeColorizer")).branch_name(this.get("nodeNamer"));if(e.node_span("equal"),this.get("do_copy_number")){var t=this.get("copynumbers");e.node_span(function(e){return t.hasOwnProperty(e.name)?Math.sqrt(t[e.name]):1}),e.options({"draw-size-bubbles":!0},!1),e.options({"min-bubble-size":.1},!1),e.options({"max-bubble-size":3},!1),e.update_scale()}else e.options({"draw-size-bubbles":!1},!1);e.options({selectable:!1},!1),this.set("treeWidget",e),this.update()},update:function(){var e=this.get("tree"),t=d3.select("#"+this.get("elementId")),a=this.get("treeWidget");a(e).svg(t).layout(),this.sort()}.observes("tree","treeWidget"),sort:function(){var e=this.get("sortState");"ascending"===e?this.sortNodes(!0):"descending"===e?this.sortNodes(!1):this.sortOriginal()}.observes("sortState"),sortNodes:function(e){var t=this.get("treeWidget");t.traverse_and_compute(function(e){var t=1;e.children&&e.children.length&&(t+=d3.max(e.children,function(e){return e.count_depth})),e.count_depth=t}),t.resort_children(function(t,a){return(t.count_depth-a.count_depth)*(e?1:-1)})},sortOriginal:function(){this.get("treeWidget").resort_children(function(e,t){return e.original_child_order-t.original_child_order})},space:function(){var e=this.get("spaceState");"neutral"!==e&&("compress"===e?this.compressSpacing():"expand"===e&&this.expandSpacing(),this.set("spaceState","neutral"))}.observes("spaceState"),expandSpacing:function(){var e=this.get("treeWidget");e.spacing_x(e.spacing_x()+1).update(!0)},compressSpacing:function(){var e=this.get("treeWidget");e.spacing_x(e.spacing_x()-1).update(!0)},updateNames:function(){var e=this.get("treeWidget");e.branch_name(this.get("nodeNamer")),e.update(!0)}.observes("nodeNamer")})}),define("flea-app/components/pv-wrapper",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Component.extend({shouldLabel:!0,fog:!0,spin:!1,slabModes:["auto","fixed"],slabMode:"auto",slabNear:.1,slabFar:400,structure:null,data:[],viewer:null,geometry:null,updateSpin:function(){this.get("viewer").spin(this.get("spin"))}.observes("spin"),updateFog:function(){this.get("viewer").options("fog",this.get("fog")),this.get("viewer").requestRedraw()}.observes("fog"),updateSlabMode:function(){this.get("viewer").slabMode(this.get("slabMode"),{near:+this.get("slabNear"),far:+this.get("slabFar")}),this.get("viewer").requestRedraw()}.observes("slabMode","slabNear","slabFar"),showSlabControls:function(){return"fixed"===this.get("slabMode")}.property("slabMode"),didInsertElement:function(){var e={width:1e3,height:800,antialias:!0,quality:"medium"},t=pv.Viewer(this.$()[0],e);this.set("viewer",t);var a=this.get("structure");t.fitTo(a);var n=t.cartoon("protein",a);n.colorBy(pv.color.uniform("blue")),this.set("geometry",n),this.updateColors(),this.labelResidues()},updateColors:function(){var e=this.get("geometry"),t=this.get("structure");if(null!==t){var a=this.get("data"),n=0,r=0,i=pv.color.gradient(["white","darkred"]);if(a){n=d3.min(a),r=d3.max(a),-n===r&&(i=pv.color.gradient(["darkblue","white","darkred"]));var d=r-n;a=_.map(a,function(e){return(e-n)/d})}t.eachResidue(function(e){var t=e.num(),n=a[t];n=void 0===n?0:n,e.customData=function(){return n}});var s=pv.color.byResidueProp("customData",i);e.colorBy(s),this.get("viewer").requestRedraw()}}.observes("data.@each","structure","geometry"),labelResidues:function(){var e=this.get("viewer");if(e.rm("label*"),this.get("shouldLabel")){var t=this.get("structure"),a=0,n={fontSize:10,fontColor:"rgba(0, 0, 0, 0.5)"};t.eachResidue(function(t){var r=t.num();if(r%10===0){var i="label_"+a;e.label(i,r,t.atom(0).pos(),n),a+=1}})}this.get("viewer").requestRedraw()}.observes("shouldLabel")})}),define("flea-app/components/range-selector",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Component.extend({tagName:"",values:[],names:[],selectedIdx:0,selectedName:function(){return this.get("names")[this.get("selectedIdx")]}.property("names.length","names.@each","selectedIdx"),maxIdx:function(){return this.set("selectedIdx",0),this.get("values.length")-1}.property("values.length")})}),define("flea-app/components/sequence-range-controls",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";e["default"]=t["default"].Component.extend({tagName:"",ranges:[],seqLen:1,myRanges:[],rangeText:"",fromController:function(){this.updateFromController()}.on("didInsertElement"),updateFromController:function(){this.set("myRanges",this.get("ranges")),this.makeText()}.observes("ranges"),makeText:function(){var e=this.get("myRanges"),t=e.map(function(e){return a.oneIndex(e[0])+"-"+e[1]}).join(";");this.set("rangeText",t)},parseText:function(){var e=this.get("rangeText"),t=e.split(";").map(function(e){var t=e.split("-");if(2!==t.length)throw"wrong number of ranges";return[+t[0]-1,+t[1]]});this.set("myRanges",t)},toController:function(){var e=this.get("myRanges"),t=+this.get("seqLen");e=e.map(function(e){var a=e[0],n=e[1];return 0>a&&(a=0),n>t&&(n=t),[a,n]}),this.set("myRanges",e),_.all(e.map(function(e){return e[0]<e[1]}))&&(this.set("ranges",e),this.set("myRanges",e))},actions:{moveRanges:function(e){for(var t=this.get("ranges"),a=this.get("seqLen"),n=0;n<t.length;n++){var r=t[n][0],i=t[n][1];r+e>=0&&i+e>=r+e&&a>=i+e&&(t[n][0]=r+e,t[n][1]=i+e)}this.set("myRanges",t),this.toController()},setRange:function(e,t){this.set("myRanges",[[e,t]]),this.makeText(),this.toController()},display:function(){this.parseText(),this.toController()}}})}),define("flea-app/components/sequence-viewer",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";e["default"]=t["default"].Component.extend({groupedSequences:{},alnToRef:null,selectedPositions:new t["default"].Set,selectDefault:!1,didInsertElement:function(){this.get("selectDefault")&&0===this.get("selectedPositions.length")&&this.selectAllPositive()},refHTML:function(){for(var e=[],t=-5,n=this.get("alnToRef"),r=this.get("positiveSelection")[0],i=this.get("alnRanges"),d=0;d<i.length;d++){for(var s=i[d][0],o=i[d][1],l=s;o>l;l++){var c=a.oneIndex(n[l]),p="";p=10>c?"  "+c:100>c?" "+c:""+c,t===c&&(p=" - ");var h="ref_coord";this.get("selectedPositions").contains(l)&&(h+=" selected_position"),p=p.split("").join("<br/>"),this.get("markPositive")&&(p+="<br/>",p+=r.indexOf(l)>=0?"+":""),e.push({_class:h,dataCoord:l,html:p}),t=c}i.length>1&&d<i.length-1&&e.push({_class:"ref_coord seperator",dataCoord:"",html:"|<br/>|<br/>|"})}return e}.property("alnRanges","alnToRef","markPositive","positiveSelection","selectedPositions","selectedPositions.[]"),selectAllPositive:function(){for(var e=this.get("positiveSelection")[0],a=this.get("alnRanges"),n=new t["default"].Set,r=0;r<a.length;r++)for(var i=a[r][0],d=a[r][1],s=0;s<e.length;s++){var o=e[s];if(o>=i&&d>=o&&n.add(o),o>d)break}this.set("selectedPositions",n)},actions:{togglePosition:function(e){e=+e,this.get("selectedPositions").contains(e)?this.get("selectedPositions").remove(e):this.get("selectedPositions").add(e)},clearPositions:function(){this.get("selectedPositions").clear()},selectPositiveClicked:function(){this.selectAllPositive()}}})}),define("flea-app/components/timeseries-plot",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Component.extend({tagName:"svg",attributeBindings:["width","height"],width:900,height:300,legendRight:!1,interpolation:"linear",ymin:null,data:[],data2:[],_margin:{top:20,right:50,bottom:60,left:50},margin:function(){var e=this.get("_margin"),t=this.get("seriesNames");if(this.get("legendRight")&&t.length>0){var a=Math.max.apply(null,t.map(function(e){return e.length}));e.right=20+10*a}return e}.property("seriesNames.[]","legendRight"),didInsertElement:function(){this.set("width",this.$().width()),this.set("height",this.$().height()),this._updateChart()},innerWidth:function(){var e=this.get("margin");return this.get("width")-e.left-e.right}.property("width","margin"),innerHeight:function(){var e=this.get("margin");return this.get("height")-e.top-e.bottom}.property("height","margin"),innerGroupTransform:function(){var e=this.get("margin");return"translate(%@, %@)".fmt(e.left,e.top)}.property("margin"),seriesNames:function(){var e=this.get("data"),t=this.get("data2"),a=e.map(function(e){return e.name}),n=t.map(function(e){return e.name});return a.concat(n)}.property("data.[]","data2.[]"),dates:function(){var e=this.get("data"),t=e.map(function(e){return e.values.map(function(e){return e.x})});return t=d3.set(d3.merge(t)).values(),t.map(function(e){return new Date(e)})}.property("data.[]"),xDomain:function(){return d3.extent(this.get("dates"))}.property("dates.[]"),xAxisTransform:function(){return"translate(0, %@)".fmt(this.get("innerHeight"))}.property("innerHeight"),xScale:function(){var e=this.get("xDomain");e=e.map(function(e){return new Date(e)});var t=d3.time.scale().domain(e).range([0,this.get("innerWidth")]);return t}.property("innerWidth","xDomain"),_yScale:function(e){var t=d3.max(e,function(e){return d3.max(e.values,function(e){return e.y})}),a=this.get("ymin");return null===a&&(a=d3.min(e,function(e){return d3.min(e.values,function(e){return e.y})})),d3.scale.linear().range([this.get("innerHeight"),0]).domain([a,t])},yScale:function(){return this._yScale(this.get("data"))}.property("innerHeight","data.[]","ymin"),yScale2:function(){return this._yScale(this.get("data2"))}.property("innerHeight","data2.[]","ymin"),yAxisTransform:function(){return"translate(%@, 0)".fmt(this.get("innerWidth"))}.property("innerHeight"),d3Line:function(){var e=this.get("xScale"),t=this.get("yScale");return d3.svg.line().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).interpolate(this.get("interpolation"))}.property("xScale","yScale"),d3Line2:function(){var e=this.get("xScale"),t=this.get("yScale2");return d3.svg.line().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).interpolate(this.get("interpolation"))}.property("xScale","yScale2"),xAxisFormat:function(){return d3.time.format("%B %Y")}.property(),xTickValues:function(){return this.get("dates")}.property("dates"),yAxisFormat:function(){return d3.format(".00")}.property(),colors:function(){var e=d3.scale.category10();return e.domain(this.get("seriesNames")),e}.property("seriesNames"),_updateData:function(e,t,a){var n=d3.select("#"+this.get("elementId")).select(".inner"),r=this.get("colors"),i=n.select(a).selectAll("path").data(e,function(e){return e.name});i.enter().append("path").attr("class","timeseries_line"),i.attr("d",function(e){return t(e.values)}).style("stroke",function(e){return r(e.name)}),i.exit().remove()},_updateChart:function(){this._updateData(this.get("data"),this.get("d3Line"),".lines"),this._updateData(this.get("data2"),this.get("d3Line2"),".lines2"),this._updateLegend()},onChartChange:function(){"inDOM"===this.state&&this._updateChart()}.observes("data","d3Line","seriesNames","xScale","yScale","yScale2"),_updateLegend:function(){var e=this.get("seriesNames"),t=this.get("colors"),a=0,n=25,r=10;this.get("legendRight")&&(a=this.get("innerWidth"),n=10,r=6);var i={x:a,y:0,spacer:n,margin:5,font:r},d=d3.select("#"+this.get("elementId")).select(".inner").select(".legend");d.selectAll("g").remove();
var s=d.append("g").attr("class","timeseries_legend").attr("x",i.x).attr("y",i.y).attr("transform","translate("+i.x+","+i.y+")"),o=s.selectAll(".legend_panel");o.data(e,function(e){return e}).enter().append("g").attr("class","legend_panel").each(function(e,a){var n=d3.select(this);n.append("rect").attr("x",i.spacer).attr("y",a*(i.spacer+i.margin)).attr("width",i.spacer).attr("height",i.spacer).style("fill",function(){return t(e)}),n.append("text").attr("x",2*i.spacer+i.font/4).attr("y",(a+1)*(i.spacer+i.margin)-i.margin-i.spacer/2+i.font/2).style("fill",function(){return t(e)}).attr("font-family","monospace").text(function(e){return e})})}})}),define("flea-app/controllers/session/gene",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";e["default"]=t["default"].Controller.extend({metrics:["dNdS","Turnover","Entropy"],selectedMetric:"dNdS",markPositive:!0,selectedTimepointIdx:0,playing:!1,needs:["application","session"],currentPath:function(){var e=this.get("controllers.application.baseURL"),t=this.get("controllers.application.currentPath"),a=this.get("controllers.session.session_id");return t=t.replace("session",a).replace(".","/"),e+t}.property("controllers.application.baseURL","controllers.application.currentPath","controllers.session.session_id"),labels:function(){var e=this.get("selectedMetric");return"dNdS"===e?["Mean dS","Mean dN"]:[e]}.property("selectedMetric"),getRate:function(e,t){var a=e.map(function(e){return e.rates.map(function(e){return e[t]})});return a},meanDS:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,0)}.property("model.rates.sortedRates.[].[]"),meanDN:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,1)}.property("model.rates.sortedRates.[].[]"),entropy:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,4)}.property("model.rates.sortedRates.[].[]"),turnover:function(){var e=this.get("model.turnover.sortedTurnover");return e.map(function(e){return e.turnover})}.property("model.turnover.sortedTurnover"),addCombined:function(){return"Turnover"===this.get("selectedMetric")}.property("selectedMetric"),data1:function(){var e=this.get("selectedMetric");if("Entropy"===e)return this.get("entropy");if("Turnover"===e)return this.get("turnover");if("dNdS"===e)return this.get("meanDS");throw"Invalid metric"}.property("selectedMetric","turnover","entropy","meanDS"),data2:function(){var e=this.get("selectedMetric");return"dNdS"===e?this.get("meanDN"):[]}.property("selectedMetric","turnover","entropy","meanDN"),structureData:function(){var e=this.get("selectedTimepointIdx");e>=this.get("names.length")&&(e=this.get("names.length")-1);var t=this.get("selectedMetric");if("Entropy"===t)return this.get("entropy")[e];if("Turnover"===t)return this.get("turnover")[e];var a=this.get("meanDN"),n=this.get("meanDS"),r=_.zip(a[e],n[e]),i=Math.log(5),d=Math.log(.2),s=r.map(function(e){var t=Math.log(e[0]/e[1]);return t>i?t=i:d>t&&(t=d),t}),o=this.get("model.frequencies.refToFirstAlnCoords"),l=_.map(o,function(e){return s[e]||0});return l}.property("model.frequencies.refToFirstAlnCoords","meanDN","meanDS","entropy","turnover","selectedTimepointIdx","selectedMetric"),timepoints:function(){var e=this.get("model.rates.sortedRates"),t=e.map(function(e){return e.date});return"Turnover"===this.get("selectedMetric")&&t.splice(0,2),t}.property("model.rates.sortedRates.[].[]","selectedMetric"),names:function(){var e=this.get("timepoints"),t=e.map(function(e){return"Combined"===e?e:(a.isString(e)&&(e=a.parse_date(e)),a.format_date(e))});return t}.property("timepoints.@each"),selectedName:function(){return this.get("names")[this.get("selectedTimepointIdx")]}.property("names","selectedTimepointIdx"),positions:function(){return this.get("markPositive")?this.get("model.rates.positiveSelection"):[]}.property("markPositive","model.rates.positiveSelection"),startPlayback:function(){this.set("timer",this.schedule(this.get("nextTimepoint"))),this.set("playing",!0)},stopPlayback:function(){t["default"].run.cancel(this.get("timer")),this.set("playing",!1)}.observes("selectedMetric"),buttonClass:function(){return this.get("playing")?"fa fa-stop":"fa fa-play"}.property("playing"),interval:function(){return 1e3}.property().readOnly(),schedule:function(e){return t["default"].run.later(this,function(){e.apply(this),this.set("timer",this.schedule(e))},this.get("interval"))},nextTimepoint:function(){var e=(this.get("selectedTimepointIdx")+1)%this.get("timepoints.length");this.set("selectedTimepointIdx",e)},actions:{togglePlayback:function(){this.get("playing")?this.stopPlayback():this.startPlayback()}}})}),define("flea-app/controllers/session/neutralization",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";function n(e){return i(100*e)+"%"}function r(e,t,a){return t in e||(e[t]=a),e[t]}var i=d3.format(".2f");e["default"]=t["default"].Controller.extend({mabNames:function(){var e=this.get("model.neutralization"),t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t.sort(),t}.property("model.neutralization.@each"),mabFeatures:function(){for(var e=this.get("model.neutralization"),t=this.get("seqIdToDate"),a={},n=this.get("mabNames"),i=0;i<n.length;i++){var d=n[i];if(e.hasOwnProperty(d))for(var s=e[d].predictions,o=r(a,d,{}),l=0;l<s.length;l++){var c=s[l];if(c.id in t)for(var p=t[c.id],h=+c.value,u=r(o,p,{}),m=r(u,"features",[]),v=c.features,f=0;f<v.length;f++)m.push({name:v[f],value:h>0})}}return a}.property("mabName.@each","model.neutralization.@each","seqIdToDate"),sortedDates:function(){var e=this.get("model.dates"),t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(new Date(a));return t.sort(function(e,t){return t>e?-1:1}),t}.property("model.dates.@each"),headerNames:function(){var e=this.get("sortedDates"),t=e.map(function(e){return a.format_date(e)});return t.splice(0,0,"mab"),t}.property("sortedDate.@each"),tableData:function(){var e=d3.interpolateRgb("white","red"),t=this.get("mabFeatures"),r=this.get("sortedDates"),i=[];for(var d in t)if(t.hasOwnProperty(d)){var s=[];s.push({value:d,style:"",html:""});for(var o=0;o<r.length;o++){var l=r[o];if(t[d].hasOwnProperty(l)){var c=t[d][l].features,p=0,h=[],u=[];c.length>0&&(h=c.filter(function(e){return e.value}),u=c.filter(function(e){return!e.value}),p=h.length/(h.length+u.length));var m=c.reduce(function(e,t){return t.name in e||(e[t.name]=[0,0]),t.value?e[t.name][1]+=1:e[t.name][0]+=1,e},{}),v=["feature","susceptible","resistant"],f=[];for(var g in m)m.hasOwnProperty(g)&&f.push([g,m[g][0],m[g][1]]);var C=e(p);s.push({value:n(p),style:"background-color: "+C,html:a.htmlTable(f,v)})}}i.push(s)}return i}.property("mabFeature.@each","sortedDate.@each"),seqIdToDate:function(){var e=this.get("model.sequences");return e.reduce(function(e,t){return e[t.id]=t.date,e},{})}.property("model.sequences.@each")})}),define("flea-app/controllers/session/sequences",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";function n(e){for(var t=0;t<e.length;t++){for(var a=e[t].sequences,n=0,r=0;r<a.length;r++)n+=a[r].copyNumber;for(var i=0;i<a.length;i++)a[i].percent=100*a[i].copyNumber/n}return e}function r(e,t){for(var a=0;a<e.length;a++){var n=e[a].sequences.filter(function(e){return e.percent>=t});e[a].sequences=n}return e}function i(e){var t=_.groupBy(e,function(e){return e.sequence}),a=[];for(var n in t)if(t.hasOwnProperty(n)){for(var r=t[n],i=[],d=0,s=0;s<r.length;s++)i.push(r[s].ids[0]),d+=r[s].copyNumber;a.push({sequence:r[0].sequence,ids:i,copyNumber:d})}return a}function d(e){for(var t=0;t<e.length;t++)for(var n=e[t].sequences,r=0;r<n.length;r++)n[r].html=a.htmlTable1D(n[r].ids,["Sequence ID"]);return e}function s(e,t){for(var n=0;n<e.length;n++)for(var r=e[n].sequences,i=0;i<r.length;i++)r[i].highlights=a.regexRanges(t,r[i].sequence);return e}function o(e,t){for(var a=0;a<e.length;a++)for(var n=e[a].sequences,r=0;r<n.length;r++){var i=n[r];n[r].mask=i.sequence.split("").map(function(e,a){return e===t[a]})}return e}var l="N\\-*[^P^-^|]\\-*[ST]\\-*[^P^-^|]";e["default"]=t["default"].ObjectController.extend({_selectedSequences:[],selectedSequences:"empty",_ranges:[[159,200]],_regexValue:l,regexValue:l,regexDefault:l,_regex:"",_threshold:1,threshold:1,markPositive:!0,selectedPositions:new t["default"].Set,regex:function(){var e=this.get("regexValue");if(0===e.length)return".^";try{new RegExp(e,"g"),this.set("_regex",e)}catch(t){}return this.get("_regex")}.property("regexValue"),refLen:t["default"].computed.alias("model.frequencies.refToLastAlnCoords.length"),alnLen:t["default"].computed.alias("model.frequencies.alnToRefCoords.length"),filterSequenceTypes:function(e,t){return e.filter(function(e){return e.get("type")===t})},observedSequences:function(){var e=this.get("model.sequences");return this.filterSequenceTypes(e,"Observed")}.property("model.sequences.@each"),mrca:function(){var e=this.get("model.sequences");return this.filterSequenceTypes(e,"MRCA")[0]}.property("model.sequences.@each"),toSlices:function(e,t){return t.map(function(t){return e.slice(t[0],t[1])}).join("|")},mrcaSlice:function(){var e=this.get("mrca"),t=this.get("alnRanges");return this.toSlices(e.sequence,t)}.property("mrca","alnRanges"),groupedSequences:function(){var e=this,t=e.get("selectedSequences");"empty"===t&&(t=this.get("observedSequences"));var l=this.get("model.copynumbers"),c=[],p=this.get("alnRanges"),h=this.get("mrcaSlice"),u=_.groupBy(t,function(e){return e.get("date")}),m=function(t){var a=e.toSlices(t.sequence,p);return{sequence:a,copyNumber:l[t.id],ids:[t.id]}};for(var v in u)if(u.hasOwnProperty(v)){var f=u[v].map(m);f=i(f),f.sort(function(e,t){return t.copyNumber-e.copyNumber}),c.push({date:new Date(v),sequences:f})}return c.sort(function(e,t){return e.date-t.date}),c.forEach(function(e){e.date=a.format_date(e.date)}),c=n(c),c=r(c,this.get("threshold")),c=d(c),c=s(c,this.get("regex")),c=o(c,h)}.property("alnRanges","mrcaSlice","model.copynumbers","selectedSequences.@each","regex","threshold"),ranges:function(e,t,a){arguments.length>1&&this.set("_ranges",t);var n=this.get("_ranges");return n.sort(function(e,t){return e[0]-t[0]}),n}.property("ranges"),alnRanges:function(){var e=this.get("ranges");a.checkRanges(e,this.get("refLen"));var t=this.get("model.frequencies.refToFirstAlnCoords"),n=this.get("model.frequencies.refToLastAlnCoords"),r=e.map(function(e){var r=a.transformIndex(e[0],t,!1),i=a.transformIndex(e[1],n,!0);return[r,i]});return a.checkRanges(r,this.get("alnLen")),r}.property("ranges","model.frequencies.refToFirstAlnCoords","model.frequencies.refToLastAlnCoords"),aaTrajectories:function(){var e=this.get("selectedSequences"),t=this.get("model.copynumbers");"empty"===e&&(e=this.get("observedSequences"));var a=this.get("selectedPositions").toArray().sort(function(e,t){return e-t});if(0===a.length)return[];for(var n={},r={},i=0;i<e.length;i++){var d=e[i],s=a.map(function(e){return d.sequence[e]}).join("");n.hasOwnProperty(s)||(n[s]={}),n[s].hasOwnProperty(d.date)||(n[s][d.date]=0),n[s][d.date]+=t[d.id],r.hasOwnProperty(d.date)||(r[d.date]=0),r[d.date]+=t[d.id]}var o=[];for(var l in n)if(n.hasOwnProperty(l)){var c=[];for(var p in r)if(r.hasOwnProperty(p)){var h=0;n[l].hasOwnProperty(p)&&(h=n[l][p]/r[p]),c.push({x:new Date(p),y:h})}o.push({name:l,values:c})}if(o.length>10){for(var u=[],m=0;m<o.length;m++){var v=o[m],f=_.max(v.values.map(function(e){return e.y}));u.push({name:v.name,max:f})}u.sort(function(e,t){return t.max-e.max});for(var g=_.partition(u.map(function(e){return e.name}),function(e,t){return 9>t}),C=g[0],b=_.partition(o,function(e){return _.includes(C,e.name)}),x=b[0],T=b[1],N=T[0].values,A=1;A<T.length;A++)for(var y=T[A].values,R=0;R<y.length;R++)N[R].y+=y[R].y;x.push({name:"other",values:N}),o=x}return o}.property("selectedPositions.[]","selectedSequences.@each"),actions:{doRegex:function(){this.set("regexValue",this.get("_regexValue"))},doThreshold:function(){var e=this.get("_threshold").trim();""===e&&(e=0),e=+e,e>=0&&100>=e&&(this.set("_threshold",e),this.set("threshold",e))},resetRegex:function(){this.set("_regexValue",this.get("regexDefault")),this.set("regexValue",this.get("regexDefault"))},finalizeSelection:function(){this.set("selectedSequences",this.get("_selectedSequences"))},updateAlnRange:function(e,t){a.checkRange(t,this.get("alnLen"));var n=(this.get("alnRanges"),this.get("model.frequencies.alnToRefCoords")),r=this.get("ranges"),i=r.slice(0);i[e]=[a.transformIndex(t[0],n,!1),a.transformIndex(t[1],n,!0)],i.sort(function(e,t){return e[0]-t[0]}),this.set("ranges",i)},setRanges:function(e){a.checkRanges(e,this.get("refLen")),this.set("ranges",e)},addRange:function(e){a.checkRange(e,this.get("refLen"));var t=this.get("ranges").slice(0);t.push(e),this.set("ranges",t)},rmRange:function(e){var t=this.get("ranges");this.set("ranges",t.filter(function(t,a){return a!==e}))}}})}),define("flea-app/controllers/session/trajectory",["exports","ember"],function(e,t){"use strict";function a(e,t,a){if(1===a.length)return n(e,t,a[0]);if(1===t.length)return r(e,t[0],a);throw"Must use either single region or single metric"}function n(e,t,a){for(var n=[],r=0;r<t.length;r++){for(var i=t[r],d={name:i},s=[],o=0;o<e.length;o++)if(i===e[o].Segment){var l={x:e[o].Date,y:e[o][a]};s.push(l)}s.sort(function(e,t){return e.x-t.x}),d.values=s,n.push(d)}return n}function r(e,t,a){for(var n=[],r=0;r<a.length;r++){for(var i=a[r],d={name:i},s=[],o=0;o<e.length;o++)if(t===e[o].Segment){var l={x:e[o].Date,y:e[o][i]};s.push(l)}s.sort(function(e,t){return e.x-t.x}),d.values=s,n.push(d)}return n}e["default"]=t["default"].ObjectController.extend({regions:["gp160","signal","c1","v1","v2","c2","v3","c3","v4","c4","v5","c5","fusion","gp41ecto","mper","gp41endo"],selectedRegions:["gp160"],evoMetrics:["ds_divergence","dn_divergence","total_divergence","ds_diversity","dn_diversity","total_diversity"],selectedEvoMetrics:["ds_divergence","dn_divergence","total_divergence","total_diversity"],phenoMetrics:["Length","PNGS","IsoelectricPoint"],selectedPhenoMetrics:["Length","PNGS"],multipleRegions:function(){var e=this.get("selectedEvoMetrics.length")>1||this.get("selectedPhenoMetrics.length")>1;return e?!1:!0}.property("selectedEvoMetrics.length","selectedPhenoMetrics.length"),multipleMetrics:function(){var e=this.get("selectedRegions.length")>1;return e?!1:!0}.property("selectedRegions.length"),evoData:function(){var e=this.get("model"),t=this.get("selectedRegions"),n=this.get("selectedEvoMetrics");return a(e,t,n)}.property("model","selectedRegions.@each","selectedEvoMetrics.@each"),_phenoData:function(e){var t=this.get("model"),n=this.get("selectedRegions"),i=this.get("selectedPhenoMetrics");return n.length>1?a(t,n,i):i.length>1?r(t,n[0],[i[e]]):r(t,n[0],i)},phenoData:function(){var e=this._phenoData(0);return e}.property("model","selectedRegions.@each","selectedPhenoMetrics.@each"),phenoData2:function(){var e=[];return this.get("selectedPhenoMetrics.length")>1&&(e=this._phenoData(1)),e}.property("model","selectedRegions.@each","selectedPhenoMetrics.@each")})}),define("flea-app/controllers/session/trees",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";e["default"]=t["default"].Controller.extend({_selectedGenomicRegion:"",_selectedTimePoint:"",_selectedDistanceMeasure:"",linkeToSelection:!0,showDates:!0,sortState:"ascending",spaceState:0,nestedTrees:function(){for(var e=this.get("model.trees"),t={},n=0;n<e.length;n++){var r=e[n];r.region in t||(t[r.region]={});var i=r.date;"Combined"!==i&&(i=a.format_date(r.date)),i in t[r.region]||(t[r.region][i]={}),r.distance in t[r.region][i]||(t[r.region][i][r.distance]=r.tree)}return t}.property("model.trees.@each"),genomicRegions:function(){var e=this.get("nestedTrees");return Object.keys(e)}.property("nestedTrees"),timePoints:function(){var e=this.get("nestedTrees"),t=this.get("selectedGenomicRegion"),a=Object.keys(e[t]),n=a.indexOf("Combined");return n>0&&a.splice(0,0,a.splice(n,1)[0]),a}.property("nestedTrees","selectedGenomicRegion"),distanceMeasures:function(){var e=this.get("nestedTrees"),t=this.get("selectedGenomicRegion"),a=this.get("selectedTimePoint");return Object.keys(e[t][a])}.property("nestedTrees","selectedGenomicRegion","selectedTimePoint"),handleSelection:function(e,t,a,n){return void 0===n?_.includes(e,this.get(t))||this.set(t,e[0]):_.includes(e,n)?this.set(t,n):this.set(t,e[0]),this.get(t)},selectedGenomicRegion:function(e,t){return this.handleSelection(this.get("genomicRegions"),"_selectedGenomicRegion",e,t)}.property("genomicRegions"),selectedTimePoint:function(e,t){return this.handleSelection(this.get("timePoints"),"_selectedTimePoint",e,t)}.property("timePoints"),selectedDistanceMeasure:function(e,t){return this.handleSelection(this.get("distanceMeasures"),"_selectedDistanceMeasure",e,t)}.property("distanceMeasures"),tree:function(){var e=this.get("selectedGenomicRegion"),t=this.get("selectedTimePoint"),a=this.get("selectedDistanceMeasure"),n=this.get("nestedTrees")[e][t][a];return n}.property("nestedTrees","selectedGenomicRegion","selectedTimePoints","selectedDistanceMeasure"),seqIdToDate:function(){var e=this.get("model.sequences");return e.reduce(function(e,t){return e[t.id]=t.date,e},{})}.property("model.sequences.@each"),actions:{setSortState:function(e){this.set("sortState",e)},setSpaceState:function(e){this.set("spaceState",e)}}})}),define("flea-app/helpers/amino-acid",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Handlebars.makeBoundHelper(function(e,a,n){var r=e.split("").map(t["default"].Handlebars.Utils.escapeExpression),i=0,d=r.map(function(e,t){var r="";i<a.length&&t===a[i][0]&&(r+="<span class = 'pngs'>"),e=e.toUpperCase();var d="";return"|"===e?d='"seperator"':(d="aa aa"+e,n&&n[t]&&(d+=" match","-"!==e&&(e=".")),d='"'+d+'"'),r+="<span class="+d+">"+e+"</span>",i<a.length&&t===a[i][1]&&(r+="</span>",i++),r});return new t["default"].Handlebars.SafeString(d.join(""))})}),define("flea-app/helpers/format-percent",["exports","ember"],function(e,t){"use strict";var a=d3.format(">5.2f");e["default"]=t["default"].Handlebars.makeBoundHelper(function(e){var n=t["default"].Handlebars.Utils.escapeExpression(e);return new t["default"].Handlebars.SafeString(a(n))})}),define("flea-app/initializers/app-version",["exports","flea-app/config/environment","ember"],function(e,t,a){"use strict";var n=a["default"].String.classify,r=!1;e["default"]={name:"App Version",initialize:function(e,i){if(!r){var d=n(i.toString());a["default"].libraries.register(d,t["default"].APP.version),r=!0}}}}),define("flea-app/initializers/export-application-global",["exports","ember","flea-app/config/environment"],function(e,t,a){"use strict";function n(e,n){var r=t["default"].String.classify(a["default"].modulePrefix);a["default"].exportApplicationGlobal&&!window[r]&&(window[r]=n)}e.initialize=n,e["default"]={name:"export-application-global",initialize:n}}),define("flea-app/initializers/inject-store",["exports","flea-app/models/store"],function(e,t){"use strict";e["default"]={name:"inject-store",initialize:function(e,a){a.register("store:main",t["default"]),a.inject("route","store","store:main"),a.inject("controller","store","store:main")}}}),define("flea-app/models/frequency-object",["exports","ember","flea-app/utils/utils"],function(e,t,a){"use strict";e["default"]=t["default"].Object.extend({data:[],alnToRefCoords:function(){var e=this.get("data"),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([a.zeroIndex(parseInt(n)),a.zeroIndex(parseInt(e[n].HXB2))]);return t.sort(function(e,t){return e[0]-t[0]}),t.map(function(e){return e[1]})}.property("data.@each"),refToFirstAlnCoords:function(){for(var e=this.get("alnToRefCoords"),t=e[e.length-1]+1,a=new Array(t),n=0,r=0;r<a.length;r++){for(;e[n]<r;)n+=1;a[r]=n}return a}.property("alnToRefCoords"),refToLastAlnCoords:function(){for(var e=this.get("alnToRefCoords"),t=e[e.length-1]+1,a=new Array(t),n=0,r=0;r<a.length;r++){for(;e[n]<=r&&e[n+1]<=r;)n+=1;a[r]=n}return a}.property("alnToRefCoords")})}),define("flea-app/models/store",["exports","ember"],function(e,t){"use strict";var a={};e["default"]=t["default"].Object.extend({find:function(e,t){var n=t+e;if(a[n])return a[n];var r=this.container.lookup("adapter:"+e);return r.find(t).then(function(e){return a[n]=e,e})}})}),define("flea-app/router",["exports","ember","flea-app/config/environment"],function(e,t,a){"use strict";var n=t["default"].Router.extend({location:a["default"].locationType,baseURL:a["default"].baseURL,rootURL:"/"});n.map(function(){this.route("session",{path:"/:session_id"},function(){this.route("trajectory",{path:"/trajectory"}),this.route("gene",{path:"/gene"}),this.route("sequences",{path:"/sequences"}),this.route("trees",{path:"/trees"}),this.route("neutralization",{path:"/neutralization"})})}),e["default"]=n}),define("flea-app/routes/application",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({setupController:function(e,t){this._super(e,t),e.set("baseURL",this.router.get("baseURL")),e.set("rootURL",this.router.get("rootURL"))}})}),define("flea-app/routes/session",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({model:function(e){return{session_id:e.session_id}}})}),define("flea-app/routes/session/gene",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({rates:this.store.find("rates",e),structure:this.store.find("structure",e),frequencies:this.store.find("frequencies",e),turnover:this.store.find("turnover",e)})}})}),define("flea-app/routes/session/index",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({redirect:function(){this.transitionTo("session.trajectory")}})}),define("flea-app/routes/session/neutralization",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({neutralization:this.store.find("neutralization",e),sequences:this.store.find("sequences",e),dates:this.store.find("dates",e)})}})}),define("flea-app/routes/session/sequences",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({sequences:this.store.find("sequences",e),frequencies:this.store.find("frequencies",e),rates:this.store.find("rates",e),copynumbers:this.store.find("copynumbers",e),predefinedRegions:this.store.find("predefined-regions",e)})}})}),define("flea-app/routes/session/trajectory",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return this.store.find("trajectory",e)}})}),define("flea-app/routes/session/trees",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({trees:this.store.find("trees",e),copynumbers:this.store.find("copynumbers",e),sequences:this.store.find("sequences",e)})}})}),define("flea-app/templates/application",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createComment("");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.content;n.detectNamespace(a);var d;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(d=this.build(n),this.hasRendered?this.cachedFragment=d:this.hasRendered=!0),this.cachedFragment&&(d=n.cloneNode(this.cachedFragment,!0))):d=this.build(n);var s=n.createMorphAt(d,0,0,a);return n.insertBoundary(d,null),n.insertBoundary(d,0),i(t,s,e,"outlet"),d}}}())}),define("flea-app/templates/components/alignment-overview",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("g");e.setAttribute(a,"class","labels"),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("g");e.setAttribute(a,"class","main");var n=e.createTextNode("\n   ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","track"),e.appendChild(a,n);var n=e.createTextNode("\n   ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","insertions"),e.appendChild(a,n);var n=e.createTextNode("\n   ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","selected"),e.appendChild(a,n);var n=e.createTextNode("\n   ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","positive"),e.appendChild(a,n);var n=e.createTextNode("\n   ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","brush"),e.appendChild(a,n);var n=e.createTextNode("\n   ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","ranges"),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("g");e.setAttribute(a,"class","axis"),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom;n.detectNamespace(a);var r;return t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(r=this.build(n),this.hasRendered?this.cachedFragment=r:this.hasRendered=!0),this.cachedFragment&&(r=n.cloneNode(this.cachedFragment,!0))):r=this.build(n),r}}}())}),define("flea-app/templates/components/color-table",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("      ");e.appendChild(t,a);var a=e.createElement("td"),n=e.createComment("");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.content;n.detectNamespace(a);var d;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(d=this.build(n),this.hasRendered?this.cachedFragment=d:this.hasRendered=!0),this.cachedFragment&&(d=n.cloneNode(this.cachedFragment,!0))):d=this.build(n);var s=n.createMorphAt(n.childAt(d,[1]),0,0);return i(t,s,e,"h"),d}}}(),t=function(){var e=function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("        ");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.content;n.detectNamespace(a);var d;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(d=this.build(n),this.hasRendered?this.cachedFragment=d:this.hasRendered=!0),this.cachedFragment&&(d=n.cloneNode(this.cachedFragment,!0))):d=this.build(n);var s=n.createMorphAt(d,1,1,a);return i(t,s,e,"elt.value"),d}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("      ");e.appendChild(t,a);var a=e.createElement("td"),n=e.createTextNode("\n");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("      ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(t,a,n){var r=a.dom,i=a.hooks,d=i.get,s=i.element,o=i.block;r.detectNamespace(n);var l;a.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(l=this.build(r),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=r.cloneNode(this.cachedFragment,!0))):l=this.build(r);var c=r.childAt(l,[1]),p=r.createMorphAt(c,1,1);return s(a,c,t,"bind-attr",[],{style:d(a,t,"elt.style")}),o(a,p,t,"bootstrap-popover",[],{title:"",dataContent:d(a,t,"elt.html")},e,null),l}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("tr"),n=e.createTextNode("\n");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("    ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(t,a,n){var r=a.dom,i=a.hooks,d=i.get,s=i.block;r.detectNamespace(n);var o;a.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(o=this.build(r),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=r.cloneNode(this.cachedFragment,!0))):o=this.build(r);var l=r.createMorphAt(r.childAt(o,[1]),1,1);return s(a,l,t,"each",[d(a,t,"row")],{keyword:"elt"},e,null),o}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("table");e.setAttribute(a,"class","table table-hover table-condensed");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("thead"),r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("tr"),i=e.createTextNode("\n");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("tbody"),r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(a,n,r){var i=n.dom,d=n.hooks,s=d.get,o=d.block;i.detectNamespace(r);var l;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(l=this.build(i),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=i.cloneNode(this.cachedFragment,!0))):l=this.build(i);var c=i.childAt(l,[0]),p=i.createMorphAt(i.childAt(c,[1,1]),1,1),h=i.createMorphAt(i.childAt(c,[3]),1,1);return o(n,p,a,"each",[s(n,a,"header")],{keyword:"h"},e,null),o(n,h,a,"each",[s(n,a,"data")],{keyword:"row"},t,null),l}}}())}),define("flea-app/templates/components/gene-plots",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("g");e.setAttribute(a,"class","inner");var n=e.createTextNode("\n");return e.appendChild(a,n),e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.element;n.detectNamespace(a);var d;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(d=this.build(n),this.hasRendered?this.cachedFragment=d:this.hasRendered=!0),this.cachedFragment&&(d=n.cloneNode(this.cachedFragment,!0))):d=this.build(n);var s=n.childAt(d,[0]);return i(t,s,e,"bind-attr",[],{transform:"innerGroupTransform",height:"height"}),d}}}())}),define("flea-app/templates/components/pv-wrapper",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-xs-1 flea-label");var r=e.createTextNode("\n    ");e.appendChild(n,r);
var r=e.createElement("label");e.setAttribute(r,"for","Near");var i=e.createTextNode("Near");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-xs-10 vcenter");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-xs-1 flea-value");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("output");e.setAttribute(r,"for","near"),e.setAttribute(r,"id","far");var i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-xs-1 flea-label");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label");e.setAttribute(r,"for","far");var i=e.createTextNode("Far");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-xs-10");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-xs-1 flea-value");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("output");e.setAttribute(r,"for","far"),e.setAttribute(r,"id","far");var i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline,s=r.content;n.detectNamespace(a);var o;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(o=this.build(n),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=n.cloneNode(this.cachedFragment,!0))):o=this.build(n);var l=n.childAt(o,[0]),c=n.childAt(o,[2]),p=n.createMorphAt(n.childAt(l,[3]),1,1),h=n.createMorphAt(n.childAt(l,[5,1]),0,0),u=n.createMorphAt(n.childAt(c,[3]),1,1),m=n.createMorphAt(n.childAt(c,[5,1]),0,0);return d(t,p,e,"input",[],{type:"range",id:"near",min:"0.1",value:i(t,e,"slabNear"),max:i(t,e,"slabFar"),step:"0.1"}),s(t,h,e,"slabNear"),d(t,u,e,"input",[],{type:"range",id:"far",min:i(t,e,"slabNear"),value:i(t,e,"slabFar"),max:400,step:"0.1"}),s(t,m,e,"slabFar"),o}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("span");e.setAttribute(n,"class","input-group-addon");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label"),i=e.createTextNode("Label coordinates");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("span");e.setAttribute(n,"class","input-group-addon");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label"),i=e.createTextNode("Fog");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("span");e.setAttribute(n,"class","input-group-addon");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label"),i=e.createTextNode("Spin");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("span");e.setAttribute(n,"class","input-group-addon");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label"),i=e.createTextNode("Slab mode");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n\n");e.appendChild(t,a);var a=e.createComment("");return e.appendChild(t,a),t},render:function(t,a,n){var r=a.dom,i=a.hooks,d=i.get,s=i.inline,o=i.block;r.detectNamespace(n);var l;a.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(l=this.build(r),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=r.cloneNode(this.cachedFragment,!0))):l=this.build(r);var c=r.childAt(l,[0]),p=r.createMorphAt(r.childAt(c,[1]),3,3),h=r.createMorphAt(r.childAt(c,[3]),3,3),u=r.createMorphAt(r.childAt(c,[5]),3,3),m=r.createMorphAt(r.childAt(c,[7]),3,3),v=r.createMorphAt(l,2,2,n);return r.insertBoundary(l,null),s(a,p,t,"input",[],{type:"checkbox",name:"shouldlabel",checked:d(a,t,"shouldLabel")}),s(a,h,t,"input",[],{type:"checkbox",name:"fog",checked:d(a,t,"fog")}),s(a,u,t,"input",[],{type:"checkbox",name:"spin",checked:d(a,t,"spin")}),s(a,m,t,"view",["bootstrap-multiselect"],{multiple:!1,content:d(a,t,"slabModes"),selection:d(a,t,"slabMode"),allowMultiple:!1,id:"slab_mode"}),o(a,v,t,"if",[d(a,t,"showSlabControls")],{},e,null),l}}}())}),define("flea-app/templates/components/range-selector",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline;n.detectNamespace(a);var s;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(s=this.build(n),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=n.cloneNode(this.cachedFragment,!0))):s=this.build(n);var o=n.createMorphAt(s,0,0,a);return n.insertBoundary(s,0),d(t,o,e,"input",[],{"class":"bar",type:"range",id:"rangeinput",value:i(t,e,"selectedIdx"),min:0,max:i(t,e,"maxIdx"),step:1}),s}}}())}),define("flea-app/templates/components/sequence-range-controls",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("li"),n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("a");e.setAttribute(n,"class","seq-predef");var r=e.createTextNode("\n        ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n    ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.element,s=r.content;n.detectNamespace(a);var o;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(o=this.build(n),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=n.cloneNode(this.cachedFragment,!0))):o=this.build(n);var l=n.childAt(o,[1,1]),c=n.createMorphAt(l,1,1);return d(t,l,e,"action",["setRange",i(t,e,"region.start"),i(t,e,"region.stop")],{}),s(t,c,e,"region.name"),o}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","input-group-btn");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("button");e.setAttribute(n,"type","button"),e.setAttribute(n,"class","btn btn-default dropdown-toggle"),e.setAttribute(n,"data-toggle","dropdown");var r=e.createTextNode("Predefined\n    ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","caret"),e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("ul");e.setAttribute(n,"class","dropdown-menu");var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(t,a,n){var r=a.dom,i=a.hooks,d=i.get,s=i.block;r.detectNamespace(n);var o;a.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(o=this.build(r),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=r.cloneNode(this.cachedFragment,!0))):o=this.build(r);var l=r.createMorphAt(r.childAt(o,[0,3]),1,1);return s(a,l,t,"each",[d(a,t,"predefinedRegions")],{keyword:"region"},e,null),o}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","input-group-btn");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("button");e.setAttribute(n,"type","button"),e.setAttribute(n,"class","btn btn-default btn-sm"),e.setAttribute(n,"title","Jump left");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("i");e.setAttribute(r,"class","fa fa-fast-backward"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group-btn");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("button");e.setAttribute(n,"type","button"),e.setAttribute(n,"class","btn btn-default btn-sm"),e.setAttribute(n,"title","Move left");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("i");e.setAttribute(r,"class","fa fa-backward"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("span");e.setAttribute(a,"class","input-group-addon");var n=e.createTextNode("Range");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group-btn");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("button");e.setAttribute(n,"type","button"),e.setAttribute(n,"class","btn btn-default btn-sm"),e.setAttribute(n,"title","Move right");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("i");e.setAttribute(r,"class","fa fa-forward"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group-btn");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("button");e.setAttribute(n,"type","button"),e.setAttribute(n,"class","btn btn-default btn-sm"),e.setAttribute(n,"title","Jump right");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("i");e.setAttribute(r,"class","fa fa-fast-forward"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createComment("");return e.appendChild(t,a),t},render:function(t,a,n){var r=a.dom,i=a.hooks,d=i.element,s=i.get,o=i.inline,l=i.block;r.detectNamespace(n);var c;a.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(c=this.build(r),this.hasRendered?this.cachedFragment=c:this.hasRendered=!0),this.cachedFragment&&(c=r.cloneNode(this.cachedFragment,!0))):c=this.build(r);var p=r.childAt(c,[0,1]),h=r.childAt(c,[2,1]),u=r.childAt(c,[8,1]),m=r.childAt(c,[10,1]),v=r.createMorphAt(c,6,6,n),f=r.createMorphAt(c,12,12,n);return r.insertBoundary(c,null),d(a,p,t,"action",["moveRanges",-5],{}),d(a,h,t,"action",["moveRanges",-1],{}),o(a,v,t,"input",[],{type:"string","class":"form-control",value:s(a,t,"rangeText"),placeholder:"reference coordinate range (e.g. 160-200)",autofocus:"autofocus","focus-out":"display","insert-newline":"display"}),d(a,u,t,"action",["moveRanges",1],{}),d(a,m,t,"action",["moveRanges",5],{}),l(a,f,t,"if",[s(a,t,"predefinedRegions")],{},e,null),c}}}())}),define("flea-app/templates/components/sequence-viewer",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("span"),n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("\n    ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.element,s=r.content;n.detectNamespace(a);var o;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(o=this.build(n),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=n.cloneNode(this.cachedFragment,!0))):o=this.build(n);var l=n.childAt(o,[1]),c=n.createUnsafeMorphAt(l,1,1);return d(t,l,e,"bind-attr",[],{"class":i(t,e,"elt._class")}),d(t,l,e,"bind-attr",[],{"data-coord":i(t,e,"elt.dataCoord")}),d(t,l,e,"action",["togglePosition",i(t,e,"elt.dataCoord")],{}),s(t,c,e,"elt.html"),o}}}(),t=function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("          ");e.appendChild(t,a);var a=e.createElement("li"),n=e.createComment("");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline;n.detectNamespace(a);var s;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(s=this.build(n),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=n.cloneNode(this.cachedFragment,!0))):s=this.build(n);var o=n.createMorphAt(n.childAt(s,[1]),0,0);return d(t,o,e,"amino-acid",[i(t,e,"seq.sequence"),i(t,e,"seq.highlights"),i(t,e,"seq.mask")],{}),s}}}(),t=function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("            ");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.content;n.detectNamespace(a);var d;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(d=this.build(n),this.hasRendered?this.cachedFragment=d:this.hasRendered=!0),this.cachedFragment&&(d=n.cloneNode(this.cachedFragment,!0))):d=this.build(n);var s=n.createMorphAt(d,1,1,a);return i(t,s,e,"seq.copyNumber"),d}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("          ");e.appendChild(t,a);var a=e.createElement("li"),n=e.createTextNode("\n");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("          ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(t,a,n){var r=a.dom,i=a.hooks,d=i.get,s=i.block;r.detectNamespace(n);var o;a.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(o=this.build(r),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=r.cloneNode(this.cachedFragment,!0))):o=this.build(r);var l=r.createMorphAt(r.childAt(o,[1]),1,1);return s(a,l,t,"bootstrap-popover",[],{title:"",dataContent:d(a,t,"seq.html"),placement:"right"},e,null),o}}}(),a=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("          ");e.appendChild(t,a);var a=e.createElement("li"),n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("%");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline;n.detectNamespace(a);var s;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(s=this.build(n),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=n.cloneNode(this.cachedFragment,!0))):s=this.build(n);var o=n.createMorphAt(n.childAt(s,[1]),0,0);return d(t,o,e,"format-percent",[i(t,e,"seq.percent")],{}),s}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("    ");e.appendChild(t,a);var a=e.createElement("tr"),n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("td");e.setAttribute(n,"class","seq-cell");var r=e.createComment("");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("td");e.setAttribute(n,"class","seq-cell");var r=e.createTextNode("\n        ");e.appendChild(n,r);var r=e.createElement("ul");e.setAttribute(r,"class","list-unstyled");var i=e.createTextNode("\n");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("        ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("td");e.setAttribute(n,"class","seq-cell");var r=e.createTextNode("\n        ");e.appendChild(n,r);var r=e.createElement("ul");e.setAttribute(r,"class","list-unstyled");var i=e.createTextNode("\n");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("        ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n      ");e.appendChild(a,n);var n=e.createElement("td");e.setAttribute(n,"class","seq-cell");var r=e.createTextNode("\n        ");e.appendChild(n,r);var r=e.createElement("ul");e.setAttribute(r,"class","list-unstyled");var i=e.createTextNode("\n");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("        ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n    ");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(n,r,i){var d=r.dom,s=r.hooks,o=s.content,l=s.get,c=s.block;d.detectNamespace(i);var p;r.useFragmentCache&&d.canClone?(null===this.cachedFragment&&(p=this.build(d),this.hasRendered?this.cachedFragment=p:this.hasRendered=!0),this.cachedFragment&&(p=d.cloneNode(this.cachedFragment,!0))):p=this.build(d);var h=d.childAt(p,[1]),u=d.createMorphAt(d.childAt(h,[1]),0,0),m=d.createMorphAt(d.childAt(h,[3,1]),1,1),v=d.createMorphAt(d.childAt(h,[5,1]),1,1),f=d.createMorphAt(d.childAt(h,[7,1]),1,1);return o(r,u,n,"date"),c(r,m,n,"each",[l(r,n,"sequences")],{keyword:"seq"},e,null),c(r,v,n,"each",[l(r,n,"sequences")],{keyword:"seq"},t,null),c(r,f,n,"each",[l(r,n,"sequences")],{keyword:"seq"},a,null),p}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("table");e.setAttribute(a,"class","table table-hover table-condensed nostretch sequence-viewer"),e.setAttribute(a,"id","sequence-viewer");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("thead"),r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell");var i=e.createTextNode("ref. coord.");e.appendChild(r,i);var i=e.createElement("br");e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("div"),d=e.createTextNode("\n      ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"title","Select positive sites"),e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm");var s=e.createElement("i");e.setAttribute(s,"class","fa fa-plus"),e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"title","Clear sites"),e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm");var s=e.createElement("i");e.setAttribute(s,"class","fa fa-remove"),e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell ref-coords");var i=e.createTextNode("\n");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("tbody"),r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("tr"),i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("td");e.setAttribute(i,"class","seq-cell");var d=e.createTextNode("MRCA");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("td");e.setAttribute(i,"class","seq-cell");var d=e.createElement("span");e.setAttribute(d,"class","mrca");var s=e.createComment("");e.appendChild(d,s),e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("td");e.setAttribute(i,"class","seq-cell"),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("td");e.setAttribute(i,"class","seq-cell"),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(a,n,r){var i=n.dom,d=n.hooks,s=d.element,o=d.get,l=d.block,c=d.inline;i.detectNamespace(r);var p;n.useFragmentCache&&i.canClone?(null===this.cachedFragment&&(p=this.build(i),this.hasRendered?this.cachedFragment=p:this.hasRendered=!0),this.cachedFragment&&(p=i.cloneNode(this.cachedFragment,!0))):p=this.build(i);var h=i.childAt(p,[0]),u=i.childAt(h,[1]),m=i.childAt(u,[1,3]),v=i.childAt(m,[1]),f=i.childAt(m,[3]),g=i.childAt(h,[3]),C=i.createMorphAt(i.childAt(u,[3]),1,1),b=i.createMorphAt(i.childAt(g,[1,3,0]),0,0),x=i.createMorphAt(g,3,3);return s(n,v,a,"action",["selectPositiveClicked"],{}),s(n,f,a,"action",["clearPositions"],{}),l(n,C,a,"each",[o(n,a,"refHTML")],{keyword:"elt"},e,null),c(n,b,a,"amino-acid",[o(n,a,"mrca")],{}),l(n,x,a,"each",[o(n,a,"groupedSequences")],{},t,null),p}}}())}),define("flea-app/templates/components/timeseries-plot",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("  ");e.appendChild(t,a);var a=e.createComment("");e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline;n.detectNamespace(a);var s;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(s=this.build(n),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=n.cloneNode(this.cachedFragment,!0))):s=this.build(n);var o=n.createMorphAt(s,1,1,a);return d(t,o,e,"graph-axis",[],{"class":"y axis",transform:i(t,e,"yAxisTransform"),orient:"right",scale:i(t,e,"yScale2"),tickFormat:i(t,e,"yAxisFormat")}),s}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("g");e.setAttribute(a,"class","inner");var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("\n\n");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","lines"),e.appendChild(a,n);var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","lines2"),e.appendChild(a,n);var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createElement("g");e.setAttribute(n,"class","legend"),e.appendChild(a,n);var n=e.createTextNode("\n\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(t,a,n){var r=a.dom,i=a.hooks,d=i.element,s=i.get,o=i.inline,l=i.block;r.detectNamespace(n);var c;a.useFragmentCache&&r.canClone?(null===this.cachedFragment&&(c=this.build(r),this.hasRendered?this.cachedFragment=c:this.hasRendered=!0),this.cachedFragment&&(c=r.cloneNode(this.cachedFragment,!0))):c=this.build(r);var p=r.childAt(c,[0]),h=r.createMorphAt(p,1,1),u=r.createMorphAt(p,3,3),m=r.createMorphAt(p,5,5);return d(a,p,t,"bind-attr",[],{transform:"innerGroupTransform"}),o(a,h,t,"graph-axis",[],{"class":"x axis",transform:s(a,t,"xAxisTransform"),scale:s(a,t,"xScale"),tickFormat:s(a,t,"xAxisFormat"),tickValues:s(a,t,"xTickValues"),tickSize:12,tickPadding:3,rotate:45}),o(a,u,t,"graph-axis",[],{"class":"y axis",orient:"left",scale:s(a,t,"yScale"),tickFormat:s(a,t,"yAxisFormat")}),l(a,m,t,"if",[s(a,t,"data2")],{},e,null),c}}}())}),define("flea-app/templates/session",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Evolutionary trajectory");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom;n.detectNamespace(a);var r;return t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(r=this.build(n),this.hasRendered?this.cachedFragment=r:this.hasRendered=!0),this.cachedFragment&&(r=n.cloneNode(this.cachedFragment,!0))):r=this.build(n),r}}}(),t=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Gene-wide information");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom;n.detectNamespace(a);var r;return t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(r=this.build(n),this.hasRendered?this.cachedFragment=r:this.hasRendered=!0),this.cachedFragment&&(r=n.cloneNode(this.cachedFragment,!0))):r=this.build(n),r}}}(),a=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Amino-acid sequences");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom;n.detectNamespace(a);var r;return t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(r=this.build(n),this.hasRendered?this.cachedFragment=r:this.hasRendered=!0),this.cachedFragment&&(r=n.cloneNode(this.cachedFragment,!0))):r=this.build(n),r}}}(),n=function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createTextNode("Trees");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom;n.detectNamespace(a);var r;return t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(r=this.build(n),this.hasRendered?this.cachedFragment=r:this.hasRendered=!0),this.cachedFragment&&(r=n.cloneNode(this.cachedFragment,!0))):r=this.build(n),r}}}();return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","container"),e.setAttribute(a,"id","allofit");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("ul");e.setAttribute(n,"class","nav nav-tabs");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("li"),i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("li"),i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("li"),i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("li"),i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n\n");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("\n\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(r,i,d){var s=i.dom,o=i.hooks,l=o.get,c=o.block,p=o.content;s.detectNamespace(d);var h;i.useFragmentCache&&s.canClone?(null===this.cachedFragment&&(h=this.build(s),this.hasRendered?this.cachedFragment=h:this.hasRendered=!0),this.cachedFragment&&(h=s.cloneNode(this.cachedFragment,!0))):h=this.build(s);var u=s.childAt(h,[0]),m=s.childAt(u,[1]),v=s.createMorphAt(s.childAt(m,[1]),0,0),f=s.createMorphAt(s.childAt(m,[3]),0,0),g=s.createMorphAt(s.childAt(m,[5]),0,0),C=s.createMorphAt(s.childAt(m,[7]),0,0),b=s.createMorphAt(u,3,3);return c(i,v,r,"link-to",["session.trajectory",l(i,r,"model.session_id")],{"data-toggle":"tab"},e,null),c(i,f,r,"link-to",["session.gene",l(i,r,"model.session_id")],{"data-toggle":"tab"},t,null),c(i,g,r,"link-to",["session.sequences",l(i,r,"model.session_id")],{
"data-toggle":"tab"},a,null),c(i,C,r,"link-to",["session.trees",l(i,r,"model.session_id")],{"data-toggle":"tab"},n,null),p(i,b,r,"outlet"),h}}}())}),define("flea-app/templates/session/error",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","error-pane");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","error-title");var r=e.createTextNode("\n    Something went wrong.\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","error-message");var r=e.createTextNode("\n    This message will be more informative in the future. Maybe some data is missing?\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom;n.detectNamespace(a);var r;return t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(r=this.build(n),this.hasRendered?this.cachedFragment=r:this.hasRendered=!0),this.cachedFragment&&(r=n.cloneNode(this.cachedFragment,!0))):r=this.build(n),r}}}())}),define("flea-app/templates/session/gene",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","pv-viewer");var n=e.createTextNode("\n");e.appendChild(a,n);var n=e.createComment("");e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","form-horizontal control-group");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-1");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Toggle playback");var i=e.createTextNode("\n    ");e.appendChild(r,i);var i=e.createElement("i");e.appendChild(r,i);var i=e.createTextNode("\n  ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-9");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-2 flea-value");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("output"),i=e.createComment("");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","input-group input-group-sm");var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("label");e.setAttribute(d,"for","evo_regions");var s=e.createTextNode("Metrics(s) to plot");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createComment("");e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("label"),s=e.createTextNode("Mark positively selected sites");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createComment("");e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-sm-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline,s=r.element,o=r.content;n.detectNamespace(a);var l;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(l=this.build(n),this.hasRendered?this.cachedFragment=l:this.hasRendered=!0),this.cachedFragment&&(l=n.cloneNode(this.cachedFragment,!0))):l=this.build(n);var c=n.childAt(l,[2]),p=n.childAt(c,[1,1]),h=n.childAt(p,[1]),u=n.childAt(l,[4,1,1]),m=n.createMorphAt(n.childAt(l,[0]),1,1),v=n.createMorphAt(n.childAt(c,[3]),1,1),f=n.createMorphAt(n.childAt(c,[5,1]),0,0),g=n.createMorphAt(n.childAt(u,[1]),3,3),C=n.createMorphAt(n.childAt(u,[3]),3,3),b=n.createMorphAt(n.childAt(l,[6,1]),1,1);return d(t,m,e,"pv-wrapper",[],{structure:i(t,e,"model.structure"),data:i(t,e,"structureData")}),s(t,p,e,"action",["togglePlayback"],{}),s(t,h,e,"bind-attr",[],{"class":"buttonClass"}),d(t,v,e,"range-selector",[],{values:i(t,e,"timepoints"),names:i(t,e,"names"),selectedIdx:i(t,e,"selectedTimepointIdx")}),o(t,f,e,"selectedName"),d(t,g,e,"view",["bootstrap-multiselect"],{multiple:!1,content:i(t,e,"metrics"),selection:i(t,e,"selectedMetric"),allowMultiple:!1,id:"gene_metrics"}),d(t,C,e,"input",[],{type:"checkbox",name:"markPositive",checked:i(t,e,"markPositive")}),d(t,b,e,"gene-plots",[],{width:1140,names:i(t,e,"names"),data1:i(t,e,"data1"),data2:i(t,e,"data2"),positions:i(t,e,"positions"),labels:i(t,e,"labels"),url:i(t,e,"currentPath"),addCombined:i(t,e,"addCombined")}),l}}}())}),define("flea-app/templates/session/loading",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","loading-pane");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","loading-message");var r=e.createTextNode("\n    Fetching data from server\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","spinner");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","rect1"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","rect2"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","rect3"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","rect4"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","rect5"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom;n.detectNamespace(a);var r;return t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(r=this.build(n),this.hasRendered?this.cachedFragment=r:this.hasRendered=!0),this.cachedFragment&&(r=n.cloneNode(this.cachedFragment,!0))):r=this.build(n),r}}}())}),define("flea-app/templates/session/neutralization",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","row"),e.setAttribute(a,"id","neutralization");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline;n.detectNamespace(a);var s;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(s=this.build(n),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=n.cloneNode(this.cachedFragment,!0))):s=this.build(n);var o=n.createMorphAt(n.childAt(s,[0,1]),1,1);return d(t,o,e,"color-table",[],{header:i(t,e,"headerNames"),data:i(t,e,"tableData")}),s}}}())}),define("flea-app/templates/session/sequences",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","input-group input-group-sm");var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("div");e.setAttribute(i,"class","input-group-btn");var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm"),e.setAttribute(d,"title","Reset regexp");var s=e.createTextNode("\n          ");e.appendChild(d,s);var s=e.createElement("i");e.setAttribute(s,"class","fa fa-undo"),e.appendChild(d,s);var s=e.createTextNode("\n        ");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("Threshold %");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("\n        Mark selected sites\n        ");e.appendChild(i,d);var d=e.createComment("");e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("br");e.appendChild(t,a);var a=e.createTextNode("\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline,s=r.element;n.detectNamespace(a);var o;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(o=this.build(n),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=n.cloneNode(this.cachedFragment,!0))):o=this.build(n);var l=n.childAt(o,[0,1,1]),c=n.childAt(l,[5,1]),p=n.createMorphAt(l,1,1),h=n.createMorphAt(l,3,3),u=n.createMorphAt(l,9,9),m=n.createMorphAt(n.childAt(l,[11]),1,1),v=n.createMorphAt(n.childAt(o,[4,1]),1,1),f=n.createMorphAt(n.childAt(o,[6,1]),1,1),g=n.createMorphAt(n.childAt(o,[8,1]),1,1);return d(t,p,e,"sequence-range-controls",[],{ranges:i(t,e,"ranges"),seqLen:i(t,e,"refLen"),predefinedRegions:i(t,e,"model.predefinedRegions")}),d(t,h,e,"input",[],{type:"text","class":"form-control",value:i(t,e,"_regexValue"),placeholder:"Pattern to highlight",autofocus:"autofocus","focus-out":"doRegex","insert-newline":"doRegex"}),s(t,c,e,"action",["resetRegex"],{}),d(t,u,e,"input",[],{type:"text","class":"form-control",value:i(t,e,"_threshold"),placeholder:"%",autofocus:"autofocus","focus-out":"doThreshold","insert-newline":"doThreshold",size:"1"}),d(t,m,e,"input",[],{type:"checkbox",name:"markPositive",checked:i(t,e,"markPositive")}),d(t,v,e,"timeseries-plot",[],{width:800,height:200,data:i(t,e,"aaTrajectories"),legendRight:!0,ymin:0,interpolation:"monotone"}),d(t,f,e,"alignment-overview",[],{alnRanges:i(t,e,"alnRanges"),alnLen:i(t,e,"alnLen"),markPositive:i(t,e,"markPositive"),positiveSelection:i(t,e,"model.rates.positiveSelection"),selectedPositions:i(t,e,"selectedPositions"),predefinedRegions:i(t,e,"model.predefinedRegions"),alnToRefCoords:i(t,e,"model.frequencies.alnToRefCoords"),refToAlnCoords:i(t,e,"model.frequencies.refToFirstAlnCoords"),updateRange:"updateAlnRange",setRanges:"setRanges",addRange:"addRange",rmRange:"rmRange"}),d(t,g,e,"sequence-viewer",[],{groupedSequences:i(t,e,"groupedSequences"),alnRanges:i(t,e,"alnRanges"),mrca:i(t,e,"mrcaSlice"),selectedPositions:i(t,e,"selectedPositions"),markPositive:i(t,e,"markPositive"),alnToRef:i(t,e,"model.frequencies.alnToRefCoords"),positiveSelection:i(t,e,"model.rates.positiveSelection"),regex:i(t,e,"regex"),selectDefault:!0}),o}}}())}),define("flea-app/templates/session/trajectory",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","form-inline");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","form-group");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label");e.setAttribute(r,"for","evo_regions");var i=e.createTextNode("Region(s) to plot");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","form-group");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","form-group");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label");e.setAttribute(r,"for","evo_metrics");var i=e.createTextNode("Evolutionary metrics");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","form-group");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","form-inline");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","form-group");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("label");e.setAttribute(r,"for","_pheno_metrics");var i=e.createTextNode("Phenotype metrics");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","form-group");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline;n.detectNamespace(a);var s;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(s=this.build(n),this.hasRendered?this.cachedFragment=s:this.hasRendered=!0),this.cachedFragment&&(s=n.cloneNode(this.cachedFragment,!0))):s=this.build(n);var o=n.childAt(s,[0]),l=n.createMorphAt(n.childAt(o,[3]),1,1),c=n.createMorphAt(n.childAt(o,[7]),1,1),p=n.createMorphAt(n.childAt(s,[2,1]),1,1),h=n.createMorphAt(n.childAt(s,[4,3]),1,1),u=n.createMorphAt(n.childAt(s,[6,1]),1,1);return d(t,l,e,"view",["bootstrap-multiselect"],{multiple:!0,content:i(t,e,"regions"),selection:i(t,e,"selectedRegions"),allowMultiple:i(t,e,"multipleRegions"),id:"evo_regions"}),d(t,c,e,"view",["bootstrap-multiselect"],{multiple:!0,content:i(t,e,"evoMetrics"),selection:i(t,e,"selectedEvoMetrics"),allowMultiple:i(t,e,"multipleMetrics"),id:"evo_metrics"}),d(t,p,e,"timeseries-plot",[],{width:900,height:350,data:i(t,e,"evoData"),ymin:0}),d(t,h,e,"view",["bootstrap-multiselect"],{multiple:!0,content:i(t,e,"phenoMetrics"),selection:i(t,e,"selectedPhenoMetrics"),allowMultiple:i(t,e,"multipleMetrics"),maxSelected:2,id:"_pheno_metrics"}),d(t,u,e,"timeseries-plot",[],{width:900,height:350,data:i(t,e,"phenoData"),data2:i(t,e,"phenoData2")}),s}}}())}),define("flea-app/templates/session/trees",["exports"],function(e){"use strict";e["default"]=Ember.HTMLBars.template(function(){return{isHTMLBars:!0,revision:"Ember@1.11.1",blockParams:0,cachedFragment:null,hasRendered:!1,build:function(e){var t=e.createDocumentFragment(),a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","input-group input-group-sm");var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("\n        Genomic region\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("\n        Time point\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("\n        Distance measure\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createComment("");e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon"),e.setAttribute(i,"title","Update the tree when the region selected in the sequence panel changes");var d=e.createTextNode("\n        Link to selected region\n        ");e.appendChild(i,d);var d=e.createComment("");e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("span");e.setAttribute(i,"class","input-group-addon");var d=e.createTextNode("\n        Show dates\n        ");e.appendChild(i,d);var d=e.createComment("");e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","btn-toolbar"),e.setAttribute(r,"role","toolbar");var i=e.createTextNode("\n      ");e.appendChild(r,i);var i=e.createElement("div");e.setAttribute(i,"class","btn-group");var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm"),e.setAttribute(d,"id","expand_spacing"),e.setAttribute(d,"title","Expand spacing");var s=e.createTextNode("\n          ");e.appendChild(d,s);var s=e.createElement("i");e.setAttribute(s,"class","fa fa-expand"),e.appendChild(d,s);var s=e.createTextNode("\n        ");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm"),e.setAttribute(d,"id","compress_spacing"),e.setAttribute(d,"title","Compress spacing");var s=e.createTextNode("\n          ");e.appendChild(d,s);var s=e.createElement("i");e.setAttribute(s,"class","fa fa-compress"),e.appendChild(d,s);var s=e.createTextNode("\n        ");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm"),e.setAttribute(d,"id","sort_ascending"),e.setAttribute(d,"title","Sort deepest clades to the bottom");var s=e.createTextNode("\n          ");e.appendChild(d,s);var s=e.createElement("i");e.setAttribute(s,"class","fa fa-sort-amount-asc"),e.appendChild(d,s);var s=e.createTextNode("\n        ");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm"),e.setAttribute(d,"id","sort_descending"),e.setAttribute(d,"title","Sort deepest clades to the top");var s=e.createTextNode("\n          ");e.appendChild(d,s);var s=e.createElement("i");e.setAttribute(s,"class","fa fa-sort-amount-desc"),e.appendChild(d,s);var s=e.createTextNode("\n        ");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n        ");e.appendChild(i,d);var d=e.createElement("button");e.setAttribute(d,"type","button"),e.setAttribute(d,"class","btn btn-default btn-sm"),e.setAttribute(d,"id","sort_original"),e.setAttribute(d,"title","Restore original order");var s=e.createTextNode("\n          ");e.appendChild(d,s);var s=e.createElement("i");e.setAttribute(s,"class","fa fa-sort"),e.appendChild(d,s);var s=e.createTextNode("\n        ");e.appendChild(d,s),e.appendChild(i,d);var d=e.createTextNode("\n      ");e.appendChild(i,d),e.appendChild(r,i);var i=e.createTextNode("\n    ");e.appendChild(r,i),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n\n");e.appendChild(t,a);var a=e.createElement("div");e.setAttribute(a,"class","row");var n=e.createTextNode("\n  ");e.appendChild(a,n);var n=e.createElement("div");e.setAttribute(n,"class","col-md-12"),e.setAttribute(n,"id","_tree_enclosure");var r=e.createTextNode("\n    ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r),e.appendChild(a,n);var n=e.createTextNode("\n");e.appendChild(a,n),e.appendChild(t,a);var a=e.createTextNode("\n");return e.appendChild(t,a),t},render:function(e,t,a){var n=t.dom,r=t.hooks,i=r.get,d=r.inline,s=r.element;n.detectNamespace(a);var o;t.useFragmentCache&&n.canClone?(null===this.cachedFragment&&(o=this.build(n),this.hasRendered?this.cachedFragment=o:this.hasRendered=!0),this.cachedFragment&&(o=n.cloneNode(this.cachedFragment,!0))):o=this.build(n);var l=n.childAt(o,[0,1,1]),c=n.childAt(o,[2,1,1,1]),p=n.childAt(c,[1]),h=n.childAt(c,[3]),u=n.childAt(c,[5]),m=n.childAt(c,[7]),v=n.childAt(c,[9]),f=n.createMorphAt(l,3,3),g=n.createMorphAt(l,7,7),C=n.createMorphAt(l,11,11),b=n.createMorphAt(n.childAt(l,[13]),1,1),x=n.createMorphAt(n.childAt(l,[15]),1,1),T=n.createMorphAt(n.childAt(o,[4,1]),1,1);return d(t,f,e,"view",["select"],{"class":"form-control",content:i(t,e,"genomicRegions"),value:i(t,e,"selectedGenomicRegion")}),d(t,g,e,"view",["select"],{"class":"form-control",content:i(t,e,"timePoints"),value:i(t,e,"selectedTimePoint")}),d(t,C,e,"view",["select"],{"class":"form-control",content:i(t,e,"distanceMeasures"),value:i(t,e,"selectedDistanceMeasure")}),d(t,b,e,"input",[],{type:"checkbox",checked:i(t,e,"linkeToSelection")}),d(t,x,e,"input",[],{type:"checkbox",checked:i(t,e,"showDates")}),s(t,p,e,"action",["setSpaceState","expand"],{}),s(t,h,e,"action",["setSpaceState","compress"],{}),s(t,u,e,"action",["setSortState","ascending"],{}),s(t,m,e,"action",["setSortState","descending"],{}),s(t,v,e,"action",["setSortState","original"],{}),d(t,T,e,"phylotree-widget",[],{tree:i(t,e,"tree"),seq_ids_to_dates:i(t,e,"seqIdToDate"),copynumbers:i(t,e,"model.copynumbers"),sortState:i(t,e,"sortState"),spaceState:i(t,e,"spaceState"),showDates:i(t,e,"showDates"),do_copy_number:!0}),o}}}())}),define("flea-app/utils/utils",["exports"],function(e){"use strict";var t=function(e){return Object.prototype.toString.call(e).slice(8,-1)},a=function(e){return"Object"===t(e)},n=function(e){return"String"===t(e)},r=d3.time.format("%Y%m%d").parse,i=d3.time.format("%B %Y"),d=function(e,t){return s(e.map(function(e){return[e]}),t)},s=function(e,t){if(0===e.length)return"<table></table>";var a='<table class="table-striped table table-hover">';if(t){a+="<thead>",a+="<trow>";for(var n=0;n<t.length;n++)a+="<th>",a+=t[n],a+="</th>";a+="</trow>",a+="</thead>"}a+="<tbody>";for(var r=0;r<e.length;r++){a+="<tr>";for(var i=0;i<e[r].length;i++)a+="<td>",a+=e[r][i],a+="</td>";a+="</tr>"}return a+="</tbody>",a+="</table>"},o=function(e,t){for(var a,n=[],r=new RegExp(e,"g");null!==(a=r.exec(t));)n.push([a.index,a.index+a[0].length-1]);return n},l=function(e,t){var a=0;t||(t=function(e){return e});for(var n=0;n<e.length;n++)a+=t(e[n]);return a},c=function(e,t,a){var n;return a&&(e-=1),n=e>=t.length?t[t.length-1]:t[e],a&&(n+=1),n},p=function(e,t){var a=e[0],n=e[1];if(0>a)throw"invalid start position";if(n>t)throw"invalid stop position";if(a>=n)throw"invalid range"},h=function(e,t){for(var a=0;a<e.length;a++)p(e[a],t)},u=function(e){if(0>e)throw"invalid index";return e+1},m=function(e){if(1>e)throw"invalid index";return e-1};e.isDate=a,e.isString=n,e.parse_date=r,e.format_date=i,e.htmlTable1D=d,e.htmlTable=s,e.regexRanges=o,e.sumArray=l,e.transformIndex=c,e.checkRange=p,e.checkRanges=h,e.oneIndex=u,e.zeroIndex=m}),define("flea-app/views/bootstrap-multiselect",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].Select.extend({allowMultiple:!0,maxSelected:-1,didInsertElement:function(){this.$().multiselect(),this.updateDisabled(),this.updateMultiple()},updateDisabled:function(){var e=this.get("maxSelected");if(e>0){var t=this.get("selection.length");if(t>=e){var a=this.$("option").filter(function(){return!$(this).is(":selected")});a.each(function(){var e=$('input[value="'+$(this).val()+'"]');e.prop("disabled",!0),e.parent("li").addClass("disabled")})}else this.$("option").each(function(){var e=$('input[value="'+$(this).val()+'"]');e.prop("disabled",!1),e.parent("li").removeClass("disabled")})}}.observes("selection.length","maxSelected"),updateMultiple:function(){this.get("allowMultiple")?this.$().attr("multiple","multiple"):this.$().removeAttr("multiple"),this.$().multiselect("rebuild")}.observes("allowMultiple")})}),define("flea-app/config/environment",["ember"],function(e){var t="flea-app";try{var a=t+"/config/environment",n=e["default"].$('meta[name="'+a+'"]').attr("content"),r=JSON.parse(unescape(n));return{"default":r}}catch(i){throw new Error('Could not read config from meta tag with name "'+a+'".')}}),runningTests?require("flea-app/tests/test-helper"):require("flea-app/app")["default"].create({name:"flea-app",version:"0.0.0.020c6f2c"});