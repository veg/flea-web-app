"use strict";define("flea-app/adapters/coordinates",["exports","ember","flea-app/config/environment","flea-app/models/coordinates-object"],function(e,t,n,r){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/coordinates";return this.get("ajax").request(t).then(function(e){return r["default"].create({data:e.coordinates})})}})}),define("flea-app/adapters/copynumbers",["exports","ember","flea-app/config/environment"],function(e,t,n){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/copynumbers";return this.get("ajax").request(t).then(function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=parseInt(e[t]));return e})}})}),define("flea-app/adapters/dates",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(e,t,n,r){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/dates";return this.get("ajax").request(t).then(function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=(0,r.parse_date)(n);t[a]=e[n]}return t})}})}),define("flea-app/adapters/divergence",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(e,t,n,r){var a=t["default"].Object.extend({date:null,divergence:null}),l=t["default"].Object.extend({data:[],sortedDivergence:function(){var e=this.get("data");return e.sort(function(e,t){return e.date-t.date}),e}.property("data")});e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/divergence";return this.get("ajax").request(t).then(function(e){var t=[];delete e.readCount;for(var n in e)t.push(a.create({date:(0,r.parse_date)(n),divergence:e[n]}));return l.create({data:t})})}})}),define("flea-app/adapters/neutralization",["exports","ember","flea-app/config/environment"],function(e,t,n){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/neutralization";return this.get("ajax").request(t).then(function(e){return e})}})}),define("flea-app/adapters/predefined-regions",["exports","ember","flea-app/config/environment"],function(e,t,n){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(){var e=n["default"].baseURL+"assets/predefined_regions.json";return this.get("ajax").request(e).then(function(e){var t=e.regions;for(var n in t)t[n].start-=1;return t})}})}),define("flea-app/adapters/rates",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(exports,_ember,_fleaAppConfigEnvironment,_fleaAppUtilsUtils){function positive_selection_positions(e){return e.map(function(e,t){return[t,e[2]]}).filter(function(e){return e[1]>=.95}).map(function(e){return e[0]})}var RateInfo=_ember["default"].Object.extend({date:null,rates:null}),RatesObject=_ember["default"].Object.extend({data:[],exists:!1,sortedRates:function(){var e=this.get("data"),t=e.filter(function(e){return"Combined"!==e.date}),n=e.filter(function(e){return"Combined"===e.date});return t.sort(function(e,t){return e.date-t.date}),t.splice(0,0,n[0]),t}.property("data.[]"),positiveSelection:function(){if(!this.get("exists"))return[[]];var e=this.get("sortedRates");return e.map(function(e){return positive_selection_positions(e.rates)})}.property("sortedRates")});exports["default"]=_ember["default"].Object.extend({ajax:_ember["default"].inject.service(),find:function find(session_id){var url=_fleaAppConfigEnvironment["default"].baseURL+"data/"+session_id+"/rates";return this.get("ajax").request(url).then(function(result){var new_result=[];for(var key in result)if(result.hasOwnProperty(key)){var d=key,array=eval(result[key]);"Combined"!==key&&(d=(0,_fleaAppUtilsUtils.parse_date)(key)),new_result.push(RateInfo.create({date:d,rates:array}))}return RatesObject.create({data:new_result,exists:!0})},function(){return RatesObject.create()})}})}),define("flea-app/adapters/runinfo",["exports","ember","flea-app/config/environment"],function(e,t,n){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/runinfo";return this.get("ajax").request(t).then(function(e){return e},function(){return null})}})}),define("flea-app/adapters/sequences",["exports","ember","flea-app/config/environment","flea-app/utils/utils","flea-app/models/sequence-object","flea-app/models/sequences-object"],function(e,t,n,r,a,l){function i(e,t,n,l){return null!==t&&(t=(0,r.parse_date)(t)),a["default"].create({id:e,date:t,sequence:n,type:l})}e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/sequences";return this.get("ajax").request(t).then(function(e){var t=[],n=null,r=null;for(var a in e)if(e.hasOwnProperty(a))if("MRCA"!==a)if("Reference"!==a)if("Combined"!==a){var o=a,s=e[a];for(var d in s)if(s.hasOwnProperty(d)){var c=s[d];for(var u in c)if(c.hasOwnProperty(u)){var p=c[u],m=i(u,o,p,d);t.push(m)}}}else{var h=e[a];for(var f in h)if(h.hasOwnProperty(f)){var g=h[f],v=i(f,null,g,"Combined");t.push(v)}}else n=i("reference",null,e[a],"Reference");else r=i("mrca",null,e[a],"MRCA");return l["default"].create({sequences:t,mrca:r,reference:n})})}})}),define("flea-app/adapters/structure",["exports","ember","flea-app/config/environment"],function(e,t,n){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(){var e=n["default"].baseURL+"pdbs/env_structure";return this.get("ajax").request(e).then(function(e){var t=pv.io.pdb(e.data.join("\n"));return t})}})}),define("flea-app/adapters/trajectory",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(e,t,n,r){e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/rates_pheno";return this.get("ajax").request(t).then(function(e){return e.forEach(function(e){e.Date=(0,r.parse_date)(String(e.Date));for(var t in e)e.hasOwnProperty(t)&&"Segment"!==t&&"Date"!==t&&(e[t]=+e[t])}),e})}})}),define("flea-app/adapters/trees",["exports","ember","flea-app/config/environment","flea-app/utils/utils"],function(e,t,n,r){function a(e,n,a,l){return"Combined"!==e&&(e=(0,r.parse_date)(e)),t["default"].Object.create({date:e,region:n,distance:a,tree:l})}e["default"]=t["default"].Object.extend({ajax:t["default"].inject.service(),find:function(e){var t=n["default"].baseURL+"data/"+e+"/trees";return this.get("ajax").request(t).then(function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))for(var r in e[n])if(e[n].hasOwnProperty(r))for(var l in e[n][r])e[n][r].hasOwnProperty(l)&&t.push(a(n,r,l,e[n][r][l]));return t})}})}),define("flea-app/app",["exports","ember","flea-app/resolver","ember-load-initializers","flea-app/config/environment"],function(e,t,n,r,a){var l=void 0;t["default"].MODEL_FACTORY_INJECTIONS=!0,l=t["default"].Application.extend({modulePrefix:a["default"].modulePrefix,podModulePrefix:a["default"].podModulePrefix,Resolver:n["default"]}),(0,r["default"])(l,a["default"].modulePrefix),e["default"]=l}),define("flea-app/components/app-version",["exports","ember-cli-app-version/components/app-version","flea-app/config/environment"],function(e,t,n){var r=n["default"].APP.name,a=n["default"].APP.version;e["default"]=t["default"].extend({version:a,name:r})}),define("flea-app/components/c3-chart",["exports","ember-c3/components/c3-chart"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t["default"]}})}),define("flea-app/components/x-option",["exports","emberx-select/components/x-option"],function(e,t){e["default"]=t["default"]}),define("flea-app/components/x-select",["exports","emberx-select/components/x-select"],function(e,t){e["default"]=t["default"]}),define("flea-app/controllers/array",["exports","ember"],function(e,t){e["default"]=t["default"].Controller}),define("flea-app/controllers/object",["exports","ember"],function(e,t){e["default"]=t["default"].Controller}),define("flea-app/helpers/amino-acid",["exports","ember"],function(e,t){e["default"]=t["default"].Helper.helper(function(e,n){if(1!==e.length)throw"helper called without sequence";var r=e[0],a=[];n.hasOwnProperty("ranges")&&(a=n.ranges);var l=!1;n.hasOwnProperty("mask")&&(l=n.mask);var i=r.split("").map(t["default"].Handlebars.Utils.escapeExpression),o=0,s=i.map(function(e,t){var n="";o<a.length&&t===a[o][0]&&(n+="<span class = 'pngs'>"),e=e.toUpperCase();var r="";return"|"===e?r='"seperator"':(r="aa aa"+e,l&&l[t]&&(r+=" match","-"!==e&&(e=".")),r='"'+r+'"'),n+="<span class="+r+">"+e+"</span>",o<a.length&&t===a[o][1]&&(n+="</span>",o++),n});return new t["default"].Handlebars.SafeString(s.join(""))})}),define("flea-app/helpers/format-percent",["exports","ember"],function(e,t){var n=d3.format(">5.2f");e["default"]=t["default"].Helper.helper(function(e){var r=e[0],a=t["default"].Handlebars.Utils.escapeExpression(r);return new t["default"].Handlebars.SafeString(n(a))})}),define("flea-app/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],function(e,t){e["default"]=t["default"]}),define("flea-app/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],function(e,t){e["default"]=t["default"]}),define("flea-app/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","flea-app/config/environment"],function(e,t,n){e["default"]={name:"App Version",initialize:(0,t["default"])(n["default"].APP.name,n["default"].APP.version)}}),define("flea-app/initializers/container-debug-adapter",["exports","ember-resolver/container-debug-adapter"],function(e,t){e["default"]={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0];e.register("container-debug-adapter:main",t["default"]),e.inject("container-debug-adapter:main","namespace","application:main")}}}),define("flea-app/initializers/data-adapter",["exports","ember"],function(e,t){e["default"]={name:"data-adapter",before:"store",initialize:t["default"].K}}),define("flea-app/initializers/ember-data",["exports","ember-data/setup-container","ember-data/-private/core"],function(e,t,n){e["default"]={name:"ember-data",initialize:t["default"]}}),define("flea-app/initializers/export-application-global",["exports","ember","flea-app/config/environment"],function(e,t,n){function r(){var e=arguments[1]||arguments[0];if(n["default"].exportApplicationGlobal!==!1){var r,a=n["default"].exportApplicationGlobal;r="string"==typeof a?a:t["default"].String.classify(n["default"].modulePrefix),window[r]||(window[r]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete window[r]}}))}}e.initialize=r,e["default"]={name:"export-application-global",initialize:r}}),define("flea-app/initializers/inject-store",["exports","flea-app/pods/store/model"],function(e,t){e["default"]={name:"inject-store",initialize:function(e,n){n.register("store:main",t["default"]),n.inject("route","store","store:main"),n.inject("controller","store","store:main")}}}),define("flea-app/initializers/injectStore",["exports","ember"],function(e,t){e["default"]={name:"injectStore",before:"store",initialize:t["default"].K}}),define("flea-app/initializers/store",["exports","ember"],function(e,t){e["default"]={name:"store",after:"ember-data",initialize:t["default"].K}}),define("flea-app/initializers/transforms",["exports","ember"],function(e,t){e["default"]={name:"transforms",before:"store",initialize:t["default"].K}}),define("flea-app/instance-initializers/ember-data",["exports","ember-data/-private/instance-initializers/initialize-store-service"],function(e,t){e["default"]={name:"ember-data",initialize:t["default"]}}),define("flea-app/models/coordinates-object",["exports","ember","flea-app/utils/utils"],function(e,t,n){e["default"]=t["default"].Object.extend({data:[],refRange:function(){var e=this.get("alnToRefCoords");return[e[0],e[e.length-1]+1]}.property("alnToRefCoords"),alnToRefCoords:function(){var e=this.get("data");return e.map(function(e){return(0,n.zeroIndex)(e)})}.property("data.[]"),refToAlnCoords:function(){for(var e=this.get("alnToRefCoords"),t=this.get("refRange")[1],n=new Array(t),r=new Array(t),a=-1,l=0;l<e.length;l++){var i=e[l];if(r[i]=l,i!==a&&(n[i]=l),a>-1)for(var o=a+1;i>o;o++)n[o]=l,r[o]=l-1;a=i}return[n,r]}.observes("alnToRefCoords"),refToFirstAlnCoords:function(){return(0,n.refToAlnCoords)(this.get("alnToRefCoords"),this.get("refRange")[1])[0]}.property("alnToRefCoords"),refToLastAlnCoords:function(){return(0,n.refToAlnCoords)(this.get("alnToRefCoords"),this.get("refRange")[1])[1]}.property("alnToRefCoords")})}),define("flea-app/models/sequence-object",["exports","ember"],function(e,t){e["default"]=t["default"].Object.extend({id:null,date:null,sequence:null,type:null})}),define("flea-app/models/sequences-object",["exports","ember"],function(e,t){e["default"]=t["default"].Object.extend({sequences:[],mrca:null,reference:null,selectedPositions:[],filterSequenceTypes:function(e,t){return e.filter(function(e){return e.get("type")===t})},observedSequences:function(){var e=this.get("sequences");return this.filterSequenceTypes(e,"Observed")}.property("sequences.[]"),observedAndMrca:function(){var e=this.get("sequences");return e.push(this.get("mrca")),e}.property("sequences.[]","mrca"),idToMotif:function(){var e=this.get("observedAndMrca"),t=this.get("selectedPositions").sort(function(e,t){return e-t});return e.reduce(function(e,n){return e[n.get("id")]=t.map(function(e){return n.get("sequence")[e]}).join(""),e},{})}.property("observedAndMrca.[]","selectedPositions.[]")})}),define("flea-app/pods/application/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({setupController:function(e,t){this._super(e,t),e.set("baseURL",this.router.get("baseURL")),e.set("rootURL",this.router.get("rootURL"))}})}),define("flea-app/pods/application/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"missing-wrapper",problems:["wrong-type"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:1,column:10}},moduleName:"flea-app/pods/application/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","outlet",["loc",[null,[1,0],[1,10]]]]],locals:[],templates:[]}}())}),define("flea-app/pods/components/alignment-overview/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){e["default"]=t["default"].Component.extend({tagName:"svg",classNames:["alignment-overview"],labelHeight:10,mainHeight:30,axisHeight:20,attributeBindings:["width","height"],margins:{top:0,right:10,bottom:0,left:10},alnRanges:null,validAlnRange:1,selectedPositions:null,predefinedRegions:null,alnToRefCoords:null,refToFirstAlnCoords:null,refToLastAlnCoords:null,tick:100,shiftKey:!1,width:function(){return this.get("validAlnRange")[1]+this.get("margins.left")+this.get("margins.right")}.property("validAlnRange","margins.left","margins.right"),height:function(){return this.get("labelHeight")+this.get("mainHeight")+this.get("axisHeight")+this.get("margins.top")+this.get("margins.bottom")}.property("labelHeight","mainHeight","axisHeight","margins.top","margins.bottom"),innerWidth:function(){return this.get("width")-this.get("margins.left")-this.get("margins.right")}.property("width","margins.left","margins.right"),innerHeight:function(){return this.get("height")-this.get("margins.top")-this.get("margins.bottom")}.property("height","margins.top","margins.bottom"),didInsertElement:function(){this.transformGroup(),this.transformMain(),this.drawLabels(),this.drawTrack(),this.drawInsertions(),this.drawPositive(),this.drawSelected(),this.drawRanges(),this.drawAxis(),this.makeBrush();var e=this,t=function(){"inDOM"===e._state&&e.set("shiftKey",d3.event.shiftKey)};d3.select(window).on("keydown",t),d3.select(window).on("keyup",t)},drawLabels:function(){var e=this.get("refToFirstAlnCoords"),t=this.get("refToLastAlnCoords"),r=this.get("predefinedRegions"),a=d3.select("#"+this.get("elementId")).select(".labels"),l=this.get("labelHeight"),i=l/2,o=this,s=function(e){var t=[e.start,e.stop];o.get("shiftKey")?o.sendAction("addRange",t):o.sendAction("setRanges",[t])},d=a.selectAll("text").data(r,function(e){return e.name}),c=function(r,a){return t[(0,n.zeroIndex)(a)]-e[r]};d.enter().append("text").style("text-anchor","middle").style("dominant-baseline","middle").attr("x",function(t){return e[t.start]+c(t.start,t.stop)/2}).attr("y",function(){return i}).text(function(e){return e.name}).attr("font-family","sans-serif").attr("font-size","8px"),d.exit().remove();var u=a.selectAll("rect").data(r,function(e){return e.name});u.enter().append("rect").on("click",s).style("cursor","pointer").attr("x",function(t){return(0,n.transformIndex)(t.start,e,!1)}).attr("y",function(){return 0}).attr("width",function(e){return c(e.start,e.stop)}).attr("height",function(){return l}).attr("stroke-width",1).attr("stroke","black").attr("fill-opacity",0),u.exit().remove()}.observes("predefinedRegions","labelHeight","refToFirstAlnCoords","refToLastAlnCoords"),transformGroup:function(){d3.select("#"+this.get("elementId")).select(".overview").attr("transform","translate("+this.get("margins.left")+","+this.get("margins.top")+")")}.observes("labelHeight"),transformMain:function(){d3.select("#"+this.get("elementId")).select(".overview").select(".main").attr("transform","translate(0,"+this.get("labelHeight")+")")}.observes("labelHeight"),closedRanges:function(){return this.get("alnRanges").map(function(e){return[e[0],e[1]-1]})}.property("alnRanges"),x:function(){return d3.scale.linear().domain([0,this.get("innerWidth")]).range([0,this.get("innerWidth")])}.property("innerWidth"),makeBrush:function(){var e=this,t=this.get("alnToRefCoords"),r=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".brush"),a=this.get("x"),l=d3.svg.brush(),i=function(){var a=l.extent(),i=a.map(function(e){return d3.round(e,0)}),o=[(0,n.transformIndex)(i[0],t,!1),(0,n.transformIndex)(i[1],t,!1)+1];e.get("shiftKey")?e.sendAction("addRange",o):e.sendAction("setRanges",[o]),l.clear(),r.call(l)};l.x(a).on("brushend",i),r.call(l).selectAll("rect").attr("height",this.get("mainHeight"))}.observes("x","mainHeight","alnToRefCoords"),drawTrack:function(){var e=this.get("innerWidth"),t=this.get("mainHeight"),n=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".track"),r=[[0,t/2,e,t/2],[0,t/3,0,2*t/3],[e-1,t/3,e-1,2*t/3]],a=n.selectAll("lines").data(r).enter().append("line");a.attr("x1",function(e){return e[0]}).attr("y1",function(e){return e[1]}).attr("x2",function(e){return e[2]}).attr("y2",function(e){return e[3]}).attr("stroke-width",1).attr("stroke","black")}.observes("innerWidth","mainHeight"),drawAxis:function(){var e=this.get("refToFirstAlnCoords"),t=this.get("alnToRefCoords"),r=this.get("tick"),a=(0,n.alignmentTicks)(t,e,r),l=this.get("x"),i=d3.svg.axis().scale(l).orient("bottom").tickValues(a).tickFormat(function(e){return(0,n.oneIndex)(t[e])}),o=d3.select("#"+this.get("elementId")).select(".overview").select(".axis");o.attr("class","x axis").attr("transform","translate(0,"+(this.get("labelHeight")+this.get("mainHeight"))+")").call(i)}.observes("innerWidth","mainHeight","labelHeight","refToFirstAlnCoords"),insertions:function(){for(var e=this.get("alnToRefCoords"),t=[],n=!1,r=-1,a=-1,l=e.length,i=1;i<e.length;i++)n||e[i-1]!==e[i]?n&&e[i-1]!==e[i]?(a=i-1,n=!1,t.push([r,a])):n&&i+1===l&&(a=i,n=!1,t.push([r,a])):(n=!0,r=i);return t}.property("alnToRefCoords"),drawInsertions:function(){var e=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".insertions"),t=this.get("insertions"),n=this.get("mainHeight")/2,r=e.selectAll("line").data(t,function(e){return String(e)});r.enter().append("line").attr("x1",function(e){return e[0]}).attr("y1",function(){return n}).attr("x2",function(e){return e[1]}).attr("y2",function(){return n}).attr("stroke-width",3).attr("stroke","black"),r.exit().remove()}.observes("insertions","mainHeight"),drawPositive:function(){var e=[];this.get("markPositive")&&(e=this.get("positiveSelection")[0]);var t=this.get("mainHeight"),n=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".positive"),r=n.selectAll("line").data(e,function(e){return e});r.enter().append("line").attr("x1",function(e){return e}).attr("y1",function(){return t/3}).attr("x2",function(e){return e}).attr("y2",function(){return 2*t/3}).attr("stroke-width",1).attr("stroke","green"),r.exit().remove()}.observes("markPositive","positiveSelection","mainHeight"),drawSelected:function(){var e=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".selected"),t=this.get("mainHeight"),n=this.get("selectedPositions"),r=e.selectAll("line").data(n,function(e){return e});r.enter().append("line").attr("x1",function(e){return e}).attr("y1",function(){return 0}).attr("x2",function(e){return e}).attr("y2",function(){return t}).attr("stroke-width",1).attr("stroke","red"),r.exit().remove()}.observes("selectedPositions.[]","mainHeight"),drawRanges:function(){function e(){var e=d3.round(+d3.event.dx,0),t=+this.getAttribute("width"),n=+this.getAttribute("x")+e;n>=0&&i>=n+t+1&&d3.select(this).attr("x",n)}function t(){var e=+this.getAttribute("idx"),t=+this.getAttribute("x"),n=+this.getAttribute("width"),r=[t,t+n+1];l.sendAction("updateRange",e,r)}var n=d3.select("#"+this.get("elementId")).select(".overview").select(".main").select(".ranges"),r=this.get("mainHeight"),a=this.get("closedRanges"),l=this,i=this.get("innerWidth"),o=d3.behavior.drag().on("drag",e).on("dragend",t);n.selectAll("rect").remove(),n.selectAll("rect").data(a).enter().append("rect").attr("x",function(e){return e[0]}).attr("y",function(){return 0}).attr("idx",function(e,t){return t}).attr("width",function(e){return e[1]-e[0]}).attr("height",function(){return r}).attr("stroke-width",1).attr("stroke","blue").style("fill","blue").attr("fill-opacity",.1).call(o).on("click",function(e,t){d3.event.defaultPrevented||l.sendAction("rmRange",t)})}.observes("closedRanges","innerWidth","mainHeight")})}),define("flea-app/pods/components/alignment-overview/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:13,column:0}},moduleName:"flea-app/pods/components/alignment-overview/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("g");e.setAttribute(n,"class","overview");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","labels"),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","main");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","track"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","insertions"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","selected"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","positive"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","brush"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("g");e.setAttribute(a,"class","ranges"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","axis"),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("flea-app/pods/components/bootstrap-popover/component",["exports","ember"],function(e,t){e["default"]=t["default"].Component.extend({tagName:"a",attributeBindings:["tabindex","dataToggle:data-toggle","dataTrigger:data-trigger","title","dataContent:data-content","placement"],classNames:["popover-link"],tabindex:"0",dataToggle:"popover",dataTrigger:"focus",title:"Title",dataContent:"Content",html:!0,placement:"auto right",didInsertElement:function(){this.$().popover({html:this.get("html"),placement:this.get("placement")})}.observes("dataContent","html","placement")})}),define("flea-app/pods/components/color-table/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:4,column:6},end:{line:6,column:6}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createElement("td"),r=e.createComment("");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),0,0),r},statements:[["content","h",["loc",[null,[5,10],[5,15]]]]],locals:["h"],templates:[]}}(),t=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:14,column:8},end:{line:16,column:8}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["content","elt.value",["loc",[null,[15,8],[15,21]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:12,column:6},end:{line:18,column:4}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createElement("td"),r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("      ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1]),a=new Array(2);return a[0]=e.createAttrMorph(r,"style"),a[1]=e.createMorphAt(r,1,1),a},statements:[["attribute","style",["concat",[["get","elt.style",["loc",[null,[13,19],[13,28]]]]]]],["block","bootstrap-popover",[],["title","","dataContent",["subexpr","@mut",[["get","elt.html",["loc",[null,[14,50],[14,58]]]]],[],[]]],0,null,["loc",[null,[14,8],[16,30]]]]],locals:["elt"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:10,column:4},end:{line:20,column:4}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr"),r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),1,1),r},statements:[["block","each",[["get","row",["loc",[null,[12,14],[12,17]]]]],[],0,null,["loc",[null,[12,6],[18,13]]]]],locals:["row"],templates:[e]}}();return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:23,column:0}},moduleName:"flea-app/pods/components/color-table/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("table");e.setAttribute(n,"class","table table-hover table-condensed");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("thead"),a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("tr"),l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("tbody"),a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(2);return a[0]=e.createMorphAt(e.childAt(r,[1,1]),1,1),a[1]=e.createMorphAt(e.childAt(r,[3]),1,1),a},statements:[["block","each",[["get","header",["loc",[null,[4,14],[4,20]]]]],[],0,null,["loc",[null,[4,6],[6,15]]]],["block","each",[["get","data",["loc",[null,[10,12],[10,16]]]]],[],1,null,["loc",[null,[10,4],[20,13]]]]],locals:[],templates:[e,t]}}())}),define("flea-app/pods/components/gene-plots/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){function r(e,t){var n=[e];return n.pushObjects(t),n}e["default"]=t["default"].Component.extend({tagName:"svg",attributeBindings:["width","height"],tick:100,yticks:5,addCombined:!0,width:850,heightEach:80,labelHeight:25,margin:{top:20,right:20,bottom:50,left:30},height:function(){var e=this.get("margin");return e.top+e.bottom+this.get("nPlots")*this.get("heightEach")+this.get("labelHeight")}.property("heightEach","margin","nPlots","labelHeight"),didInsertElement:function(){this._updateChart()},innerWidth:function(){var e=this.get("margin");return this.get("width")-e.left-e.right}.property("width","margin"),innerHeight:function(){var e=this.get("margin");return this.get("height")-e.top-e.bottom}.property("height","margin"),innerGroupTransform:function(){var e=this.get("margin");return"translate(%@, %@)".fmt(e.left,e.top)}.property("margin"),onChartChange:function(){"inDOM"===this._state&&t["default"].run.once(this,"_updateChart")}.observes("names.[]","data1","data2","positions","labels.[]","width","height","heightEach","margin","yMax","labelHeight","addCombined"),yMax:function(){var e=this.get("data1"),t=this.get("data2");return[d3.max(_.flatten(e)),d3.max(_.flatten(t))]}.property("data1","data2"),nPlots:function(){var e=this.get("names.length");return this.get("addCombined")&&(e+=1),e}.property("names.length","addCombined"),_updateChart:function(){try{this.__updateChart()}catch(e){if(!e||!e.name||"data consistency error"!==e.name)throw e;this._removeAll()}},_removeAll:function(){var e=d3.select("#"+this.get("elementId")).select(".inner");e.selectAll("path").remove(),e.selectAll("g").remove(),e.selectAll("defs").remove()},__updateChart:function(){function e(){C.domain(N.empty()?y.domain():N.extent());for(var e=0;e<q.length;e++)q[e].select("._pos_dS").attr("d",P[e][0]),
c&&q[e].select("._pos_dN").attr("d",P[e][1]),q[e].selectAll(".selected_site").attr("cx",b);x.select(".pos.x.axis").call(F)}var t=this.get("names"),a=this.get("data1"),l=this.get("data2"),i=this.get("positions"),o=this.get("labels"),s=a[0].length,d=this.get("nPlots"),c=l.length>0;if(this.get("addCombined")&&"Combined"!==t[0]){for(var u=[],p=0;s>p;p++)u.push(0);a=r(u,a),c&&(a=r(u,l)),i.length>0&&(i=r([],i)),t=r("Combined",t)}if(c&&a.length!==l.length)throw{name:"data consistency error",message:"data1 and data2 have different lengths"};if(a.length!==t.length)throw{name:"data consistency error",message:"data1 and names have different lengths"};for(var m=0;d>m;m++){if(a[m].length!==s)throw{name:"data consistency error",message:"data vector lengths are inconsistent"};if(c&&l[m].length!==s)throw{name:"data consistency error",message:"data vector lengths are inconsistent"}}var h=this.get("innerWidth"),f=this.get("innerHeight"),g=this.get("heightEach"),v=this.get("url"),b=function(e){return C(e)};this._removeAll();var x=d3.select("#"+this.get("elementId")).select(".inner");x.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",h).attr("height",f),x=x.append("g");for(var C=d3.scale.linear().range([0,h]).domain([1,s]),y=d3.scale.linear().range([0,h]).domain([1,s]),N=d3.svg.brush().x(y).on("brush",e),T=this.get("yMax"),A=d3.scale.linear().range([g,0]).domain([c?-T[1]:0,T[0]]),R=this.get("refToFirstAlnCoords"),E=this.get("alnToRefCoords"),w=this.get("tick"),M=(0,n.alignmentTicks)(E,R,w),F=d3.svg.axis().scale(C).orient("bottom").tickValues(M).tickFormat(function(e){return(0,n.oneIndex)(E[e])}),_=d3.svg.axis().scale(y).orient("top").tickValues(M).tickFormat(function(e){return(0,n.oneIndex)(E[e])}),k=d3.svg.axis().scale(C).orient("bottom").ticks(0).tickFormat(""),S=d3.svg.axis().scale(A).orient("right").ticks(this.get("yticks")),q=[],P=[],D=0;D<t.length;D++){var j=x.append("g").attr("transform","translate(0,"+g*D+")"),I=[];I[0]=d3.svg.area().x(function(e,t){return C(t+1)}).y0(function(){return A(0)}).y1(function(e){return A(e)}).interpolate("step"),c&&(I[1]=d3.svg.area().x(function(e,t){return C(t+1)}).y0(function(e){return A(-e)}).y1(function(){return A(0)}).interpolate("step")),P.push(I),j.append("text").attr("transform","translate(0,"+A(0)+") rotate (-90)").attr("y","0").attr("dy","-0.5em").style("text-anchor",c?"middle":"start").text(t[D]),j.append("path").datum(a[D]).attr("class","_pos_dS").attr("clip-path","url("+v+"#clip)").attr("d",I[0]),j.append("g").attr("class","pos x axis").attr("transform","translate(0,"+g+")").call(k),j.append("g").attr("class","pos y axis").attr("transform","translate("+h+" ,0)").call(S),c&&j.append("path").datum(l[D]).attr("clip-path","url("+v+"#clip)").attr("class","_pos_dN").attr("d",I[1]),0===D?j.append("g").attr("class","x brush").call(N).selectAll("rect").attr("y",-6).attr("height",g+7):q.push(j),D<i.length&&j.selectAll(".selected_site").data(i[D]).enter().append("circle").attr("cx",function(e){return C(e)}).attr("cy",function(){return A(0)}).attr("r",4).attr("class","selected_site").attr("clip-path","url("+v+"#clip)").append("title").text(function(e){return"Codon "+e})}x.append("g").attr("class","pos x_overall axis").call(_).append("text").attr("transform","translate(0,0)").attr("dy","-.4em").attr("dx",".25em").style("text-anchor","start").text("Site");var B=this.get("labelHeight");if(x.append("g").attr("class","pos x axis").attr("transform","translate(0,"+(f-B)+")").call(F).append("text").attr("transform","translate(0,0)").attr("dy","+1.1em").attr("dx",".25em").style("text-anchor","start").text("Site"),o.length>0){var O={x:0,y:f-B+10,spacer:15,margin:5,font:10,x_step:100},L=["#2E66FF","#FFB314"],H=x.append("g").attr("class","gene_legend").attr("x",O.x).attr("y",O.y).attr("transform","translate("+O.x+","+O.y+")");H.selectAll("g").data(o).enter().append("g").each(function(e,t){var n=d3.select(this);n.append("rect").attr("y",O.spacer).attr("x",t*(O.spacer+O.margin+O.x_step)).attr("width",O.spacer).attr("height",O.spacer).style("fill",L[t]),n.append("text").attr("y",2*O.spacer).attr("x",t*(O.spacer+O.margin+O.x_step)+O.spacer+O.font/4).style("fill",L[t]).text(e)})}}})}),define("flea-app/pods/components/gene-plots/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:2,column:0}},moduleName:"flea-app/pods/components/gene-plots/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("g");e.setAttribute(n,"class","inner"),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(2);return a[0]=e.createAttrMorph(r,"transform"),a[1]=e.createAttrMorph(r,"height"),a},statements:[["attribute","transform",["concat",[["get","innerGroupTransform",["loc",[null,[1,16],[1,35]]]]]]],["attribute","height",["concat",[["get","height",["loc",[null,[1,49],[1,55]]]]]]]],locals:[],templates:[]}}())}),define("flea-app/pods/components/graph-axis/component",["exports","ember"],function(e,t){e["default"]=t["default"].Component.extend({tagName:"g",classNames:["axis"],attributeBindings:["transform"],scale:null,orient:"bottom",ticks:10,tickValues:null,tickSize:15,tickFormat:null,tickPadding:15,rotate:0,_axis:null,d3Axis:function(){var e=this.get("_axis");return null===e&&(e=d3.svg.axis()),e.scale(this.get("scale")).orient(this.get("orient")).ticks(this.get("ticks")).tickValues(this.get("tickValues")).tickFormat(this.get("tickFormat")).tickSize(this.get("tickSize")).tickPadding(this.get("tickPadding")),this.set("_axis",e),e}.property("scale","orient","ticks","tickValues","tickSize","tickFormat","tickPadding"),didInsertElement:function(){this._updateAxis()},onD3AxisChange:function(){"inDOM"===this._state&&this._updateAxis()}.observes("d3Axis","rotate"),_updateAxis:function(){var e=this.get("d3Axis"),t=d3.select(this.$()[0]).call(e),n=this.get("rotate");0!==n&&t.selectAll("text").style("text-anchor","start").attr("transform","rotate("+n+")").attr("dx","0.5em").attr("dy","0.5em")}})}),define("flea-app/pods/components/phylotree-widget/component",["exports","ember"],function(e,t){e["default"]=t["default"].Component.extend({tagName:"svg",attributeBindings:["width","height"],treeWidget:null,width:800,height:600,tree:null,copynumbers:null,showCopynumber:!1,overlapNodes:!0,seqIdToNodeName:null,seqIdToNodeColor:null,seqIdToTextColor:null,radialLayout:!1,minRadius:.1,maxRadius:10,heightScale:1,nodeSpan:function(){var e=this.get("copynumbers"),t=d3.max(_.values(e)),n=d3.scale.sqrt().domain([0,t]).range([this.get("minRadius"),this.get("maxRadius")]);return function(t){return n(t.name in e?e[t.name]:1)}}.property("copynumbers","minRadius","maxRadius"),nodeNamer:function(){var e=this.get("seqIdToNodeName");return function(n){return t["default"].isPresent(e[n.name])?e[n.name]:""}}.property("seqIdToNodeName"),nodeColorizer:function(){var e=this.get("seqIdToNodeColor"),n=this.get("seqIdToTextColor");return function(r,a){t["default"].isPresent(e)?r.selectAll("circle").style("fill",e[a.name]).style("opacity",.4):r.selectAll("circle").style("fill","LightGray").style("opacity",.4),t["default"].isPresent(n)?r.selectAll("text").style("fill",n[a.name]):r.selectAll("text").style("fill","Black")}}.property("seqIdToNodeColor","seqIdToTextColor","radialLayout"),didInsertElement:function(){var e=d3.select("#"+this.get("elementId")),n=d3.layout.phylotree().svg(e).size([this.get("height"),this.get("width")]).separation(function(){return 0}).style_nodes(this.get("nodeColorizer")).branch_name(this.get("nodeNamer"));n.options({"is-radial":this.get("radialLayout")},!1),n.options({"shift-nodes":!1},!1),n.options({"overlap-bubbles":this.get("overlapNodes")},!1),this.get("showCopynumber")?(n.node_span(this.get("nodeSpan")),n.options({"draw-size-bubbles":!0},!1)):(n.node_span("equal"),n.options({"draw-size-bubbles":!1},!1)),n.options({selectable:!1},!1),this.set("treeWidget",n),t["default"].run.once(this,"newTree")},newTree:function(){this.get("treeWidget")(this.get("tree")),this.sort()}.observes("tree"),sort:function(){var e=this.get("sortState");"ascending"===e?this.sortNodes(!0):"descending"===e?this.sortNodes(!1):this.sortOriginal()}.observes("sortState"),sortNodes:function(e){var t=this.get("treeWidget");t.traverse_and_compute(function(e){var t=1;e.children&&e.children.length&&(t+=d3.max(e.children,function(e){return e.count_depth})),e.count_depth=t}),t.resort_children(function(t,n){return(t.count_depth-n.count_depth)*(e?1:-1)})},sortOriginal:function(){this.get("treeWidget").resort_children(function(e,t){return e.original_child_order-t.original_child_order})},updateSpacing:function(){var e=this.get("treeWidget");e.options({"height-scale":+this.get("heightScale")},!1),e.placenodes(),e.update(!0)}.observes("heightScale"),updateNames:function(){var e=this.get("treeWidget");e.branch_name(this.get("nodeNamer")),e.update()}.observes("nodeNamer"),updateColors:function(){var e=this.get("treeWidget");e.style_nodes(this.get("nodeColorizer")),e.refresh()}.observes("nodeColorizer"),updateCopynumber:function(){var e=this.get("treeWidget");this.get("showCopynumber")?(e.node_span(this.get("nodeSpan")),e.options({"draw-size-bubbles":!0},!1)):(e.node_span("equal"),e.options({"draw-size-bubbles":!1},!1)),e.placenodes(),e.update(!0)}.observes("showCopynumber","nodeSpan"),updateOverlap:function(){var e=this.get("treeWidget");e.options({"overlap-bubbles":this.get("overlapNodes")},!1),e.placenodes(),e.update(!0)}.observes("overlapNodes"),updateLayout:function(){var e=this.get("treeWidget"),t=this.get("radialLayout");e.options({"is-radial":t},!1),e.placenodes(),e.update(!0)}.observes("radialLayout")})}),define("flea-app/pods/components/pv-wrapper/component",["exports","ember"],function(e,t){e["default"]=t["default"].Component.extend({shouldLabel:!0,fog:!0,spin:!1,slabModes:["auto","fixed"],slabMode:"auto",slabNear:.1,slabFar:400,structure:null,data:[],range:[0,1],viewer:null,geometry:null,updateSpin:function(){this.get("viewer").spin(this.get("spin"))}.observes("spin"),updateFog:function(){this.get("viewer").options("fog",this.get("fog")),this.get("viewer").requestRedraw()}.observes("fog"),updateSlabMode:function(){t["default"].run.once(this,"_updateSlabMode")}.observes("slabMode","slabNear","slabFar"),_updateSlabMode:function(){this.get("viewer").slabMode(this.get("slabMode"),{near:+this.get("slabNear"),far:+this.get("slabFar")}),this.get("viewer").requestRedraw()},showSlabControls:function(){return"fixed"===this.get("slabMode")}.property("slabMode"),didInsertElement:function(){var e={width:1e3,height:800,antialias:!0,quality:"medium"},t=pv.Viewer(this.$()[0],e);this.set("viewer",t);var n=this.get("structure");t.fitTo(n);var r=t.cartoon("protein",n);r.colorBy(pv.color.uniform("blue")),this.set("geometry",r),this.updateColors(),this.labelResidues()},updateColors:function(){t["default"].run.once(this,"_updateColors")}.observes("data.[]","range.[]","structure","geometry"),_updateColors:function(){var e=this.get("geometry"),t=this.get("structure");if(null!==t){var n=this.get("data"),r=0,a=0,l=pv.color.gradient(["white","darkred"]);if(n){var i=this.get("range");if(r=d3.min(n),a=d3.max(n),i[0]>r)throw{name:"RangeError",message:"range[0] too large"};if(i[1]<a)throw{name:"RangeError",message:"range[1] too small"};i[0]<0&&(l=pv.color.gradient(["darkblue","white","darkred"])),n=_.map(n,function(e){return(e-i[0])/(i[1]-i[0])}),t.eachResidue(function(e){var t=e.num(),r=n[t];r=void 0===r?0:r,e.customData=function(){return r}});var o=[0,1],s=pv.color.byResidueProp("customData",l,o);e.colorBy(s),this.get("viewer").requestRedraw()}}},labelResidues:function(){var e=this.get("viewer");if(e.rm("label*"),this.get("shouldLabel")){var t=this.get("structure"),n=0,r={fontSize:10,fontColor:"rgba(0, 0, 0, 0.5)"};t.eachResidue(function(t){var a=t.num();if(a%10===0){var l="label_"+n;e.label(l,a,t.atom(0).pos(),r),n+=1}})}this.get("viewer").requestRedraw()}.observes("shouldLabel"),actions:{selectSlabMode:function(e){null!=e&&this.set("slabMode",e)}}})}),define("flea-app/pods/components/pv-wrapper/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:18,column:4},end:{line:18,column:36}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","mode",["loc",[null,[18,28],[18,36]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:17,column:4},end:{line:19,column:4}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","mode",["loc",[null,[18,22],[18,26]]]]],[],[]]],0,null,["loc",[null,[18,4],[18,49]]]]],locals:["mode"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:16,column:4},end:{line:20,column:4}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","slabModes",["loc",[null,[17,12],[17,21]]]]],[],0,null,["loc",[null,[17,4],[19,13]]]]],locals:[],templates:[e]}}(),t=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:25,column:0},end:{line:51,column:0}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-label");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","Near");var l=e.createTextNode("Near");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-10 vcenter");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-value");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("output");e.setAttribute(a,"for","near"),e.setAttribute(a,"id","far");var l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-label");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","far");var l=e.createTextNode("Far");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-10");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-xs-1 flea-value");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("output");e.setAttribute(a,"for","far"),e.setAttribute(a,"id","far");var l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(t,[2]),l=new Array(4);return l[0]=e.createMorphAt(e.childAt(r,[3]),1,1),l[1]=e.createMorphAt(e.childAt(r,[5,1]),0,0),l[2]=e.createMorphAt(e.childAt(a,[3]),1,1),l[3]=e.createMorphAt(e.childAt(a,[5,1]),0,0),l},statements:[["inline","input",[],["type","range","id","near","min","0.1","value",["subexpr","@mut",[["get","slabNear",["loc",[null,[31,51],[31,59]]]]],[],[]],"max",["subexpr","@mut",[["get","slabFar",["loc",[null,[31,64],[31,71]]]]],[],[]],"step","0.1"],["loc",[null,[31,4],[31,84]]]],["content","slabNear",["loc",[null,[34,28],[34,40]]]],["inline","input",[],["type","range","id","far","min",["subexpr","@mut",[["get","slabNear",["loc",[null,[44,38],[44,46]]]]],[],[]],"value",["subexpr","@mut",[["get","slabFar",["loc",[null,[44,53],[44,60]]]]],[],[]],"max",400,"step","0.1"],["loc",[null,[44,4],[44,81]]]],["content","slabFar",["loc",[null,[48,27],[48,38]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes","wrong-type"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:52,column:0}},moduleName:"flea-app/pods/components/pv-wrapper/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","input-group input-group-sm");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Label coordinates");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Fog");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Spin");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("span");e.setAttribute(r,"class","input-group-addon");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label"),l=e.createTextNode("Slab mode");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n\n");e.appendChild(t,n);var n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(5);return a[0]=e.createMorphAt(e.childAt(r,[1]),3,3),a[1]=e.createMorphAt(e.childAt(r,[3]),3,3),a[2]=e.createMorphAt(e.childAt(r,[5]),3,3),a[3]=e.createMorphAt(e.childAt(r,[7]),3,3),a[4]=e.createMorphAt(t,2,2,n),e.insertBoundary(t,null),a},statements:[["inline","input",[],["type","checkbox","name","shouldlabel","checked",["subexpr","@mut",[["get","shouldLabel",["loc",[null,[4,55],[4,66]]]]],[],[]]],["loc",[null,[4,4],[4,68]]]],["inline","input",[],["type","checkbox","name","fog","checked",["subexpr","@mut",[["get","fog",["loc",[null,[8,47],[8,50]]]]],[],[]]],["loc",[null,[8,4],[8,52]]]],["inline","input",[],["type","checkbox","name","spin","checked",["subexpr","@mut",[["get","spin",["loc",[null,[12,48],[12,52]]]]],[],[]]],["loc",[null,[12,4],[12,54]]]],["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","slabMode",["loc",[null,[16,47],[16,55]]]]],[],[]],"action","selectSlabMode","id","slab_mode"],0,null,["loc",[null,[16,4],[20,27]]]],["block","if",[["get","showSlabControls",["loc",[null,[25,6],[25,22]]]]],[],1,null,["loc",[null,[25,0],[51,7]]]]],locals:[],templates:[e,t]}}())}),define("flea-app/pods/components/range-selector/component",["exports","ember"],function(e,t){e["default"]=t["default"].Component.extend({tagName:"",_selectedIdx:0,values:[],selectedIdx:0,maxIdx:function(){return this.get("values.length")-1}.property("values.length"),_resetIdx:function(){this.set("_selectedIdx",0)}.observes("values.length"),receiveIdx:function(){this.set("_selectedIdx",this.get("selectedIdx"))}.observes("selectedIdx"),setSelectedIdx:function(){this.sendAction("selectedIdxChanged",this.get("_selectedIdx"))}.observes("_selectedIdx")})}),define("flea-app/pods/components/range-selector/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"missing-wrapper",problems:["wrong-type"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:2,column:0}},moduleName:"flea-app/pods/components/range-selector/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),r},statements:[["inline","input",[],["class","bar","type","range","id","rangeinput","value",["subexpr","@mut",[["get","_selectedIdx",["loc",[null,[1,55],[1,67]]]]],[],[]],"min",0,"max",["subexpr","@mut",[["get","maxIdx",["loc",[null,[1,78],[1,84]]]]],[],[]],"step",1],["loc",[null,[1,0],[1,93]]]]],locals:[],templates:[]}}())}),define("flea-app/pods/components/sequence-range-controls/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){var r=function(){function e(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,l=s}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]=t["default"].Component.extend({tagName:"",inputClass:"input-valid",validRange:[0,1],rangeText:"",computedText:function(){var e=this.get("ranges");return e.map(function(e){return(0,n.oneIndex)(e[0])+"-"+e[1]}).join(";")}.property("ranges","ranges.length","ranges.[]","ranges.[].[]"),updateText:function(){this.set("rangeText",this.get("computedText"))}.observes("computedText").on("init"),toController:function(e){var t=this.get("validRange"),n=r(t,2),a=n[0],l=n[1];e=e.map(function(e){var t=r(e,2),n=t[0],i=t[1];return a>n&&(n=a),i>l&&(i=l),[n,i]}),_.every(e.map(function(e){return e[0]<e[1]}))&&this.sendAction("setRanges",e)},actions:{moveRanges:function(e){for(var t=this.get("ranges"),n=this.get("validRange"),a=r(n,2),l=a[0],i=a[1],o=0;o<t.length;o++){var s=r(t[o],2),d=s[0],c=s[1];d+e>=l&&c+e>=d+e&&i>=c+e&&(t[o][0]=d+e,t[o][1]=c+e)}this.toController(t)},setRange:function(e,t){var n=[[e,t]];this.toController(n)},handleTextSubmit:function(){this.set("inputClass","input-valid");var e=this.get("rangeText");try{var t=e.split(";").map(function(e){var t=e.split("-");if(2!==t.length)throw"wrong number of ranges";return[+t[0]-1,+t[1]]});this.toController(t)}catch(n){this.set("inputClass","input-invalid")}}}})}),define("flea-app/pods/components/sequence-range-controls/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:32,column:4},end:{line:38,column:4}},moduleName:"flea-app/pods/components/sequence-range-controls/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("a");e.setAttribute(r,"class","seq-predef");var a=e.createTextNode("\n        ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n      ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1,1]),a=new Array(2);return a[0]=e.createElementMorph(r),a[1]=e.createMorphAt(r,1,1),a},statements:[["element","action",["setRange",["get","region.start",["loc",[null,[34,29],[34,41]]]],["get","region.stop",["loc",[null,[34,42],[34,53]]]]],[],["loc",[null,[34,9],[34,55]]]],["content","region.name",["loc",[null,[35,8],[35,23]]]]],locals:["region"],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:27,column:0},end:{line:41,column:0}},moduleName:"flea-app/pods/components/sequence-range-controls/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default dropdown-toggle"),e.setAttribute(r,"data-toggle","dropdown");var a=e.createTextNode("Predefined\n    ");e.appendChild(r,a);var a=e.createElement("span");e.setAttribute(a,"class","caret"),e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("ul");e.setAttribute(r,"class","dropdown-menu");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[0,3]),1,1),r},statements:[["block","each",[["get","predefinedRegions",["loc",[null,[32,12],[32,29]]]]],[],0,null,["loc",[null,[32,4],[38,13]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes","wrong-type"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:42,column:0}},moduleName:"flea-app/pods/components/sequence-range-controls/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Jump left");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-fast-backward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Move left");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-backward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("span");e.setAttribute(n,"class","input-group-addon");var r=e.createTextNode("Range");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Move right");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-forward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","input-group-btn");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("button");e.setAttribute(r,"type","button"),e.setAttribute(r,"class","btn btn-default btn-sm"),e.setAttribute(r,"title","Jump right");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("i");e.setAttribute(a,"class","fa fa-fast-forward"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0,1]),a=e.childAt(t,[2,1]),l=e.childAt(t,[8,1]),i=e.childAt(t,[10,1]),o=new Array(6);return o[0]=e.createElementMorph(r),o[1]=e.createElementMorph(a),o[2]=e.createMorphAt(t,6,6,n),o[3]=e.createElementMorph(l),o[4]=e.createElementMorph(i),o[5]=e.createMorphAt(t,12,12,n),e.insertBoundary(t,null),o},statements:[["element","action",["moveRanges",-5],[],["loc",[null,[2,10],[2,36]]]],["element","action",["moveRanges",-1],[],["loc",[null,[7,10],[7,36]]]],["inline","input",[],["type","string","class",["subexpr","concat",["form-control"," ",["subexpr","if",[["get","inputClass",[]],["subexpr","-normalize-class",["inputClass",["get","inputClass",[]]],[],[]]],[],[]]," "],[],[]],"value",["subexpr","@mut",[["get","rangeText",["loc",[null,[12,49],[12,58]]]]],[],[]],"placeholder","reference coordinate range (e.g. 160-200)","autofocus","autofocus","focus-out","handleTextSubmit","insert-newline","handleTextSubmit"],["loc",[null,[12,0],[16,2]]]],["element","action",["moveRanges",1],[],["loc",[null,[18,10],[18,35]]]],["element","action",["moveRanges",5],[],["loc",[null,[23,10],[23,35]]]],["block","if",[["get","predefinedRegions",["loc",[null,[27,6],[27,23]]]]],[],0,null,["loc",[null,[27,0],[41,7]]]]],
locals:[],templates:[e]}}())}),define("flea-app/pods/components/sequence-viewer/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){e["default"]=t["default"].Component.extend({groupedSequences:{},alnToRef:null,selectedPositions:[],selectDefault:!1,refHTML:function(){for(var e=[],t=this.get("alnToRef"),r=this.get("alnRanges"),a=0;a<r.length;a++){for(var l=-1,i=r[a][0],o=r[a][1],s=i;o>s;s++){var d=(0,n.oneIndex)(t[s]),c="";c=10>d?"  "+d:100>d?" "+d:""+d,l===d&&(c=" - ");var u="ref_coord";this.get("selectedPositions").contains(s)&&(u+=" selected_position"),c=c.split("").join("<br/>"),c+="<br/>",e.push({_class:u,dataCoord:s,html:c}),l=d}r.length>1&&a<r.length-1&&e.push({_class:"ref_coord seperator",dataCoord:"",html:"|<br/>|<br/>|"})}return e}.property("alnRanges","alnToRef","markPositive","positiveSelection","selectedPositions","selectedPositions.[]"),visiblePositiveSites:function(){for(var e=this.get("positiveSelection"),t=this.get("alnRanges"),n=[],r=0;r<e.length;r++){for(var a=[],l=e[r],i=0;i<t.length;i++)for(var o=t[i][0],s=t[i][1],d=0;d<l.length;d++){var c=l[d];if(c>=o&&s>=c&&a.push(c),c>s)break}n.push(a)}return n}.property("positiveSelection.[]","alnRanges.[]"),allSelectionStrings:function(){var e=this.get("visiblePositiveSites"),t=this.get("alnRanges"),n=_.flatten(t.map(function(e){return _.range(e[0],e[1])}));return e.map(function(e){return n.map(function(t){return e.indexOf(t)>=0?"+":"&nbsp;"}).join("")})}.property("visiblePositiveSites.[]","alnRanges.[]"),combinedSelectionString:function(){return this.get("allSelectionStrings")[0]}.property("allSelectionStrings.[]"),individualSelectionStrings:function(){var e=this.get("allSelectionStrings"),t=e.slice(1,e.length);return t}.property("allSelectionStrings.[]"),groupedAndSelected:function(){var e=this.get("groupedSequences"),t=this.get("individualSelectionStrings");return _.range(0,e.length).map(function(n){return{group:e[n],pos:t[n]}})}.property("groupedSequences.[]","individualSelectionStrings.[]"),selectAllPositive:function(){var e=this.get("visiblePositiveSites")[0];this.sendSelected(e)},sendSelected:function(e){this.sendAction("setSelectedPositions",e)},actions:{togglePosition:function(e){e=+e;var t=this.get("selectedPositions"),n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e),this.sendSelected(t.slice())},clearPositions:function(){this.sendSelected([])},selectPositiveClicked:function(){this.selectAllPositive()}}})}),define("flea-app/pods/components/sequence-viewer/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:10,column:4},end:{line:16,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("span"),r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1]),a=new Array(4);return a[0]=e.createAttrMorph(r,"class"),a[1]=e.createAttrMorph(r,"data-coord"),a[2]=e.createElementMorph(r),a[3]=e.createUnsafeMorphAt(r,1,1),a},statements:[["attribute","class",["concat",[["get","elt._class",["loc",[null,[11,19],[11,29]]]]]]],["attribute","data-coord",["concat",[["get","elt.dataCoord",["loc",[null,[12,24],[12,37]]]]]]],["element","action",["togglePosition",["get","elt.dataCoord",["loc",[null,[13,36],[13,49]]]]],[],["loc",[null,[13,10],[13,51]]]],["content","elt.html",["loc",[null,[14,6],[14,20]]]]],locals:["elt"],templates:[]}}(),t=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:22,column:4},end:{line:29,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr");e.setAttribute(n,"class","positivePositions");var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell");var a=e.createElement("span");e.setAttribute(a,"class","addwrap");var l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createUnsafeMorphAt(e.childAt(t,[1,3,0]),0,0),r},statements:[["content","combinedSelectionString",["loc",[null,[25,49],[25,78]]]]],locals:[],templates:[]}}(),n=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:31,column:4},end:{line:38,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr"),r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell");var a=e.createTextNode("Reference");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell sequence");var a=e.createElement("span");e.setAttribute(a,"class","reference");var l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1,3,0]),0,0),r},statements:[["inline","amino-acid",[["get","reference",["loc",[null,[34,73],[34,82]]]]],[],["loc",[null,[34,60],[34,84]]]]],locals:[],templates:[]}}(),r=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:47,column:4},end:{line:54,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr");e.setAttribute(n,"class","positivePositions");var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell");var a=e.createComment("");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell");var a=e.createElement("span");e.setAttribute(a,"class","addwrap");var l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell"),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[1]),a=new Array(2);return a[0]=e.createMorphAt(e.childAt(r,[1]),0,0),a[1]=e.createUnsafeMorphAt(e.childAt(r,[3,0]),0,0),a},statements:[["content","obj.group.label",["loc",[null,[49,27],[49,46]]]],["content","obj.pos",["loc",[null,[50,49],[50,62]]]]],locals:[],templates:[]}}(),t=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:56,column:6},end:{line:58,column:6}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createElement("td");e.setAttribute(n,"class","seq-cell notopborder"),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),n=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:58,column:6},end:{line:60,column:6}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createElement("td");e.setAttribute(n,"class","seq-cell");var r=e.createComment("");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),0,0),r},statements:[["content","obj.group.label",["loc",[null,[59,29],[59,48]]]]],locals:[],templates:[]}}(),r=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:63,column:10},end:{line:65,column:10}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createComment("");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),0,0),r},statements:[["inline","amino-acid",[["get","seq.sequence",["loc",[null,[64,27],[64,39]]]]],["ranges",["subexpr","@mut",[["get","seq.highlights",["loc",[null,[64,47],[64,61]]]]],[],[]],"mask",["subexpr","@mut",[["get","seq.mask",["loc",[null,[64,67],[64,75]]]]],[],[]]],["loc",[null,[64,14],[64,77]]]]],locals:["seq"],templates:[]}}(),a=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:72,column:12},end:{line:74,column:12}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("            ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["content","seq.copyNumber",["loc",[null,[73,12],[73,30]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:70,column:10},end:{line:76,column:10}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("          ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),1,1),r},statements:[["block","bootstrap-popover",[],["title","","dataContent",["subexpr","@mut",[["get","seq.html",["loc",[null,[72,54],[72,62]]]]],[],[]],"placement","right"],0,null,["loc",[null,[72,12],[74,34]]]]],locals:["seq"],templates:[e]}}(),l=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:81,column:10},end:{line:83,column:10}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("%");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),0,0),r},statements:[["inline","format-percent",[["get","seq.percent",["loc",[null,[82,31],[82,42]]]]],[],["loc",[null,[82,14],[82,44]]]]],locals:["seq"],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:45,column:4},end:{line:87,column:4}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("    ");e.appendChild(t,n);var n=e.createElement("tr"),r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("         ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell sequence");var a=e.createTextNode("\n        ");e.appendChild(r,a);var a=e.createElement("ul");e.setAttribute(a,"class","list-unstyled");var l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("        ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n      ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell");var a=e.createTextNode("\n        ");e.appendChild(r,a);var a=e.createElement("ul");e.setAttribute(a,"class","list-unstyled");var l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("        ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n      ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n      ");e.appendChild(n,r);var r=e.createElement("td");e.setAttribute(r,"class","seq-cell");var a=e.createTextNode("\n        ");e.appendChild(r,a);var a=e.createElement("ul");e.setAttribute(a,"class","list-unstyled");var l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("        ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n      ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n    ");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[3]),a=new Array(5);return a[0]=e.createMorphAt(t,1,1,n),a[1]=e.createMorphAt(r,1,1),a[2]=e.createMorphAt(e.childAt(r,[3,1]),1,1),a[3]=e.createMorphAt(e.childAt(r,[5,1]),1,1),a[4]=e.createMorphAt(e.childAt(r,[7,1]),1,1),a},statements:[["block","if",[["get","markPositive",["loc",[null,[47,10],[47,22]]]]],[],0,null,["loc",[null,[47,4],[54,11]]]],["block","if",[["get","markPositive",["loc",[null,[56,12],[56,24]]]]],[],1,2,["loc",[null,[56,6],[60,13]]]],["block","each",[["get","obj.group.sequences",["loc",[null,[63,18],[63,37]]]]],[],3,null,["loc",[null,[63,10],[65,19]]]],["block","each",[["get","obj.group.sequences",["loc",[null,[70,18],[70,37]]]]],[],4,null,["loc",[null,[70,10],[76,19]]]],["block","each",[["get","obj.group.sequences",["loc",[null,[81,18],[81,37]]]]],[],5,null,["loc",[null,[81,10],[83,19]]]]],locals:["obj"],templates:[e,t,n,r,a,l]}}();return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:90,column:0}},moduleName:"flea-app/pods/components/sequence-viewer/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("table");e.setAttribute(n,"class","table table-hover table-condensed nostretch sequence-viewer"),e.setAttribute(n,"id","sequence-viewer");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("thead"),a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("td");e.setAttribute(a,"class","seq-cell");var l=e.createTextNode("ref. coord.");e.appendChild(a,l);var l=e.createElement("br");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("div"),i=e.createTextNode("\n      ");e.appendChild(l,i);var i=e.createElement("button");e.setAttribute(i,"title","Select positive sites"),e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm");var o=e.createElement("i");e.setAttribute(o,"class","fa fa-plus"),e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i);var i=e.createElement("button");e.setAttribute(i,"title","Clear sites"),e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm");var o=e.createElement("i");e.setAttribute(o,"class","fa fa-remove"),e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("td");e.setAttribute(a,"class","seq-cell ref-coords");var l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("td");e.setAttribute(a,"class","seq-cell"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("td");e.setAttribute(a,"class","seq-cell"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("tbody"),a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("    ");e.appendChild(r,a);var a=e.createElement("tr"),l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("td");e.setAttribute(l,"class","seq-cell");var i=e.createTextNode("MRCA");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("td");e.setAttribute(l,"class","seq-cell sequence");var i=e.createElement("span");e.setAttribute(i,"class","mrca");var o=e.createComment("");e.appendChild(i,o),e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("td");e.setAttribute(l,"class","seq-cell"),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("td");e.setAttribute(l,"class","seq-cell"),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(r,[1]),l=e.childAt(a,[1,3]),i=e.childAt(l,[1]),o=e.childAt(l,[3]),s=e.childAt(r,[3]),d=new Array(7);return d[0]=e.createElementMorph(i),d[1]=e.createElementMorph(o),d[2]=e.createMorphAt(e.childAt(a,[3]),1,1),d[3]=e.createMorphAt(s,1,1),d[4]=e.createMorphAt(s,3,3),d[5]=e.createMorphAt(e.childAt(s,[5,3,0]),0,0),d[6]=e.createMorphAt(s,7,7),d},statements:[["element","action",["selectPositiveClicked"],[],["loc",[null,[5,89],[5,123]]]],["element","action",["clearPositions"],[],["loc",[null,[6,79],[6,106]]]],["block","each",[["get","refHTML",["loc",[null,[10,12],[10,19]]]]],[],0,null,["loc",[null,[10,4],[16,13]]]],["block","if",[["get","markPositive",["loc",[null,[22,10],[22,22]]]]],[],1,null,["loc",[null,[22,4],[29,11]]]],["block","if",[["get","reference",["loc",[null,[31,10],[31,19]]]]],[],2,null,["loc",[null,[31,4],[38,11]]]],["inline","amino-acid",[["get","mrca",["loc",[null,[41,68],[41,72]]]]],[],["loc",[null,[41,55],[41,74]]]],["block","each",[["get","groupedAndSelected",["loc",[null,[45,12],[45,30]]]]],[],3,null,["loc",[null,[45,4],[87,13]]]]],locals:[],templates:[e,t,n,r]}}())}),define("flea-app/pods/components/timeseries-plot/component",["exports","ember","flea-app/utils/utils"],function(e,t,n){e["default"]=t["default"].Component.extend({tagName:"svg",attributeBindings:["width","height"],width:900,height:300,legendRight:!1,interpolation:"linear",ymin:null,data:[],data2:[],_margin:{top:20,right:50,bottom:60,left:50},userColors:null,tickMap:{},margin:function(){var e=this.get("_margin"),t=this.get("seriesNames");if(this.get("legendRight")&&t.length>0){var n=Math.max.apply(null,t.map(function(e){return e.length}));e.right=20+10*n}return e}.property("seriesNames.[]","legendRight"),didInsertElement:function(){this._updateChart()},innerWidth:function(){var e=this.get("margin");return this.get("width")-e.left-e.right}.property("width","margin"),innerHeight:function(){var e=this.get("margin");return this.get("height")-e.top-e.bottom}.property("height","margin"),innerGroupTransform:function(){var e=this.get("margin");return"translate(%@, %@)".fmt(e.left,e.top)}.property("margin"),seriesNames:function(){var e=this.get("data"),t=this.get("data2"),n=e.map(function(e){return e.name}),r=t.map(function(e){return e.name});return n.concat(r)}.property("data.[].name","data2.[].name"),dates:function(){var e=this.get("data"),t=e.map(function(e){return e.values.map(function(e){return e.x})});return t=d3.set(d3.merge(t)).values(),t=t.map(function(e){return new Date(e)})}.property("data.[].values.[].x"),xDomain:function(){return d3.extent(this.get("dates"))}.property("dates.[]"),xAxisTransform:function(){return"translate(0, %@)".fmt(this.get("innerHeight"))}.property("innerHeight"),xScale:function(){var e=this.get("xDomain");e=e.map(function(e){return new Date(e)});var t=d3.time.scale().domain(e).range([0,this.get("innerWidth")]);return t}.property("innerWidth","xDomain"),_yScale:function(e){var t=d3.max(e,function(e){return d3.max(e.values,function(e){return e.y})}),n=this.get("ymin");return null===n&&(n=d3.min(e,function(e){return d3.min(e.values,function(e){return e.y})})),n===t&&(t+=1,n=Math.max(0,n-1)),d3.scale.linear().range([this.get("innerHeight"),0]).domain([n,t])},yScale:function(){return this._yScale(this.get("data"))}.property("innerHeight","data.[].values.[].y","ymin"),yScale2:function(){return this._yScale(this.get("data2"))}.property("innerHeight","data2.[].values.[].y","ymin"),yAxisTransform:function(){return"translate(%@, 0)".fmt(this.get("innerWidth"))}.property("innerHeight"),d3Line:function(){var e=this.get("xScale"),t=this.get("yScale");return d3.svg.line().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).interpolate(this.get("interpolation"))}.property("xScale","yScale","interpolation"),d3Line2:function(){var e=this.get("xScale"),t=this.get("yScale2");return d3.svg.line().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).interpolate(this.get("interpolation"))}.property("xScale","yScale2","interpolation"),xAxisFormat:function(){var e=this.get("tickMap");return function(t){return(0,n.mapIfPresent)(e,t)}}.property("tickMap"),xTickValues:function(){return this.get("dates")}.property("dates"),yAxisFormat:function(){return d3.format(".00")}.property(),colors:function(){var e=this.get("userColors");if(null!==e)return e;var t=this.get("seriesNames");return e=t.length<=10?d3.scale.category10():d3.scale.category20(),e.domain(t),e}.property("userColors","seriesNames"),_updateData:function(e,t,n){var r=d3.select("#"+this.get("elementId")).select(".inner"),a=this.get("colors"),l=r.select(n).selectAll("path").data(e,function(e){return e.name});l.enter().append("path").attr("class","timeseries_line"),l.attr("d",function(e){return t(e.values)}).style("stroke",function(e){return a(e.name)}),l.exit().remove()},_updateChart:function(){this._updateData(this.get("data"),this.get("d3Line"),".lines"),this._updateData(this.get("data2"),this.get("d3Line2"),".lines2"),this._updateLegend()},onChartChange:function(){"inDOM"===this._state&&t["default"].run.once(this,"_updateChart")}.observes("data.[].name","data.[].values.[].x","data.[].values.[].y","data2.[].name","data2.[].values.[].x","data2.[].values.[].y","seriesNames","d3Line","d3Line2","xScale","yScale","yScale2"),_updateLegend:function(){var e=this.get("seriesNames"),t=this.get("colors"),n=0,r=25,a=10;this.get("legendRight")&&(n=this.get("innerWidth"),r=10,a=6);var l={x:n,y:0,spacer:r,margin:5,font:a},i=d3.select("#"+this.get("elementId")).select(".inner").select(".legend");i.selectAll("g").remove();var o=i.append("g").attr("class","timeseries_legend").attr("x",l.x).attr("y",l.y).attr("transform","translate("+l.x+","+l.y+")"),s=o.selectAll(".legend_panel");s.data(e,function(e){return e}).enter().append("g").attr("class","legend_panel").each(function(e,n){var r=d3.select(this);r.append("rect").attr("x",l.spacer).attr("y",n*(l.spacer+l.margin)).attr("width",l.spacer).attr("height",l.spacer).style("fill",function(){return t(e)}),r.append("text").attr("x",2*l.spacer+l.font/4).attr("y",(n+1)*(l.spacer+l.margin)-l.margin-l.spacer/2+l.font/2).style("fill",function(){return t(e)}).attr("font-family","monospace").text(function(e){return e})})}})}),define("flea-app/pods/components/timeseries-plot/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:18,column:2},end:{line:24,column:2}},moduleName:"flea-app/pods/components/timeseries-plot/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("  ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["inline","graph-axis",[],["class","y axis","transform",["subexpr","@mut",[["get","yAxisTransform",["loc",[null,[20,12],[20,26]]]]],[],[]],"orient","right","scale",["subexpr","@mut",[["get","yScale2",["loc",[null,[22,8],[22,15]]]]],[],[]],"tickFormat",["subexpr","@mut",[["get","yAxisFormat",["loc",[null,[23,13],[23,24]]]]],[],[]]],["loc",[null,[19,2],[23,26]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:33,column:0}},moduleName:"flea-app/pods/components/timeseries-plot/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("g");e.setAttribute(n,"class","inner");var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","lines"),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","lines2"),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("g");e.setAttribute(r,"class","legend"),e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(4);return a[0]=e.createAttrMorph(r,"transform"),a[1]=e.createMorphAt(r,1,1),a[2]=e.createMorphAt(r,3,3),a[3]=e.createMorphAt(r,5,5),a},statements:[["attribute","transform",["concat",[["get","innerGroupTransform",["loc",[null,[1,16],[1,35]]]]]]],["inline","graph-axis",[],["class","x axis","transform",["subexpr","@mut",[["get","xAxisTransform",["loc",[null,[4,12],[4,26]]]]],[],[]],"scale",["subexpr","@mut",[["get","xScale",["loc",[null,[5,8],[5,14]]]]],[],[]],"tickFormat",["subexpr","@mut",[["get","xAxisFormat",["loc",[null,[6,13],[6,24]]]]],[],[]],"tickValues",["subexpr","@mut",[["get","xTickValues",["loc",[null,[7,13],[7,24]]]]],[],[]],"tickSize",12,"tickPadding",3,"rotate",45],["loc",[null,[3,2],[11,4]]]],["inline","graph-axis",[],["class","y axis","orient","left","scale",["subexpr","@mut",[["get","yScale",["loc",[null,[15,8],[15,14]]]]],[],[]],"tickFormat",["subexpr","@mut",[["get","yAxisFormat",["loc",[null,[16,13],[16,24]]]]],[],[]]],["loc",[null,[13,2],[16,26]]]],["block","if",[["get","data2",["loc",[null,[18,8],[18,13]]]]],[],0,null,["loc",[null,[18,2],[24,9]]]]],locals:[],templates:[e]}}())}),define("flea-app/pods/components/x-select-bootstrap/component",["exports","emberx-select/components/x-select"],function(e,t){e["default"]=t["default"].extend({classNames:["form-control"],makeMulti:!1,didInsertElement:function(){this.setInitial(),(this.get("makeMulti")||this.get("multiple"))&&this.$().multiselect()},setInitial:function(){var e=this.get("value");this.get("multiple")||(e=[e]),this.$("option").each(function(){var t=$(this);e.indexOf(t[0].value)>-1&&t.prop("selected",!0)})}})}),define("flea-app/pods/components/x-select-bootstrap-max/component",["exports","flea-app/pods/components/x-select-bootstrap/component"],function(e,t){e["default"]=t["default"].extend({maxSelected:-1,multiple:!0,didInsertElement:function(){this.setInitial(),this.$().multiselect(),this.updateDisabled()},updateDisabled:function(){var e=this.get("maxSelected");if(e>0)if(this.get("value.length")>=e){var t=this.$("option").filter(function(){return!$(this).is(":selected")});t.each(function(){var e=$('input[value="'+$(this).val()+'"]');e.prop("disabled",!0),e.parent("li").addClass("disabled")})}else this.$("option").each(function(){var e=$('input[value="'+$(this).val()+'"]');e.prop("disabled",!1),e.parent("li").removeClass("disabled")})}.observes("value.length","maxSelected")})}),define("flea-app/pods/session/controller",["exports","ember"],function(e,t){e["default"]=t["default"].Controller.extend({showTrajectory:function(){try{var e=this.get("model.runinfo.configuration.Tasks.hyphy_analysis");return"True"===e?!0:"False"===e?!1:e}catch(t){return!1}}.property("model.runinfo.configuration.Tasks.hyphy_analysis")})}),define("flea-app/pods/session/error/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:9,column:0}},moduleName:"flea-app/pods/session/error/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","error-pane");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","error-title");var a=e.createTextNode("\n    Something went wrong.\n  ");e.appendChild(r,a),
e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","error-message");var a=e.createTextNode("\n    This message will be more informative in the future. Maybe some data is missing?\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("flea-app/pods/session/gene/controller",["exports","ember","flea-app/utils/utils"],function(e,t,n){e["default"]=t["default"].Controller.extend({_metrics:["dNdS","JS Divergence","Entropy"],selectedMetric:"JS Divergence",markPositive:!0,selectedTimepointIdx:0,playing:!1,application:t["default"].inject.controller(),session:t["default"].inject.controller(),currentPath:function(){var e=this.get("application.baseURL"),t=this.get("application.currentPath"),n=this.get("session.model.session_id");return t=t.replace("session",n).replace(".","/"),e+t}.property("application.baseURL","application.currentPath","session.session_id"),metrics:function(){return this.get("model.rates.exists")?this.get("_metrics"):["JS Divergence"]}.property("model.rates.exists","_metrics"),labels:function(){var e=this.get("selectedMetric");return"dNdS"===e?["Mean dS","Mean dN"]:[e]}.property("selectedMetric"),getRate:function(e,t){var n=e.map(function(e){return e.rates.map(function(e){return e[t]})});return n},meanDS:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,0)}.property("model.rates.sortedRates.[].[]"),meanDN:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,1)}.property("model.rates.sortedRates.[].[]"),entropy:function(){var e=this.get("model.rates.sortedRates");return this.getRate(e,4)}.property("model.rates.sortedRates.[].[]"),divergence:function(){var e=this.get("model.divergence.sortedDivergence");return e.map(function(e){return e.divergence})}.property("model.divergence.sortedDivergence"),addCombined:function(){return"JS Divergence"===this.get("selectedMetric")}.property("selectedMetric"),data1:function(){var e=this.get("selectedMetric");if("Entropy"===e)return this.get("entropy");if("JS Divergence"===e)return this.get("divergence");if("dNdS"===e)return this.get("meanDS");throw"Invalid metric"}.property("selectedMetric","divergence","entropy","meanDS"),data2:function(){var e=this.get("selectedMetric");return"dNdS"===e?this.get("meanDN"):[]}.property("selectedMetric","divergence","entropy","meanDN"),structureData:function(){var e=this.get("selectedMetric");if("Entropy"===e)return this.get("entropy");if("JS Divergence"===e)return this.get("divergence");if("dNdS"===e){for(var t=this.get("meanDN"),n=this.get("meanDS"),r=[],a=0;a<t.length;a++){var l=_.zip(t[a],n[a]),i=l.map(function(e){var t=Math.log(e[0]/e[1]);return t});r.push(i)}return r}throw{name:"UnknownMetricError",message:e}}.property("model.coordinates.refToFirstAlnCoords","meanDN","meanDS","entropy","divergence","selectedTimepointIdx","selectedMetric"),selectedStructureData:function(){var e=this.get("selectedTimepointIdx");e>=this.get("names.length")&&(e=this.get("names.length")-1);var t=this.get("structureData")[e],n=this.get("model.coordinates.refToFirstAlnCoords"),r=_.map(n,function(e){return t[e]||0});return r}.property("structureData","selectedTimepointIdx"),structureDataRange:function(){var e=this.get("structureData"),t=d3.min(e,function(e){return d3.min(e)}),n=d3.max(e,function(e){return d3.max(e)});if(0>t&&n>0){var r=Math.max(Math.abs(t),n);t=-r,n=r}return[t,n]}.property("structureData"),timepoints:function(){if("JS Divergence"===this.get("selectedMetric")){var e=this.get("model.divergence.sortedDivergence");return e.map(function(e){return e.date})}var t=this.get("model.rates.sortedRates"),n=t.map(function(e){return e.date});return n}.property("model.rates.sortedRates.[].[]","selectedMetric"),names:function(){var e=this.get("timepoints"),t=this.get("model.dates"),r=e.map(function(e){return"Combined"===e?e:((0,n.isString)(e)&&(e=(0,n.parse_date)(e)),(0,n.mapIfPresent)(t,e))});return r}.property("timepoints.[]"),selectedName:function(){return this.get("names")[this.get("selectedTimepointIdx")]}.property("names","selectedTimepointIdx"),positions:function(){return this.get("markPositive")?this.get("model.rates.positiveSelection"):[]}.property("markPositive","model.rates.positiveSelection"),startPlayback:function(){this.set("timer",this.schedule(this.get("nextTimepoint"))),this.set("playing",!0)},stopPlayback:function(){t["default"].run.cancel(this.get("timer")),this.set("playing",!1)}.observes("selectedMetric"),buttonClass:function(){return this.get("playing")?"fa fa-stop":"fa fa-play"}.property("playing"),interval:function(){return 1e3}.property().readOnly(),schedule:function(e){return t["default"].run.later(this,function(){e.apply(this),this.set("timer",this.schedule(e))},this.get("interval"))},nextTimepoint:function(){var e=(this.get("selectedTimepointIdx")+1)%this.get("timepoints.length");this.set("selectedTimepointIdx",e)},actions:{togglePlayback:function(){this.get("playing")?this.stopPlayback():this.startPlayback()},selectMetric:function(e){null!=e&&this.set("selectedMetric",e)},selectTimepointIdx:function(e){null!=e&&this.set("selectedTimepointIdx",e)}}})}),define("flea-app/pods/session/gene/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({rates:this.store.find("rates",e),structure:this.store.find("structure",e),coordinates:this.store.find("coordinates",e),divergence:this.store.find("divergence",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/gene/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:26,column:8},end:{line:26,column:44}},moduleName:"flea-app/pods/session/gene/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[26,34],[26,44]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:25,column:8},end:{line:27,column:8}},moduleName:"flea-app/pods/session/gene/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("        ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[26,26],[26,32]]]]],[],[]]],0,null,["loc",[null,[26,8],[26,57]]]]],locals:["metric"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:24,column:8},end:{line:28,column:8}},moduleName:"flea-app/pods/session/gene/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","metrics",["loc",[null,[25,16],[25,23]]]]],[],0,null,["loc",[null,[25,8],[27,17]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:49,column:0}},moduleName:"flea-app/pods/session/gene/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","pv-viewer");var r=e.createTextNode("\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","form-horizontal control-group");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-1");var a=e.createTextNode("\n  ");e.appendChild(r,a);var a=e.createElement("button");e.setAttribute(a,"type","button"),e.setAttribute(a,"class","btn btn-default btn-sm"),e.setAttribute(a,"title","Toggle playback");var l=e.createTextNode("\n    ");e.appendChild(a,l);var l=e.createElement("i");e.appendChild(a,l);var l=e.createTextNode("\n  ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-9");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-2 flea-value");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("output"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createElement("label");e.setAttribute(i,"for","evo_regions");var o=e.createTextNode("Metrics(s) to plot");e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createElement("label"),o=e.createTextNode("Mark positively selected sites");e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-sm-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[2]),a=e.childAt(r,[1,1]),l=e.childAt(a,[1]),i=e.childAt(t,[4,1,1]),o=new Array(8);return o[0]=e.createMorphAt(e.childAt(t,[0]),1,1),o[1]=e.createElementMorph(a),o[2]=e.createAttrMorph(l,"class"),o[3]=e.createMorphAt(e.childAt(r,[3]),1,1),o[4]=e.createMorphAt(e.childAt(r,[5,1]),0,0),o[5]=e.createMorphAt(e.childAt(i,[1]),3,3),o[6]=e.createMorphAt(e.childAt(i,[3]),3,3),o[7]=e.createMorphAt(e.childAt(t,[6,1]),1,1),o},statements:[["inline","pv-wrapper",[],["structure",["subexpr","@mut",[["get","model.structure",["loc",[null,[2,23],[2,38]]]]],[],[]],"data",["subexpr","@mut",[["get","selectedStructureData",["loc",[null,[2,44],[2,65]]]]],[],[]],"range",["subexpr","@mut",[["get","structureDataRange",["loc",[null,[2,72],[2,90]]]]],[],[]]],["loc",[null,[2,0],[2,92]]]],["element","action",["togglePlayback"],[],["loc",[null,[7,10],[7,37]]]],["attribute","class",["concat",[["get","buttonClass",["loc",[null,[8,16],[8,27]]]]]]],["inline","range-selector",[],["values",["subexpr","@mut",[["get","timepoints",["loc",[null,[12,28],[12,38]]]]],[],[]],"selectedIdx",["subexpr","@mut",[["get","selectedTimepointIdx",["loc",[null,[12,51],[12,71]]]]],[],[]],"selectedIdxChanged","selectTimepointIdx"],["loc",[null,[12,4],[12,113]]]],["content","selectedName",["loc",[null,[15,12],[15,28]]]],["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedMetric",["loc",[null,[24,51],[24,65]]]]],[],[]],"action","selectMetric","id","gene_metrics"],0,null,["loc",[null,[24,8],[28,31]]]],["inline","input",[],["type","checkbox","name","markPositive","checked",["subexpr","@mut",[["get","markPositive",["loc",[null,[32,60],[32,72]]]]],[],[]]],["loc",[null,[32,8],[32,74]]]],["inline","gene-plots",[],["width",1140,"names",["subexpr","@mut",[["get","names",["loc",[null,[41,34],[41,39]]]]],[],[]],"data1",["subexpr","@mut",[["get","data1",["loc",[null,[41,46],[41,51]]]]],[],[]],"data2",["subexpr","@mut",[["get","data2",["loc",[null,[41,58],[41,63]]]]],[],[]],"positions",["subexpr","@mut",[["get","positions",["loc",[null,[42,14],[42,23]]]]],[],[]],"labels",["subexpr","@mut",[["get","labels",["loc",[null,[42,31],[42,37]]]]],[],[]],"url",["subexpr","@mut",[["get","currentPath",["loc",[null,[42,42],[42,53]]]]],[],[]],"addCombined",["subexpr","@mut",[["get","addCombined",["loc",[null,[43,16],[43,27]]]]],[],[]],"alnToRefCoords",["subexpr","@mut",[["get","model.coordinates.alnToRefCoords",["loc",[null,[44,19],[44,51]]]]],[],[]],"refToFirstAlnCoords",["subexpr","@mut",[["get","model.coordinates.refToFirstAlnCoords",["loc",[null,[45,24],[45,61]]]]],[],[]]],["loc",[null,[41,4],[46,6]]]]],locals:[],templates:[e]}}())}),define("flea-app/pods/session/index/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({redirect:function(){this.transitionTo("session.sequences")}})}),define("flea-app/pods/session/loading/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:14,column:0}},moduleName:"flea-app/pods/session/loading/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","loading-pane");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","loading-message");var a=e.createTextNode("\n    Fetching data from server\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","spinner");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect1"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect2"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect3"),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect4"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","rect5"),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}())}),define("flea-app/pods/session/neutralization/controller",["exports","ember","flea-app/utils/utils"],function(e,t,n){function r(e){return l(100*e)+"%"}function a(e,t,n){return t in e||(e[t]=n),e[t]}var l=d3.format(".2f");e["default"]=t["default"].Controller.extend({mabNames:function(){var e=this.get("model.neutralization"),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort(),t}.property("model.neutralization.[]"),mabFeatures:function(){for(var e=this.get("model.neutralization"),t=this.get("seqIdToDate"),n={},r=this.get("mabNames"),l=0;l<r.length;l++){var i=r[l];if(e.hasOwnProperty(i))for(var o=e[i].predictions,s=a(n,i,{}),d=0;d<o.length;d++){var c=o[d];if(c.id in t)for(var u=t[c.id],p=+c.value,m=a(s,u,{}),h=a(m,"features",[]),f=c.features,g=0;g<f.length;g++)h.push({name:f[g],value:p>0})}}return n}.property("mabName.[]","model.neutralization.[]","seqIdToDate"),sortedDates:function(){var e=this.get("model.dates"),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(new Date(n));return t.sort(function(e,t){return t>e?-1:1}),t}.property("model.dates.[]"),headerNames:function(){var e=this.get("sortedDates"),t=e.map(function(e){return(0,n.format_date)(e)});return t.splice(0,0,"mab"),t}.property("sortedDate.[]"),tableData:function(){var e=d3.interpolateRgb("white","red"),t=this.get("mabFeatures"),a=this.get("sortedDates"),l=[];for(var i in t)if(t.hasOwnProperty(i)){var o=[];o.push({value:i,style:"",html:""});for(var s=0;s<a.length;s++){var d=a[s];if(t[i].hasOwnProperty(d)){var c=t[i][d].features,u=0,p=[],m=[];c.length>0&&(p=c.filter(function(e){return e.value}),m=c.filter(function(e){return!e.value}),u=p.length/(p.length+m.length));var h=c.reduce(function(e,t){return t.name in e||(e[t.name]=[0,0]),t.value?e[t.name][1]+=1:e[t.name][0]+=1,e},{}),f=["feature","susceptible","resistant"],g=[];for(var v in h)h.hasOwnProperty(v)&&g.push([v,h[v][0],h[v][1]]);var b=e(u);o.push({value:r(u),style:"background-color: "+b,html:(0,n.htmlTable)(g,f)})}}l.push(o)}return l}.property("mabFeature.[]","sortedDate.[]"),seqIdToDate:function(){var e=this.get("model.sequences.sequences");return e.reduce(function(e,t){return e[t.id]=t.date,e},{})}.property("model.sequences.sequences.[]")})}),define("flea-app/pods/session/neutralization/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({neutralization:this.store.find("neutralization",e),sequences:this.store.find("sequences",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/neutralization/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:7,column:0}},moduleName:"flea-app/pods/session/neutralization/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row"),e.setAttribute(n,"id","neutralization");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[0,1]),1,1),r},statements:[["inline","color-table",[],["header",["subexpr","@mut",[["get","headerNames",["loc",[null,[3,25],[3,36]]]]],[],[]],"data",["subexpr","@mut",[["get","tableData",["loc",[null,[3,42],[3,51]]]]],[],[]]],["loc",[null,[3,4],[3,53]]]]],locals:[],templates:[]}}())}),define("flea-app/pods/session/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({model:function(e){return t["default"].RSVP.hash({session_id:e.session_id,runinfo:this.store.find("runinfo",e.session_id)})}})}),define("flea-app/pods/session/sequences/controller",["exports","ember","flea-app/utils/utils","flea-app/utils/parser"],function(e,t,n,r){function a(e){for(var t=0;t<e.length;t++){for(var n=e[t].sequences,r=0,a=0;a<n.length;a++)r+=n[a].copyNumber;for(var l=0;l<n.length;l++)n[l].percent=100*n[l].copyNumber/r}return e}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n].sequences.filter(function(e){return e.percent>=t});e[n].sequences=r}return e}function i(e){var t=_.groupBy(e,function(e){return e.sequence}),n=[];for(var r in t)if(t.hasOwnProperty(r)){for(var a=t[r],l=[],i=0,o=0;o<a.length;o++)l.push(a[o].ids[0]),i+=a[o].copyNumber;n.push({sequence:a[0].sequence,ids:l,copyNumber:i})}return n}function o(e){for(var t=0;t<e.length;t++)for(var r=e[t].sequences,a=0;a<r.length;a++)r[a].html=(0,n.htmlTable1D)(r[a].ids,["Sequence ID"]);return e}function s(e,t){for(var r=0;r<e.length;r++)for(var a=e[r].sequences,l=0;l<a.length;l++)a[l].highlights=(0,n.regexRanges)(t,a[l].sequence);return e}function d(e,t){for(var n=0;n<e.length;n++)for(var r=e[n].sequences,a=0;a<r.length;a++){var l=r[a];r[a].mask=l.sequence.split("").map(function(e,n){return e===t[n]})}return e}var c=function(){function e(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,l=s}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u="N[^P][ST]";e["default"]=t["default"].Controller.extend({ranges:[[159,200]],_pattern:u,pattern:u,patternDefault:u,_regex:"",patternClass:"input-valid",_threshold:1,threshold:1,markPositive:!0,defaultMaxMotifs:20,_maxMotifs:20,maxMotifs:20,_oldKeys:[],reference:function(){for(var e=this.get("model.sequences.reference"),t=this.get("model.coordinates.alnToRefCoords"),n=[e.sequence[0]],r=1;r<t.length;r++)t[r]===t[r-1]?n.push("-"):n.push(e.sequence[r]);return e.sequence=n.join(""),e}.property("model.sequences.reference","model.coordinates.alnToRefCoords"),regex:function(){this.set("patternClass","input-valid");var e=this.get("pattern");if(0===e.length)return".^";try{for(var t=[],n=r["default"].parse(e),a=0;a<n.length;a++){var l=n[a];if("amino"===l.type)t.push(l.value+l.postmod);else{var i=l.value;"^"===l.premod&&(i+="|-"),t.push("["+l.premod+i+"]"+l.postmod)}}t=t.join("-*"),new RegExp(t,"g"),this.set("_regex",t)}catch(o){this.set("patternClass","input-invalid")}return this.get("_regex")}.property("pattern"),validAlnRange:function(){return[0,this.get("model.coordinates.alnToRefCoords.length")]}.property("model.coordinates.alnToRefCoords.length"),toSlices:function(e,t){return t.map(function(t){return e.slice(t[0],t[1])}).join("|")},mrcaSlice:function(){var e=this.get("model.sequences.mrca"),t=this.get("alnRanges");return this.toSlices(e.sequence,t)}.property("model.sequences.mrca","alnRanges"),refSlice:function(){var e=this.get("reference");if(0===e.length)return"";var t=this.get("alnRanges");return this.toSlices(e.sequence,t)}.property("model.sequences.mrca","alnRanges"),groupedSequences:function(){var e=this,t=this.get("model.sequences.observedSequences"),r=this.get("model.copynumbers"),c=[],u=this.get("alnRanges"),p=this.get("mrcaSlice"),m=_.groupBy(t,function(e){return e.get("date")}),h=function(t){var n=e.toSlices(t.sequence,u),a=0;if(!(t.id in r))throw"copynumbers for sequence "+t.id+" not found";return a=r[t.id],{sequence:n,copyNumber:a,ids:[t.id]}},f=this.get("model.dates");for(var g in m)if(m.hasOwnProperty(g)){var v=m[g].map(h);v=i(v),v.sort(function(e,t){return t.copyNumber-e.copyNumber});var b=new Date(g);c.push({date:b,label:(0,n.mapIfPresent)(f,b),sequences:v})}return c.sort(function(e,t){return e.date-t.date}),c.forEach(function(e){e.date=(0,n.format_date)(e.date)}),c=a(c),c=l(c,this.get("threshold")),c=o(c),c=s(c,this.get("regex")),c=d(c,p)}.property("alnRanges","mrcaSlice","model.copynumbers","model.sequences.observedSequences.[]","regex","threshold"),sortedRanges:function(){var e=this.get("ranges");return e.sort(function(e,t){return e[0]-t[0]}),e}.property("ranges"),alnRanges:function(){var e=this.get("sortedRanges");(0,n.checkRanges)(e,this.get("model.coordinates.refRange"));var t=this.get("model.coordinates.refToFirstAlnCoords"),r=this.get("model.coordinates.refToLastAlnCoords"),a=e.map(function(e){var a=(0,n.transformIndex)(e[0],t,!1),l=(0,n.transformIndex)(e[1],r,!0);return[a,l]});return(0,n.checkRanges)(a,this.get("validAlnRange")),a}.property("ranges","model.coordinates.refToFirstAlnCoords","model.coordinates.refToLastAlnCoords"),aaTrajectories:function(){for(var e=this.get("model.sequences.observedSequences"),t=this.get("model.copynumbers"),n=this.get("model.sequences.idToMotif"),r={},a={},l=0;l<e.length;l++){var i=e[l],o=n[i.get("id")];if(r.hasOwnProperty(o)||(r[o]={}),r[o].hasOwnProperty(i.date)||(r[o][i.date]=0),!(i.id in t))throw"copynumbers for sequence "+i.id+" not found";r[o][i.date]+=t[i.id],a.hasOwnProperty(i.date)||(a[i.date]=0),a[i.date]+=t[i.id]}var s=[];for(var d in r)if(r.hasOwnProperty(d)){var c=[];for(var u in a)if(a.hasOwnProperty(u)){var p=0;r[d].hasOwnProperty(u)&&(p=r[d][u]/a[u]),c.push({x:new Date(u),y:p})}s.push({name:d,values:c})}return s}.property("model.sequences.observedSequences.[]","model.sequences.idToMotif.[]"),cappedTrajectories:function(){var e=this.get("aaTrajectories"),t=this.get("maxMotifs");if(e.length>t){for(var n=[],r=0;r<e.length;r++){var a=e[r],l=_.max(a.values.map(function(e){return e.y}));n.push({name:a.name,max:l})}n.sort(function(e,t){return t.max-e.max});for(var i=_.partition(n.map(function(e){return e.name}),function(e,n){return t-1>n}),o=i[0],s=_.partition(e,function(e){return _.includes(o,e.name)}),d=s[0],c=s[1],u=c[0].values,p=1;p<c.length;p++)for(var m=c[p].values,h=0;h<m.length;h++)u[h].y+=m[h].y;d.push({name:"other",values:u}),e=d}return e}.property("aaTrajectories","maxMotifs"),sortedDates:function(){var e=this.get("model.dates"),t=_.keys(e).map(function(e){return new Date(e)});return t.sort(function(e,t){return t>e?-1:1}),t}.property("model.dates"),trajectoryData:function(){var e=this.get("cappedTrajectories"),t=this.get("_oldKeys"),n=e.map(function(e){return e.name});this.set("_oldKeys",n);var r=e.map(function(e){var t=e.values;t.sort(function(e,t){return e.x-t.x});var n=t.map(function(e){return e.y});return n.unshift(e.name),n}),a=this.get("sortedDates"),l=["x"].concat(a);r.push(l);var i={x:"x",columns:r,unload:t,type:"spline",spline:{interpolation:{type:"monotone"}}};return i}.property("cappedTrajectories","sortedDates"),trajectoryAxis:function(){var e=this.get("model.dates");return{x:{type:"timeseries",tick:{format:function(t){return t in e?e[t]:moment(t).format("YYYY-MM-DD")}}}}}.property("sortedDates"),transition:{duration:0},tooltip:{format:{value:d3.format(".4f")}},validPredefinedRegions:function(){var e=this.get("model.coordinates.refRange"),t=c(e,2),n=t[0],r=t[1],a=this.get("model.predefinedRegions");return a.filter(function(e){return e.start>=n&&e.stop<=r})}.property("model.predefinedRegions","model.coordinates.refRange"),actions:{doPattern:function(){this.set("pattern",this.get("_pattern"))},doThreshold:function(){var e=this.get("_threshold");""===e&&(e=0),e=+e,e>=0&&100>=e&&(this.set("_threshold",e),this.set("threshold",e))},doMaxMotifs:function(){var e=this.get("_maxMotifs");""===e&&(e=this.get("defaultMaxMotifs")),e=+e,e>=1&&100>=e&&(this.set("_maxMotifs",e),this.set("maxMotifs",e))},resetPattern:function(){this.set("_pattern",this.get("patternDefault")),this.set("pattern",this.get("patternDefault"))},updateAlnRange:function(e,t){(0,n.checkRange)(t,this.get("validAlnRange"));var r=this.get("model.coordinates.alnToRefCoords"),a=this.get("sortedRanges"),l=a.slice(0);l[e]=[(0,n.transformIndex)(t[0],r,!1),(0,n.transformIndex)(t[1],r,!0)],l.sort(function(e,t){return e[0]-t[0]}),this.set("ranges",l)},setRanges:function(e){(0,n.checkRanges)(e,this.get("model.coordinates.refRange")),this.set("ranges",e)},addRange:function(e){(0,n.checkRange)(e,this.get("model.coordinates.refRange"));var t=this.get("sortedRanges").slice(0);t.push(e),this.set("ranges",t)},rmRange:function(e){var t=this.get("sortedRanges");this.set("ranges",t.filter(function(t,n){return n!==e}))},setSelectedPositions:function(e){var t=this.get("validAlnRange")[1];e&&_.every(e,function(e){return e>=0&&t>e})&&this.set("model.sequences.selectedPositions",e)}}})}),define("flea-app/pods/session/sequences/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({sequences:this.store.find("sequences",e),coordinates:this.store.find("coordinates",e),rates:this.store.find("rates",e),copynumbers:this.store.find("copynumbers",e),predefinedRegions:this.store.find("predefined-regions",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/sequences/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:88,column:0}},moduleName:"flea-app/pods/session/sequences/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("div");e.setAttribute(l,"class","input-group-btn");var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createElement("button");e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm"),e.setAttribute(i,"title","Reset pattern");var o=e.createTextNode("\n          ");e.appendChild(i,o);var o=e.createElement("i");e.setAttribute(o,"class","fa fa-undo"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var i=e.createTextNode("Threshold %");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var i=e.createTextNode("\n        Mark selected sites\n        ");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");
var i=e.createTextNode("Motifs");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("br");e.appendChild(t,n);var n=e.createTextNode("\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0,1,1]),a=e.childAt(r,[5,1]),l=new Array(9);return l[0]=e.createMorphAt(r,1,1),l[1]=e.createMorphAt(r,3,3),l[2]=e.createElementMorph(a),l[3]=e.createMorphAt(r,9,9),l[4]=e.createMorphAt(e.childAt(r,[11]),1,1),l[5]=e.createMorphAt(r,15,15),l[6]=e.createMorphAt(e.childAt(t,[4,1]),1,1),l[7]=e.createMorphAt(e.childAt(t,[6,1]),1,1),l[8]=e.createMorphAt(e.childAt(t,[8,1]),1,1),l},statements:[["inline","sequence-range-controls",[],["ranges",["subexpr","@mut",[["get","sortedRanges",["loc",[null,[4,39],[4,51]]]]],[],[]],"validRange",["subexpr","@mut",[["get","model.coordinates.refRange",["loc",[null,[5,17],[5,43]]]]],[],[]],"predefinedRegions",["subexpr","@mut",[["get","validPredefinedRegions",["loc",[null,[6,24],[6,46]]]]],[],[]],"setRanges","setRanges"],["loc",[null,[4,6],[8,8]]]],["inline","input",[],["type","text","class",["subexpr","concat",["form-control"," ",["subexpr","if",[["get","patternClass",[]],["subexpr","-normalize-class",["patternClass",["get","patternClass",[]]],[],[]]],[],[]]," "],[],[]],"value",["subexpr","@mut",[["get","_pattern",["loc",[null,[9,53],[9,61]]]]],[],[]],"placeholder","Pattern to highlight","autofocus","autofocus","focus-out","doPattern","insert-newline","doPattern"],["loc",[null,[9,6],[13,8]]]],["element","action",["resetPattern"],[],["loc",[null,[15,16],[15,41]]]],["inline","input",[],["type","number","class","form-control","value",["subexpr","@mut",[["get","_threshold",["loc",[null,[21,55],[21,65]]]]],[],[]],"min","0","max","100","step","0.01","placeholder","%","autofocus","autofocus","focus-out","doThreshold","insert-newline","doThreshold","size","1"],["loc",[null,[21,6],[26,8]]]],["inline","input",[],["type","checkbox","name","markPositive","checked",["subexpr","@mut",[["get","markPositive",["loc",[null,[29,60],[29,72]]]]],[],[]]],["loc",[null,[29,8],[29,74]]]],["inline","input",[],["type","number","class","form-control","value",["subexpr","@mut",[["get","_maxMotifs",["loc",[null,[32,55],[32,65]]]]],[],[]],"min","1","max","100","step","1","placeholder","10","autofocus","autofocus","focus-out","doMaxMotifs","insert-newline","doMaxMotifs","size","1"],["loc",[null,[32,6],[37,8]]]],["inline","c3-chart",[],["data",["subexpr","@mut",[["get","trajectoryData",["loc",[null,[45,11],[45,25]]]]],[],[]],"axis",["subexpr","@mut",[["get","trajectoryAxis",["loc",[null,[46,11],[46,25]]]]],[],[]],"transition",["subexpr","@mut",[["get","transition",["loc",[null,[47,17],[47,27]]]]],[],[]],"tooltip",["subexpr","@mut",[["get","tooltip",["loc",[null,[48,14],[48,21]]]]],[],[]]],["loc",[null,[44,4],[49,6]]]],["inline","alignment-overview",[],["alnRanges",["subexpr","@mut",[["get","alnRanges",["loc",[null,[56,14],[56,23]]]]],[],[]],"validAlnRange",["subexpr","@mut",[["get","validAlnRange",["loc",[null,[57,18],[57,31]]]]],[],[]],"markPositive",["subexpr","@mut",[["get","markPositive",["loc",[null,[58,17],[58,29]]]]],[],[]],"positiveSelection",["subexpr","@mut",[["get","model.rates.positiveSelection",["loc",[null,[59,22],[59,51]]]]],[],[]],"selectedPositions",["subexpr","@mut",[["get","model.sequences.selectedPositions",["loc",[null,[60,22],[60,55]]]]],[],[]],"predefinedRegions",["subexpr","@mut",[["get","validPredefinedRegions",["loc",[null,[61,22],[61,44]]]]],[],[]],"alnToRefCoords",["subexpr","@mut",[["get","model.coordinates.alnToRefCoords",["loc",[null,[62,19],[62,51]]]]],[],[]],"refToFirstAlnCoords",["subexpr","@mut",[["get","model.coordinates.refToFirstAlnCoords",["loc",[null,[63,24],[63,61]]]]],[],[]],"refToLastAlnCoords",["subexpr","@mut",[["get","model.coordinates.refToLastAlnCoords",["loc",[null,[64,23],[64,59]]]]],[],[]],"updateRange","updateAlnRange","setRanges","setRanges","addRange","addRange","rmRange","rmRange"],["loc",[null,[55,4],[69,6]]]],["inline","sequence-viewer",[],["groupedSequences",["subexpr","@mut",[["get","groupedSequences",["loc",[null,[75,39],[75,55]]]]],[],[]],"alnRanges",["subexpr","@mut",[["get","alnRanges",["loc",[null,[76,14],[76,23]]]]],[],[]],"mrca",["subexpr","@mut",[["get","mrcaSlice",["loc",[null,[76,29],[76,38]]]]],[],[]],"reference",["subexpr","@mut",[["get","refSlice",["loc",[null,[77,14],[77,22]]]]],[],[]],"selectedPositions",["subexpr","@mut",[["get","model.sequences.selectedPositions",["loc",[null,[78,22],[78,55]]]]],[],[]],"markPositive",["subexpr","@mut",[["get","markPositive",["loc",[null,[79,17],[79,29]]]]],[],[]],"alnToRef",["subexpr","@mut",[["get","model.coordinates.alnToRefCoords",["loc",[null,[80,13],[80,45]]]]],[],[]],"positiveSelection",["subexpr","@mut",[["get","model.rates.positiveSelection",["loc",[null,[81,22],[81,51]]]]],[],[]],"regex",["subexpr","@mut",[["get","regex",["loc",[null,[82,10],[82,15]]]]],[],[]],"selectDefault",!0,"setSelectedPositions","setSelectedPositions"],["loc",[null,[75,4],[85,6]]]]],locals:[],templates:[]}}())}),define("flea-app/pods/session/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:4,column:10},end:{line:4,column:101}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Evolutionary trajectory");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:3,column:4},end:{line:5,column:4}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createElement("li"),r=e.createComment("");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(e.childAt(t,[1]),0,0),r},statements:[["block","link-to",["session.trajectory",["get","model.session_id",["loc",[null,[4,42],[4,58]]]]],["data-toggle","tab"],0,null,["loc",[null,[4,10],[4,113]]]]],locals:[],templates:[e]}}(),t=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:6,column:8},end:{line:6,column:91}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Gene-wide information");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),n=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:7,column:8},end:{line:7,column:95}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Amino-acid sequences");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}(),r=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:8,column:8},end:{line:8,column:76}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("Trees");return e.appendChild(t,n),t},buildRenderNodes:function(){return[]},statements:[],locals:[],templates:[]}}();return{meta:{fragmentReason:{name:"triple-curlies"},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:14,column:0}},moduleName:"flea-app/pods/session/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","container"),e.setAttribute(n,"id","allofit");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("ul");e.setAttribute(r,"class","nav nav-tabs");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("    ");e.appendChild(r,a);var a=e.createElement("li"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("li"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("li"),l=e.createComment("");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r);var r=e.createComment("");e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(r,[1]),l=new Array(5);return l[0]=e.createMorphAt(a,1,1),l[1]=e.createMorphAt(e.childAt(a,[3]),0,0),l[2]=e.createMorphAt(e.childAt(a,[5]),0,0),l[3]=e.createMorphAt(e.childAt(a,[7]),0,0),l[4]=e.createMorphAt(r,3,3),l},statements:[["block","if",[["get","showTrajectory",["loc",[null,[3,10],[3,24]]]]],[],0,null,["loc",[null,[3,4],[5,11]]]],["block","link-to",["session.gene",["get","model.session_id",["loc",[null,[6,34],[6,50]]]]],["data-toggle","tab"],1,null,["loc",[null,[6,8],[6,103]]]],["block","link-to",["session.sequences",["get","model.session_id",["loc",[null,[7,39],[7,55]]]]],["data-toggle","tab"],2,null,["loc",[null,[7,8],[7,107]]]],["block","link-to",["session.trees",["get","model.session_id",["loc",[null,[8,35],[8,51]]]]],["data-toggle","tab"],3,null,["loc",[null,[8,8],[8,88]]]],["content","outlet",["loc",[null,[11,0],[11,10]]]]],locals:[],templates:[e,t,n,r]}}())}),define("flea-app/pods/session/trajectory/controller",["exports","ember"],function(e,t){function n(e,t,n){if(1===n.length)return r(e,t,n[0]);if(1===t.length)return a(e,t[0],n);throw"Must use either single region or single metric"}function r(e,t,n){for(var r=[],a=0;a<t.length;a++){for(var l=t[a],i={name:l},o=[],s=0;s<e.length;s++)if(l===e[s].Segment){var d={x:e[s].Date,y:e[s][n]};o.push(d)}o.sort(function(e,t){return e.x-t.x}),i.values=o,r.push(i)}return r}function a(e,t,n){for(var r=[],a=0;a<n.length;a++){for(var l=n[a],i={name:l},o=[],s=0;s<e.length;s++)if(t===e[s].Segment){var d={x:e[s].Date,y:e[s][l]};o.push(d)}o.sort(function(e,t){return e.x-t.x}),i.values=o,r.push(i)}return r}e["default"]=t["default"].Controller.extend({regions:["gp160","signal","c1","v1","v2","c2","v3","c3","v4","c4","v5","c5","fusion","gp41ecto","mper","gp41endo"],selectedRegions:["gp160"],evoMetrics:["ds_divergence","dn_divergence","total_divergence","ds_diversity","dn_diversity","total_diversity"],selectedEvoMetrics:["ds_divergence","dn_divergence","total_divergence","total_diversity"],phenoMetrics:["Length","PNGS","IsoelectricPoint"],selectedPhenoMetrics:["Length","PNGS"],maxRegions:function(){var e=this.get("selectedEvoMetrics.length")>1||this.get("selectedPhenoMetrics.length")>1;return e?1:10}.property("selectedEvoMetrics.length","selectedPhenoMetrics.length"),multipleRegions:function(){return this.get("maxRegions")>1}.property("maxRegions"),maxEvoMetrics:function(){var e=this.get("selectedRegions.length")>1;return e?1:4}.property("selectedRegions.length"),multipleEvoMetrics:function(){return this.get("maxEvoMetrics")>1}.property("maxEvoMetrics"),maxPhenoMetrics:function(){var e=this.get("selectedRegions.length")>1;return e?1:2}.property("selectedRegions.length"),multiplePhenoMetrics:function(){return this.get("maxPhenoMetrics")>1}.property("maxPhenoMetrics"),evoData:function(){var e=this.get("model.trajectory"),t=this.get("selectedRegions"),r=this.get("selectedEvoMetrics");return n(e,t,r)}.property("model.trajectory","selectedRegions.[]","selectedEvoMetrics.[]"),_phenoData:function(e){var t=this.get("model.trajectory"),r=this.get("selectedRegions"),l=this.get("selectedPhenoMetrics");return r.length>1?n(t,r,l):l.length>1?a(t,r[0],[l[e]]):a(t,r[0],l)},phenoData:function(){var e=this._phenoData(0);return e}.property("model.trajectory","selectedRegions.[]","selectedPhenoMetrics.[]"),phenoData2:function(){var e=[];return this.get("selectedPhenoMetrics.length")>1&&(e=this._phenoData(1)),e}.property("model.trajectory","selectedRegions.[]","selectedPhenoMetrics.[]"),handleSelection:function(e,t){null!=t&&(("string"==typeof t||t instanceof String)&&(t=[t]),this.set(e,t))},actions:{selectRegions:function(e){this.handleSelection("selectedRegions",e)},selectEvoMetrics:function(e){this.handleSelection("selectedEvoMetrics",e)},selectPhenoMetrics:function(e){this.handleSelection("selectedPhenoMetrics",e)}}})}),define("flea-app/pods/session/trajectory/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({dates:this.store.find("dates",e),trajectory:this.store.find("trajectory",e)})}})}),define("flea-app/pods/session/trajectory/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:10,column:10},end:{line:10,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","region",["loc",[null,[10,36],[10,46]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:9,column:8},end:{line:11,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","region",["loc",[null,[10,28],[10,34]]]]],[],[]]],0,null,["loc",[null,[10,10],[10,59]]]]],locals:["region"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:7,column:6},end:{line:12,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","regions",["loc",[null,[9,16],[9,23]]]]],[],0,null,["loc",[null,[9,8],[11,17]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:6,column:4},end:{line:13,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap-max",[],["multiple",!0,"value",["subexpr","@mut",[["get","selectedRegions",["loc",[null,[7,52],[7,67]]]]],[],[]],"maxSelected",["subexpr","@mut",[["get","maxRegions",["loc",[null,[7,80],[7,90]]]]],[],[]],"action","selectRegions","id","evo_regions"],0,null,["loc",[null,[7,6],[12,33]]]]],locals:[],templates:[e]}}(),t=function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:17,column:10},end:{line:17,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","region",["loc",[null,[17,36],[17,46]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:16,column:8},end:{line:18,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","region",["loc",[null,[17,28],[17,34]]]]],[],[]]],0,null,["loc",[null,[17,10],[17,59]]]]],locals:["region"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:14,column:6},end:{line:19,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","regions",["loc",[null,[16,16],[16,23]]]]],[],0,null,["loc",[null,[16,8],[18,17]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:13,column:4},end:{line:20,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedRegions",["loc",[null,[14,49],[14,64]]]]],[],[]],"action","selectRegions","id","evo_regions"],0,null,["loc",[null,[14,6],[19,29]]]]],locals:[],templates:[e]}}(),n=function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:31,column:10},end:{line:31,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[31,36],[31,46]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:30,column:8},end:{line:32,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[31,28],[31,34]]]]],[],[]]],0,null,["loc",[null,[31,10],[31,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:28,column:6},end:{line:33,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","evoMetrics",["loc",[null,[30,16],[30,26]]]]],[],0,null,["loc",[null,[30,8],[32,17]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:27,column:4},end:{line:34,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap-max",[],["multiple",!0,"value",["subexpr","@mut",[["get","selectedEvoMetrics",["loc",[null,[28,52],[28,70]]]]],[],[]],"maxSelected",["subexpr","@mut",[["get","maxEvoMetrics",["loc",[null,[28,83],[28,96]]]]],[],[]],"action","selectEvoMetrics","id","evo_metrics"],0,null,["loc",[null,[28,6],[33,33]]]]],locals:[],templates:[e]}}(),r=function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:38,column:10},end:{line:38,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[38,36],[38,46]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:37,column:8},end:{line:39,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[38,28],[38,34]]]]],[],[]]],0,null,["loc",[null,[38,10],[38,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:35,column:6},end:{line:40,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","evoMetrics",["loc",[null,[37,16],[37,26]]]]],[],0,null,["loc",[null,[37,8],[39,17]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:34,column:4},end:{line:41,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedEvoMetrics",["loc",[null,[35,49],[35,67]]]]],[],[]],"action","selectEvoMetrics","id","evo_metrics"],0,null,["loc",[null,[35,6],[40,29]]]]],locals:[],templates:[e]}}(),a=function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:61,column:10},end:{line:61,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[61,36],[61,46]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:60,column:8},end:{line:62,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[61,28],[61,34]]]]],[],[]]],0,null,["loc",[null,[61,10],[61,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:58,column:6},end:{line:63,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","phenoMetrics",["loc",[null,[60,16],[60,28]]]]],[],0,null,["loc",[null,[60,8],[62,17]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:57,column:4},end:{line:64,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap-max",[],["multiple",!0,"value",["subexpr","@mut",[["get","selectedPhenoMetrics",["loc",[null,[58,52],[58,72]]]]],[],[]],"maxSelected",["subexpr","@mut",[["get","maxPhenoMetrics",["loc",[null,[58,85],[58,100]]]]],[],[]],"action","selectPhenoMetrics","id","pheno_metrics"],0,null,["loc",[null,[58,6],[63,33]]]]],locals:[],templates:[e]}}(),l=function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:68,column:10},end:{line:68,column:46}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","metric",["loc",[null,[68,36],[68,46]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:67,column:8},end:{line:69,column:8}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("          ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","metric",["loc",[null,[68,28],[68,34]]]]],[],[]]],0,null,["loc",[null,[68,10],[68,59]]]]],locals:["metric"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:65,column:6},end:{line:70,column:6}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","phenoMetrics",["loc",[null,[67,16],[67,28]]]]],[],0,null,["loc",[null,[67,8],[69,17]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:64,column:4},end:{line:71,column:4}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","x-select-bootstrap",[],["makeMulti",!0,"value",["subexpr","@mut",[["get","selectedPhenoMetrics",["loc",[null,[65,49],[65,69]]]]],[],[]],"action","selectPhenoMetrics","id","pheno_metrics"],0,null,["loc",[null,[65,6],[70,29]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes"]
},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:80,column:0}},moduleName:"flea-app/pods/session/trajectory/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","form-inline");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","evo_regions");var l=e.createTextNode("Region(s) to plot");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","evo_metrics");var l=e.createTextNode("Evolutionary metrics");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","form-inline");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("label");e.setAttribute(a,"for","_pheno_metrics");var l=e.createTextNode("Phenotype metrics");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","form-group");var a=e.createTextNode("\n");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=new Array(5);return a[0]=e.createMorphAt(e.childAt(r,[3]),1,1),a[1]=e.createMorphAt(e.childAt(r,[7]),1,1),a[2]=e.createMorphAt(e.childAt(t,[2,1]),1,1),a[3]=e.createMorphAt(e.childAt(t,[4,3]),1,1),a[4]=e.createMorphAt(e.childAt(t,[6,1]),1,1),a},statements:[["block","if",[["get","multipleRegions",["loc",[null,[6,10],[6,25]]]]],[],0,1,["loc",[null,[6,4],[20,11]]]],["block","if",[["get","multipleEvoMetrics",["loc",[null,[27,10],[27,28]]]]],[],2,3,["loc",[null,[27,4],[41,11]]]],["inline","timeseries-plot",[],["width",900,"height",350,"data",["subexpr","@mut",[["get","evoData",["loc",[null,[48,48],[48,55]]]]],[],[]],"ymin",0,"tickMap",["subexpr","@mut",[["get","model.dates",["loc",[null,[48,71],[48,82]]]]],[],[]]],["loc",[null,[48,4],[48,84]]]],["block","if",[["get","multiplePhenoMetrics",["loc",[null,[57,10],[57,30]]]]],[],4,5,["loc",[null,[57,4],[71,11]]]],["inline","timeseries-plot",[],["width",900,"height",350,"data",["subexpr","@mut",[["get","phenoData",["loc",[null,[77,48],[77,57]]]]],[],[]],"data2",["subexpr","@mut",[["get","phenoData2",["loc",[null,[77,64],[77,74]]]]],[],[]],"tickMap",["subexpr","@mut",[["get","model.dates",["loc",[null,[77,83],[77,94]]]]],[],[]]],["loc",[null,[77,4],[77,96]]]]],locals:[],templates:[e,t,n,r,a,l]}}())}),define("flea-app/pods/session/trees/controller",["exports","ember","flea-app/utils/utils"],function(e,t,n){e["default"]=t["default"].Controller.extend({_genomicRegion:"",_timePoint:"",_distanceMeasure:"",nodeNameTypes:["label","seq_id","motif","none"],nodeNameType:"label",showCopynumber:!0,overlapNodes:!0,rankColors:!1,radialLayout:!1,sortState:"ascending",heightScale:1,hideCopynumber:t["default"].computed.not("showCopynumber"),nestedTrees:function(){for(var e=this.get("model.trees"),t={},r=this.get("model.dates"),a=0;a<e.length;a++){var l=e[a],i=l.date;"Combined"!==i&&(i=(0,n.mapIfPresent)(r,i)),(0,n.insertNested)(t,[i,l.region,l.distance],l.tree)}return t}.property("model.trees.[]"),timePoints:function(){var e=this.get("nestedTrees"),t=Object.keys(e),n=t.indexOf("Combined");return n>0&&t.splice(0,0,t.splice(n,1)[0]),t}.property("nestedTrees"),genomicRegions:function(){var e=this.get("nestedTrees"),t=this.get("timePoint");return Object.keys(e[t])}.property("nestedTrees","timePoint"),distanceMeasures:function(){var e=this.get("nestedTrees"),t=this.get("timePoint"),n=this.get("genomicRegion");return Object.keys(e[t][n])}.property("nestedTrees","genomicRegion","timePoint"),handleGet:function(e){var t=this.get("_"+e),n=this.get(e+"s");return _.includes(n,t)?t:n[0]},handleSet:function(e,t){var n=this.get(e+"s");return _.includes(n,t)?(this.set("_"+e,t),t):(this.set("_"+e,n[0]),n[0])},genomicRegion:t["default"].computed("genomicRegions","_genomicRegion",{get:function(){return this.handleGet("genomicRegion")},set:function(e,t){return this.handleSet("genomicRegion",t)}}),timePoint:t["default"].computed("timePoints","_timePoint",{get:function(){return this.handleGet("timePoint")},set:function(e,t){return this.handleSet("timePoint",t)}}),distanceMeasure:t["default"].computed("distanceMeasures","_distanceMeasure",{get:function(){return this.handleGet("distanceMeasure")},set:function(e,t){return this.handleSet("distanceMeasure",t)}}),tree:function(){var e=this.get("timePoint"),t=this.get("genomicRegion"),n=this.get("distanceMeasure"),r=this.get("nestedTrees")[e][t][n];return r}.property("nestedTrees","genomicRegion","timePoints","distanceMeasure"),seqIdToProperty:function(e,t){return e.reduce(function(e,n){return e[n.get("id")]=n.get(t),e},{})},seqIdToDate:function(){return this.seqIdToProperty(this.get("model.sequences.observedAndMrca"),"date")}.property("model.sequences.observedAndMrca.[]"),seqIdToNodeName:function(){var e={},t=this.get("nodeNameType"),r=this.get("model.sequences.observedAndMrca");if("label"===t)for(var a=this.get("seqIdToDate"),l=this.get("model.dates"),i=0;i<r.length;i++){var o=r[i].get("id");try{e[o]=(0,n.mapIfPresent)(l,a[o])}catch(s){e[o]=o}}else if("seq_id"===t)e=this.seqIdToProperty(r,"id");else if("motif"===t)e=this.get("model.sequences.idToMotif");else{if("none"!==t)throw"unknown node name type: "+t;e=_.zipObject(r.map(function(e){return[e.get("id"),""]}))}return e}.property("model.sequences.observedAndMrca.[]","model.sequences.idToMotif.[]","seqIdToDate","nodeNameType"),colorScale:function(){var e=this.get("seqIdToDate");delete e.mrca;var t,n,r=_.values(e);if(this.get("rankColors")){var a=_.uniq(r,function(e){return e.toString()}).sort(function(e,t){return e-t});n=a.length,t=d3.scale.ordinal().domain(a).range(_.range(a.length))}else n=1,t=d3.time.scale().domain(d3.extent(r)).range([0,1]);var l=["red","orange","yellow","green","blue","indigo"],i=n/(l.length-1),o=d3.range(0,n+i/2,i),s=d3.scale.linear().domain(o).range(l).interpolate(d3.interpolateLab);return function(e){return s(t(e))}}.property("seqIdToDate","rankColors"),motifColorScale:function(){var e,t=this.get("model.sequences.idToMotif"),n=_.uniq(_.values(t)).sort();return e=n.length>10?d3.scale.category20():d3.scale.category10(),e.domain(n)}.property("model.sequences.idToMotif[]"),colorMap:function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n},seqIdToNodeColor:function(){var e=this.get("seqIdToDate"),t=this.get("colorScale");return this.colorMap(e,t)}.property("seqIdToDate","colorScale"),seqIdToTextColor:function(){if("motif"===this.get("nodeNameType")){var e=this.get("model.sequences.idToMotif"),t=this.get("motifColorScale");return this.colorMap(e,t)}return null}.property("seqIdToDate","colorScale","nodeNameType"),actions:{setSortState:function(e){this.set("sortState",e)},selectGenomicRegion:function(e){null!=e&&this.set("genomicRegion",e)},selectTimePoint:function(e){null!=e&&this.set("timePoint",e)},selectDistanceMeasure:function(e){null!=e&&this.set("distanceMeasure",e)},selectNodeNameType:function(e){null!=e&&this.set("nodeNameType",e)}}})}),define("flea-app/pods/session/trees/route",["exports","ember"],function(e,t){e["default"]=t["default"].Route.extend({model:function(){var e=this.modelFor("session").session_id;return t["default"].RSVP.hash({trees:this.store.find("trees",e),copynumbers:this.store.find("copynumbers",e),sequences:this.store.find("sequences",e),dates:this.store.find("dates",e)})}})}),define("flea-app/pods/session/trees/template",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){var e=function(){var e=function(){var e=function(){return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:48,column:6},end:{line:48,column:46}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["content","nameType",["loc",[null,[48,34],[48,46]]]]],locals:[],templates:[]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:47,column:6},end:{line:49,column:6}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:1,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createTextNode("      ");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,1,1,n),r},statements:[["block","x-option",[],["value",["subexpr","@mut",[["get","nameType",["loc",[null,[48,24],[48,32]]]]],[],[]]],0,null,["loc",[null,[48,6],[48,59]]]]],locals:["nameType"],templates:[e]}}();return{meta:{fragmentReason:!1,revision:"Ember@2.4.2",loc:{source:null,start:{line:46,column:6},end:{line:50,column:6}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createComment("");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,0,0,n),e.insertBoundary(t,0),e.insertBoundary(t,null),r},statements:[["block","each",[["get","nodeNameTypes",["loc",[null,[47,14],[47,27]]]]],[],0,null,["loc",[null,[47,6],[49,15]]]]],locals:[],templates:[e]}}();return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:71,column:0}},moduleName:"flea-app/pods/session/trees/template.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-4");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","btn-toolbar"),e.setAttribute(a,"role","toolbar");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("div");e.setAttribute(l,"class","btn-group");var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createElement("button");e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm"),e.setAttribute(i,"id","sort_ascending"),e.setAttribute(i,"title","Sort deepest clades to the bottom");var o=e.createTextNode("\n          ");e.appendChild(i,o);var o=e.createElement("i");e.setAttribute(o,"class","fa fa-sort-amount-asc"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createElement("button");e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm"),e.setAttribute(i,"id","sort_descending"),e.setAttribute(i,"title","Sort deepest clades to the top");var o=e.createTextNode("\n          ");e.appendChild(i,o);var o=e.createElement("i");e.setAttribute(o,"class","fa fa-sort-amount-desc"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createElement("button");e.setAttribute(i,"type","button"),e.setAttribute(i,"class","btn btn-default btn-sm"),e.setAttribute(i,"id","sort_original"),e.setAttribute(i,"title","Restore original order");var o=e.createTextNode("\n          ");e.appendChild(i,o);var o=e.createElement("i");e.setAttribute(o,"class","fa fa-sort"),e.appendChild(i,o);var o=e.createTextNode("\n        ");e.appendChild(i,o),e.appendChild(l,i);var i=e.createTextNode("\n        ");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-8 pull-right");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createElement("div");e.setAttribute(a,"class","input-group input-group-sm");var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Show copynumber");var i=e.createTextNode("\n        Show copynumber\n        ");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Overlap nodes");var i=e.createTextNode("\n        Overlap nodes\n        ");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Change to radial layout");var i=e.createTextNode("\n        Radial layout\n        ");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon"),e.setAttribute(l,"title","Use rank colors");var i=e.createTextNode("\n        Rank colors\n        ");e.appendChild(l,i);var i=e.createComment("");e.appendChild(l,i);var i=e.createTextNode("\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n      ");e.appendChild(a,l);var l=e.createElement("span");e.setAttribute(l,"class","input-group-addon");var i=e.createTextNode("\n        Node names\n      ");e.appendChild(l,i),e.appendChild(a,l);var l=e.createTextNode("\n");e.appendChild(a,l);var l=e.createComment("");e.appendChild(a,l);var l=e.createTextNode("    ");e.appendChild(a,l),e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createElement("div");e.setAttribute(n,"class","row");var r=e.createTextNode("\n  ");e.appendChild(n,r);var r=e.createElement("div");e.setAttribute(r,"class","col-md-12"),e.setAttribute(r,"id","_tree_enclosure");var a=e.createTextNode("\n    ");e.appendChild(r,a);var a=e.createComment("");e.appendChild(r,a);var a=e.createTextNode("\n  ");e.appendChild(r,a),e.appendChild(n,r);var r=e.createTextNode("\n");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=e.childAt(t,[0]),a=e.childAt(r,[1,1,1]),l=e.childAt(a,[1]),i=e.childAt(a,[3]),o=e.childAt(a,[5]),s=e.childAt(r,[3,1]),d=new Array(10);return d[0]=e.createElementMorph(l),d[1]=e.createElementMorph(i),d[2]=e.createElementMorph(o),d[3]=e.createMorphAt(a,7,7),d[4]=e.createMorphAt(e.childAt(s,[1]),1,1),d[5]=e.createMorphAt(e.childAt(s,[3]),1,1),d[6]=e.createMorphAt(e.childAt(s,[5]),1,1),d[7]=e.createMorphAt(e.childAt(s,[7]),1,1),d[8]=e.createMorphAt(s,11,11),d[9]=e.createMorphAt(e.childAt(t,[2,1]),1,1),d},statements:[["element","action",["setSortState","ascending"],[],["loc",[null,[6,58],[6,95]]]],["element","action",["setSortState","descending"],[],["loc",[null,[10,55],[10,93]]]],["element","action",["setSortState","original"],[],["loc",[null,[14,47],[14,83]]]],["inline","input",[],["type","range","id","vertical-spacing","min","0.1","value",["subexpr","@mut",[["get","heightScale",["loc",[null,[17,67],[17,78]]]]],[],[]],"max","1","step","0.1"],["loc",[null,[17,8],[17,99]]]],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","showCopynumber",["loc",[null,[26,40],[26,54]]]]],[],[]]],["loc",[null,[26,8],[26,56]]]],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","overlapNodes",["loc",[null,[31,40],[31,52]]]]],[],[]],"disabled",["subexpr","@mut",[["get","hideCopynumber",["loc",[null,[31,62],[31,76]]]]],[],[]]],["loc",[null,[31,8],[31,78]]]],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","radialLayout",["loc",[null,[36,40],[36,52]]]]],[],[]]],["loc",[null,[36,8],[36,54]]]],["inline","input",[],["type","checkbox","checked",["subexpr","@mut",[["get","rankColors",["loc",[null,[41,40],[41,50]]]]],[],[]]],["loc",[null,[41,8],[41,52]]]],["block","x-select-bootstrap",[],["value",["subexpr","@mut",[["get","nodeNameType",["loc",[null,[46,34],[46,46]]]]],[],[]],"action","selectNodeNameType"],0,null,["loc",[null,[46,6],[50,29]]]],["inline","phylotree-widget",[],["tree",["subexpr","@mut",[["get","tree",["loc",[null,[57,28],[57,32]]]]],[],[]],"copynumbers",["subexpr","@mut",[["get","model.copynumbers",["loc",[null,[58,16],[58,33]]]]],[],[]],"sortState",["subexpr","@mut",[["get","sortState",["loc",[null,[59,14],[59,23]]]]],[],[]],"do_copy_number",!0,"seqIdToNodeName",["subexpr","@mut",[["get","seqIdToNodeName",["loc",[null,[61,20],[61,35]]]]],[],[]],"seqIdToNodeColor",["subexpr","@mut",[["get","seqIdToNodeColor",["loc",[null,[62,21],[62,37]]]]],[],[]],"seqIdToTextColor",["subexpr","@mut",[["get","seqIdToTextColor",["loc",[null,[63,21],[63,37]]]]],[],[]],"radialLayout",["subexpr","@mut",[["get","radialLayout",["loc",[null,[64,17],[64,29]]]]],[],[]],"showCopynumber",["subexpr","@mut",[["get","showCopynumber",["loc",[null,[65,19],[65,33]]]]],[],[]],"overlapNodes",["subexpr","@mut",[["get","overlapNodes",["loc",[null,[66,17],[66,29]]]]],[],[]],"heightScale",["subexpr","@mut",[["get","heightScale",["loc",[null,[67,16],[67,27]]]]],[],[]]],["loc",[null,[57,4],[68,6]]]]],locals:[],templates:[e]}}())}),define("flea-app/pods/store/model",["exports","ember"],function(e,t){var n={};e["default"]=t["default"].Object.extend({find:function(e,t){var r=t+e;if(n[r])return n[r];var a=this.container.lookup("adapter:"+e);return a.find(t).then(function(e){return n[r]=e,e})}})}),define("flea-app/resolver",["exports","ember-resolver"],function(e,t){e["default"]=t["default"]}),define("flea-app/router",["exports","ember","flea-app/config/environment"],function(e,t,n){var r=t["default"].Router.extend({location:n["default"].locationType,baseURL:n["default"].baseURL,rootURL:"/"});r.map(function(){this.route("session",{path:"/:session_id"},function(){this.route("trajectory",{path:"/trajectory"}),this.route("gene",{path:"/gene"}),this.route("sequences",{path:"/sequences"}),this.route("trees",{path:"/trees"})})}),e["default"]=r}),define("flea-app/services/ajax",["exports","ember-ajax/services/ajax"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t["default"]}})}),define("flea-app/templates/application",["exports"],function(e){e["default"]=Ember.HTMLBars.template(function(){return{meta:{fragmentReason:{name:"missing-wrapper",problems:["multiple-nodes","wrong-type"]},revision:"Ember@2.4.2",loc:{source:null,start:{line:1,column:0},end:{line:4,column:0}},moduleName:"flea-app/templates/application.hbs"},isEmpty:!1,arity:0,cachedFragment:null,hasRendered:!1,buildFragment:function(e){var t=e.createDocumentFragment(),n=e.createElement("h2");e.setAttribute(n,"id","title");var r=e.createTextNode("Welcome to Ember");e.appendChild(n,r),e.appendChild(t,n);var n=e.createTextNode("\n\n");e.appendChild(t,n);var n=e.createComment("");e.appendChild(t,n);var n=e.createTextNode("\n");return e.appendChild(t,n),t},buildRenderNodes:function(e,t,n){var r=new Array(1);return r[0]=e.createMorphAt(t,2,2,n),r},statements:[["content","outlet",["loc",[null,[3,0],[3,10]]]]],locals:[],templates:[]}}())}),define("flea-app/templates/components/x-select",["exports","emberx-select/templates/components/x-select"],function(e,t){Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t["default"]}})}),define("flea-app/utils/parser",["exports"],function(e){var t=function(){function e(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function t(e,t,n,r,a,l){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=a,this.column=l,this.name="SyntaxError"}function n(e){function n(t){function n(t,n,r){var a,l;for(a=n;r>a;a++)l=e.charAt(a),"\n"===l?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===l||"\u2028"===l||"\u2029"===l?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}return q!==t&&(q>t&&(q=0,P={line:1,column:1,seenCR:!1}),n(P,q,t),q=t),P}function r(e){D>k||(k>D&&(D=k,j=[]),j.push(e))}function a(r,a,l){function i(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function o(e,t){function n(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var r,a,l,i=new Array(e.length);for(l=0;l<e.length;l++)i[l]=e[l].description;return r=e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0],a=t?'"'+n(t)+'"':"end of input","Expected "+r+" but "+a+" found."}var s=n(l),d=l<e.length?e.charAt(l):null;return null!==a&&i(a),new t(null!==r?r:o(a,d),a,d,l,s.line,s.column)}function l(){var e,t;if(e=[],t=i(),t!==m)for(;t!==m;)e.push(t),t=i();else e=g;return e}function i(){var e;return e=o(),e===m&&(e=s()),e}function o(){var t,n,a;return t=k,v.test(e.charAt(k))?(n=e.charAt(k),k++):(n=m,0===I&&r(b)),n!==m?(a=c(),a!==m?(S=t,n=x(n,a),t=n):(k=t,t=g)):(k=t,t=g),t}function s(){var t,n,a,l,i,o;if(t=k,91===e.charCodeAt(k)?(n=C,k++):(n=m,0===I&&r(y)),n!==m)if(a=d(),a!==m){if(l=[],v.test(e.charAt(k))?(i=e.charAt(k),k++):(i=m,0===I&&r(b)),i!==m)for(;i!==m;)l.push(i),v.test(e.charAt(k))?(i=e.charAt(k),k++):(i=m,0===I&&r(b));else l=g;l!==m?(93===e.charCodeAt(k)?(i=N,k++):(i=m,0===I&&r(T)),i!==m?(o=c(),o!==m?(S=t,n=A(a,l,o),t=n):(k=t,t=g)):(k=t,t=g)):(k=t,t=g)}else k=t,t=g;else k=t,t=g;return t}function d(){var t,n;return t=k,E.test(e.charAt(k))?(n=e.charAt(k),k++):(n=m,0===I&&r(w)),n===m&&(n=R),n!==m&&(S=t,n=M(n)),t=n}function c(){var t,n;return t=k,F.test(e.charAt(k))?(n=e.charAt(k),k++):(n=m,0===I&&r(_)),n===m&&(n=R),n!==m&&(S=t,n=M(n)),t=n}var u,p=arguments.length>1?arguments[1]:{},m={},h={start:l},f=l,g=m,v=/^[A-Z]/,b={type:"class",value:"[A-Z]",description:"[A-Z]"},x=function(e,t){return{type:"amino",value:e,postmod:t}},C="[",y={type:"literal",value:"[",description:'"["'},N="]",T={type:"literal",value:"]",description:'"]"'},A=function(e,t,n){return{type:"include",value:t.join(""),premod:e,postmod:n}},R=null,E=/^[\S\s]/,w={type:"class",value:"[^]",description:"[^]"},M=function(e){return e?e:""},F=/^[*+]/,_={type:"class",value:"[*+]",description:"[*+]"},k=0,S=0,q=0,P={line:1,column:1,seenCR:!1},D=0,j=[],I=0;if("startRule"in p){if(!(p.startRule in h))throw new Error("Can't start parsing from rule \""+p.startRule+'".');f=h[p.startRule]}if(u=f(),u!==m&&k===e.length)return u;throw u!==m&&k<e.length&&r({type:"end",description:"end of input"}),a(null,j,D)}return e(t,Error),{SyntaxError:t,parse:n}}();e["default"]=t}),define("flea-app/utils/utils",["exports"],function(e){var t=function(){function e(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,l=s}finally{try{!r&&o["return"]&&o["return"]()}finally{if(a)throw l}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(e){return Object.prototype.toString.call(e).slice(8,-1)},r=function(e){return"Object"===n(e)};e.isDate=r;var a=function(e){return"String"===n(e)};e.isString=a;var l=d3.time.format("%Y%m%d").parse;e.parse_date=l;var i=d3.time.format("%B %Y");e.format_date=i;var o=function(e,t){return s(e.map(function(e){return[e]}),t)};e.htmlTable1D=o;var s=function(e,t){if(0===e.length)return"<table></table>";var n='<table class="table-striped table table-hover">';if(t){n+="<thead>",n+="<trow>";for(var r=0;r<t.length;r++)n+="<th>",n+=t[r],n+="</th>";n+="</trow>",n+="</thead>"}n+="<tbody>";for(var a=0;a<e.length;a++){n+="<tr>";for(var l=0;l<e[a].length;l++)n+="<td>",n+=e[a][l],n+="</td>";n+="</tr>"}return n+="</tbody>",n+="</table>"};e.htmlTable=s;var d=function(e,t){for(var n,r=[],a=new RegExp(e,"g");null!==(n=a.exec(t));)r.push([n.index,n.index+n[0].length-1]);return r};e.regexRanges=d;var c=function(e,t){var n=0;t||(t=function(e){return e});for(var r=0;r<e.length;r++)n+=t(e[r]);return n};e.sumArray=c;var u=function(e,t,n){var r;return n&&(e-=1),r=e>=t.length?t[t.length-1]:t[e],n&&(r+=1),r};e.transformIndex=u;var p=function(e,n){var r=t(e,2),a=r[0],l=r[1],i=t(n,2),o=i[0],s=i[1];if(o>a||a>s)throw"invalid start position";if(o>l||l>s)throw"invalid stop position";if(a>=l)throw"invalid range"};e.checkRange=p;var m=function(e,t){for(var n=0;n<e.length;n++)p(e[n],t)};e.checkRanges=m;var h=function(e){if(0>e)throw"invalid index";return e+1};e.oneIndex=h;var f=function(e){if(1>e)throw"invalid index";return e-1};e.zeroIndex=f;var g=function(e,t,n){var r=e[0],a=e[e.length-1],l=_.range(Math.ceil(r/n)*n,1+Math.floor(a/n)*n,n);return 0===l[0]&&(l[0]=1),l=l.map(function(e){return f(e)}),l[0]!==r&&l.unshift(r),l[l.length-1]!==a&&l.push(a),l.map(function(e){return t[e]})};e.alignmentTicks=g;var v=function(e,t){for(var n=new Array(t),r=new Array(t),a=-1,l=0;l<e.length;l++){var i=e[l];if(r[i]=l,i!==a&&(n[i]=l),a>-1)for(var o=a+1;i>o;o++)n[o]=l,r[o]=l-1;a=i}return[n,r]};e.refToAlnCoords=v;var b=function(e,t){return t in e?e[t]:t};e.mapIfPresent=b;var x=function(e,t,n){for(var r=0;r<t.length-1;r++){var a=t[r];a in e||(e[a]={}),e=e[a]}e[t[t.length-1]]=n};e.insertNested=x}),define("flea-app/config/environment",["ember"],function(e){var t="flea-app";try{var n=t+"/config/environment",r=e["default"].$('meta[name="'+n+'"]').attr("content"),a=JSON.parse(unescape(r));return{"default":a}}catch(l){throw new Error('Could not read config from meta tag with name "'+n+'".')}}),runningTests||require("flea-app/app")["default"].create({name:"flea-app",version:"0.0.0+bcf365f9"});